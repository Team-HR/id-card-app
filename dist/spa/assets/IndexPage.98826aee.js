import{u as an,f as sn,Q as Hn,d as zn}from"./QItem.aadfa448.js";import{Q as Xe,g as Vn,c as jn,a as Ct}from"./QList.6da1657e.js";import{c as ot,M as qn,N as Wn,h as it,j as Ze,q as pt,g as dn,x as ie,O as re,D as O,F as E,P as pe,A as U,C as Ce,B as It,r as ln,w as cn,z as W,R as un,S as pn,T as et,U as Kn,V as Jn,W as Gn,K as Qn,X as _t,Y as fe,Z as Yn,_ as Lt,y as Xn,$ as Zn}from"./index.11649280.js";import{Q as oe,_ as Le,u as eo,a as to}from"./AutocompleteInput.2383530b.js";import{Q as no}from"./QPage.7178f0cc.js";const oo='<circle cx="15" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="60" cy="15" r="9" fill-opacity=".3"><animate attributeName="r" from="9" to="9" begin="0s" dur="0.8s" values="9;15;9" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from=".5" to=".5" begin="0s" dur="0.8s" values=".5;1;.5" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="105" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle>';var io=ot({name:"QSpinnerDots",props:qn,setup(e){const{cSize:t,classes:n}=Wn(e);return()=>it("svg",{class:n.value,fill:"currentColor",width:t.value,height:t.value,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",innerHTML:oo})}}),tt=ot({name:"QCard",props:{...an,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=dn(),o=sn(e,n),r=Ze(()=>"q-card"+(o.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>it(e.tag,{class:r.value},pt(t.default))}});const ro=["text","rect","circle","QBtn","QBadge","QChip","QToolbar","QCheckbox","QRadio","QToggle","QSlider","QRange","QInput","QAvatar"],ao=["wave","pulse","pulse-x","pulse-y","fade","blink","none"];var fn=ot({name:"QSkeleton",props:{...an,tag:{type:String,default:"div"},type:{type:String,validator:e=>ro.includes(e),default:"rect"},animation:{type:String,validator:e=>ao.includes(e),default:"wave"},animationSpeed:{type:[String,Number],default:1500},square:Boolean,bordered:Boolean,size:String,width:String,height:String},setup(e,{slots:t}){const n=dn(),o=sn(e,n.proxy.$q),r=Ze(()=>{const f=e.size!==void 0?[e.size,e.size]:[e.width,e.height];return{"--q-skeleton-speed":`${e.animationSpeed}ms`,width:f[0],height:f[1]}}),d=Ze(()=>`q-skeleton q-skeleton--${o.value===!0?"dark":"light"} q-skeleton--type-${e.type}`+(e.animation!=="none"?` q-skeleton--anim q-skeleton--anim-${e.animation}`:"")+(e.square===!0?" q-skeleton--square":"")+(e.bordered===!0?" q-skeleton--bordered":""));return()=>it(e.tag,{class:d.value,style:r.value},pt(t.default))}});const so={id:"IdCardFront",class:"front-id",style:{"background-color":"white",width:"640px",height:"1014px","font-size":"22pt",position:"absolute","background-image":"url(/images/REG_ID_Front_Temp.jpg)","background-position":"center center","background-repeat":"no-repeat","background-size":"contain",transform:"scale(0.5)",top:"-200px",left:"-142px"}},lo={key:0,style:{"writing-mode":"vertical-rl","text-orientation":"upright",position:"absolute",top:"130px",left:"6px","font-size":"26.05pt",color:"white","font-weight":"500","text-shadow":"0px 2px 2px black"}},co={key:1,style:{"writing-mode":"vertical-rl","text-orientation":"upright",position:"absolute",top:"175px",left:"6px","font-size":"26.05pt",color:"white","font-weight":"500","text-shadow":"0px 2px 2px black"}},uo={key:2,style:{"writing-mode":"vertical-rl","text-orientation":"upright",position:"absolute",top:"151px",left:"6px","font-size":"26.05pt",color:"white","font-weight":"500","text-shadow":"0px 2px 2px black"}},po={style:{width:"373px",height:"373px","border-radius":"100%",position:"absolute",top:"160px",left:"159px",overflow:"hidden"}},fo=["hidden","src"],ho={style:{"text-align":"left",position:"absolute",top:"145mm",left:"45mm","font-size":"22pt","font-weight":"500"}},mo=["hidden"],$t=Object.assign({name:"IdCardFront",data(){return{imageIsLoading:"loaded",imgSrcFromServer:null}},watch:{"details.employees_id"(e,t){e&&this.$nextTick(()=>{this.getPhoto()})},timestamp(e){e&&(this.imageIsLoading="loading",this.$nextTick(()=>{this.getPhoto()}))}},methods:{getPhoto(){this.imageIsLoading="loading",this.imgSrcFromServer="#",this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{getPhoto:!0,employees_id:this.details.employees_id}).then(({data:e})=>{this.imgSrcFromServer=e,this.imageIsLoading="loaded"}).catch(e=>{console.error(e)})}}},{__name:"IdCardFront",props:{details:{type:Object,required:!0},timestamp:{type:Number,required:!0},textFormat:{type:Object,required:!0},photoFormat:{type:Object,required:!0}},setup(e){return(t,n)=>(ie(),re("div",so,[e.details.employmentStatus&&e.details.employmentStatus=="COTERMINUS"?(ie(),re("div",lo,O(e.details.employmentStatus?`${e.details.employmentStatus} EMPLOYEE`:""),1)):e.details.employmentStatus&&e.details.employmentStatus=="ELECTIVE"?(ie(),re("div",co,O(e.details.employmentStatus?`${e.details.employmentStatus} OFFICIAL`:""),1)):(ie(),re("div",uo,O(e.details.employmentStatus?`${e.details.employmentStatus} EMPLOYEE`:""),1)),E("div",po,[E("img",{hidden:t.imageIsLoading=="loading",onLoad:n[0]||(n[0]=o=>t.imageIsLoading="loaded"),src:t.imgSrcFromServer,style:pe([{position:"relative"},`bottom:${e.photoFormat.top*2}mm; right: ${e.photoFormat.left*2}mm; width: ${e.photoFormat.scale*2.06}mm;`])},null,44,fo),U(fn,{style:{width:"550px",height:"588px"},hidden:t.imageIsLoading=="loaded"},null,8,["hidden"])]),E("div",ho,[n[1]||(n[1]=E("b",null,"EMPLOYEE NO.",-1)),Ce(" "+O(e.details.empno?`${e.details.empno.substr(0,1)}-${e.details.empno.substr(-4,4)}`:"_ - ____"),1)]),E("div",{style:pe([`font-size:${e.textFormat.lastName.font_size*2.05}px; bottom: ${e.textFormat.lastName.bottom*2.15}px;
        left: ${e.textFormat.lastName.left*2}px; `,{width:"100%","text-align":"left","font-weight":"500",position:"absolute"}])},O(e.details.lastName)+O(e.details.extName?", "+e.details.extName:""),5),E("div",{style:pe([{width:"100%","text-align":"left","font-weight":"700",position:"absolute"},`font-size:${e.textFormat.firstName.font_size*2.05}px; bottom: ${e.textFormat.firstName.bottom*2.15}px;
        left: ${e.textFormat.firstName.left*2}px; line-height: ${e.textFormat.firstName.line_height*2}px;`])},O(e.details.firstName)+" "+O(e.details.middleName?e.details.middleName[0]+". ":""),5),E("div",{style:pe([{width:"539px","text-align":"left","font-stretch":"ultra-expanded",position:"absolute"},`font-size:${e.textFormat.position.font_size*2.05}px; bottom: ${e.textFormat.position.bottom*2.23}px;
        left: ${e.textFormat.position.left*2}px; line-height: ${e.textFormat.position.line_height*2}px;`])},O(e.details.position),5),E("div",{hidden:!e.details.lastName,style:pe([{width:"539px","text-align":"left","font-stretch":"ultra-expanded",position:"absolute"},`bottom: ${e.textFormat.horizontalLine.bottom*2.23}px; left: ${e.textFormat.horizontalLine.left*2}px;`])},n[2]||(n[2]=[E("hr",{style:{width:"90%",height:"3px","background-color":"black",border:"none",margin:"0"}},null,-1)]),12,mo),E("div",{style:pe([{width:"539px","text-align":"left","font-stretch":"ultra-expanded",position:"absolute"},`font-size:${e.textFormat.department.font_size*2.05}px; bottom: ${e.textFormat.department.bottom*2.23}px;
        left: ${e.textFormat.department.left*2}px; line-height: ${e.textFormat.department.line_height*2}px;`])},O(e.details.department),5),E("div",{style:pe([{width:"539px","text-align":"left","font-stretch":"ultra-expanded",position:"absolute"},`font-size:${e.textFormat.section.font_size*2.05}px; bottom: ${e.textFormat.section.bottom*2.23}px;
        left: ${e.textFormat.section.left*2}px; line-height: ${e.textFormat.section.line_height*2}px;`])},O(e.details.section),5)]))}}),go={id:"IdCardFrontV2",class:"front-id",style:{"background-color":"white",width:"640px",height:"1014px","font-size":"22pt",position:"relative","background-image":"url('/images/REG_ID_Front_Temp.jpg')","background-position":"center","background-repeat":"no-repeat","background-size":"contain"}},yo={key:0,style:{"writing-mode":"vertical-rl","text-orientation":"upright",position:"absolute",top:"130px",left:"6px","font-size":"26.05pt",color:"white","font-weight":"500","text-shadow":"0px 2px 2px black"}},So={key:1,style:{"writing-mode":"vertical-rl","text-orientation":"upright",position:"absolute",top:"175px",left:"6px","font-size":"26.05pt",color:"white","font-weight":"500","text-shadow":"0px 2px 2px black"}},vo={key:2,style:{"writing-mode":"vertical-rl","text-orientation":"upright",position:"absolute",top:"151px",left:"6px","font-size":"26.05pt",color:"white","font-weight":"500","text-shadow":"0px 2px 2px black"}},wo={style:{width:"373px",height:"373px","border-radius":"100%",position:"absolute",top:"160px",left:"159px",overflow:"hidden"}},bo=["hidden","src"],To={style:{"text-align":"left",position:"absolute",top:"145mm",left:"45mm","font-size":"22pt","font-weight":"500"}},xo=["hidden"],Ht=Object.assign({name:"IdCardFront",data(){return{imageIsLoading:"loaded",imgSrcFromServer:null}},watch:{"details.employees_id"(e,t){e&&this.$nextTick(()=>{this.getPhoto()})},timestamp(e){e&&(this.imageIsLoading="loading",this.$nextTick(()=>{this.getPhoto()}))}},methods:{getPhoto(){this.imageIsLoading="loading",this.imgSrcFromServer="#",this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{getPhoto:!0,employees_id:this.details.employees_id}).then(({data:e})=>{this.imgSrcFromServer=e,this.imageIsLoading="loaded"}).catch(e=>{console.error(e)})}}},{__name:"IdCardFrontV2",props:{details:{type:Object,required:!0},timestamp:{type:Number,required:!0},textFormat:{type:Object,required:!0},photoFormat:{type:Object,required:!0}},setup(e){return(t,n)=>(ie(),re("div",go,[e.details.employmentStatus&&e.details.employmentStatus=="COTERMINUS"?(ie(),re("div",yo,O(e.details.employmentStatus?`${e.details.employmentStatus} EMPLOYEE`:""),1)):e.details.employmentStatus&&e.details.employmentStatus=="ELECTIVE"?(ie(),re("div",So,O(e.details.employmentStatus?`${e.details.employmentStatus} OFFICIAL`:""),1)):(ie(),re("div",vo,O(e.details.employmentStatus?`${e.details.employmentStatus} EMPLOYEE`:""),1)),E("div",wo,[t.imgSrcFromServer?(ie(),re("img",{key:0,hidden:t.imageIsLoading=="loading",onLoad:n[0]||(n[0]=o=>t.imageIsLoading="loaded"),src:t.imgSrcFromServer,style:pe([{position:"relative"},`bottom:${e.photoFormat.top*2}mm; right: ${e.photoFormat.left*2}mm; width: ${e.photoFormat.scale*2.06}mm;`])},null,44,bo)):It("",!0),U(fn,{style:{width:"250px",height:"188px"},hidden:t.imageIsLoading=="loaded"},null,8,["hidden"])]),E("div",To,[n[1]||(n[1]=E("b",null,"EMPLOYEE NO.",-1)),Ce(" "+O(e.details.empno?`${e.details.empno.substr(0,1)}-${e.details.empno.substr(-4,4)}`:"_ - ____"),1)]),E("div",{style:pe([`font-size:${e.textFormat.lastName.font_size*2.05}px; bottom: ${e.textFormat.lastName.bottom*2.15}px;
        left: ${e.textFormat.lastName.left*2}px; `,{width:"100%","text-align":"left","font-weight":"500",position:"absolute"}])},O(e.details.lastName)+O(e.details.extName?", "+e.details.extName:""),5),E("div",{style:pe([{width:"100%","text-align":"left","font-weight":"700",position:"absolute"},`font-size:${e.textFormat.firstName.font_size*2.05}px; bottom: ${e.textFormat.firstName.bottom*2.15}px;
        left: ${e.textFormat.firstName.left*2}px; line-height: ${e.textFormat.firstName.line_height*2}px;`])},O(e.details.firstName)+" "+O(e.details.middleName?e.details.middleName[0]+". ":""),5),E("div",{style:pe([{width:"539px","text-align":"left","font-stretch":"ultra-expanded",position:"absolute"},`font-size:${e.textFormat.position.font_size*2.05}px; bottom: ${e.textFormat.position.bottom*2.23}px;
        left: ${e.textFormat.position.left*2}px; line-height: ${e.textFormat.position.line_height*2}px;`])},O(e.details.position),5),E("div",{hidden:!e.details.lastName,style:pe([{width:"539px","text-align":"left","font-stretch":"ultra-expanded",position:"absolute"},`bottom: ${e.textFormat.horizontalLine.bottom*2.23}px; left: ${e.textFormat.horizontalLine.left*2}px;`])},n[2]||(n[2]=[E("hr",{style:{width:"90%",height:"3px","background-color":"black",border:"none",margin:"0"}},null,-1)]),12,xo),E("div",{style:pe([{width:"539px","text-align":"left","font-stretch":"ultra-expanded",position:"absolute"},`font-size:${e.textFormat.department.font_size*2.05}px; bottom: ${e.textFormat.department.bottom*2.23}px;
        left: ${e.textFormat.department.left*2}px; line-height: ${e.textFormat.department.line_height*2}px;`])},O(e.details.department),5),E("div",{style:pe([{width:"539px","text-align":"left","font-stretch":"ultra-expanded",position:"absolute"},`font-size:${e.textFormat.section.font_size*2.05}px; bottom: ${e.textFormat.section.bottom*2.23}px;
        left: ${e.textFormat.section.left*2}px; line-height: ${e.textFormat.section.line_height*2}px;`])},O(e.details.section),5)]))}});var je=ot({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const n=Ze(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>it(e.tag,{class:n.value},pt(t.default))}}),hn="/assets/get_sig.0d2f964a.png";/*!
 *
 * Copyright 2009-2012 Kris Kowal under the terms of the MIT
 * license found at http://github.com/kriskowal/q/raw/master/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */(function(e){if(typeof bootstrap=="function")bootstrap("promise",e);else if(typeof exports=="object"&&typeof module=="object")module.exports=e();else if(typeof define=="function"&&define.amd)define(e);else if(typeof ses!="undefined")if(ses.ok())ses.makeQ=e;else return;else if(typeof window!="undefined"||typeof self!="undefined"){var t=typeof window!="undefined"?window:self,n=t.Q;t.Q=e(),t.Q.noConflict=function(){return t.Q=n,this}}else throw new Error("This environment was not anticipated by Q. Please file a bug.")})(function(){var e=!1;try{throw new Error}catch(c){e=!!c.stack}var t=V(),n,o=function(){},r=function(){var c={task:void 0,next:null},m=c,w=!1,D=void 0,$=!1,j=[];function L(){for(var Z,ue;c.next;)c=c.next,Z=c.task,c.task=void 0,ue=c.domain,ue&&(c.domain=void 0,ue.enter()),Y(Z,ue);for(;j.length;)Z=j.pop(),Y(Z);w=!1}function Y(Z,ue){try{Z()}catch(Qe){if($)throw ue&&ue.exit(),setTimeout(L,0),ue&&ue.enter(),Qe;setTimeout(function(){throw Qe},0)}ue&&ue.exit()}if(r=function(Z){m=m.next={task:Z,domain:$&&process.domain,next:null},w||(w=!0,D())},typeof process=="object"&&process.toString()==="[object process]"&&process.nextTick)$=!0,D=function(){process.nextTick(L)};else if(typeof setImmediate=="function")typeof window!="undefined"?D=setImmediate.bind(window,L):D=function(){setImmediate(L)};else if(typeof MessageChannel!="undefined"){var J=new MessageChannel;J.port1.onmessage=function(){D=G,J.port1.onmessage=L,L()};var G=function(){J.port2.postMessage(0)};D=function(){setTimeout(L,0),G()}}else D=function(){setTimeout(L,0)};return r.runAfter=function(Z){j.push(Z),w||(w=!0,D())},r}(),d=Function.call;function f(c){return function(){return d.apply(c,arguments)}}var h=f(Array.prototype.slice),S=f(Array.prototype.reduce||function(c,m){var w=0,D=this.length;if(arguments.length===1)do{if(w in this){m=this[w++];break}if(++w>=D)throw new TypeError}while(1);for(;w<D;w++)w in this&&(m=c(m,this[w],w));return m}),_=f(Array.prototype.indexOf||function(c){for(var m=0;m<this.length;m++)if(this[m]===c)return m;return-1}),k=f(Array.prototype.map||function(c,m){var w=this,D=[];return S(w,function($,j,L){D.push(c.call(m,j,L,w))},void 0),D}),H=Object.create||function(c){function m(){}return m.prototype=c,new m},a=f(Object.prototype.hasOwnProperty),i=Object.keys||function(c){var m=[];for(var w in c)a(c,w)&&m.push(w);return m},u=f(Object.prototype.toString);function s(c){return c===Object(c)}function p(c){return u(c)==="[object StopIteration]"||c instanceof y}var y;typeof ReturnValue!="undefined"?y=ReturnValue:y=function(c){this.value=c};var g="From previous event:";function C(c,m){if(e&&m.stack&&typeof c=="object"&&c!==null&&c.stack&&c.stack.indexOf(g)===-1){for(var w=[],D=m;D;D=D.source)D.stack&&w.unshift(D.stack);w.unshift(c.stack);var $=w.join(`
`+g+`
`);c.stack=I($)}}function I(c){for(var m=c.split(`
`),w=[],D=0;D<m.length;++D){var $=m[D];!z($)&&!R($)&&$&&w.push($)}return w.join(`
`)}function R(c){return c.indexOf("(module.js:")!==-1||c.indexOf("(node.js:")!==-1}function A(c){var m=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(c);if(m)return[m[1],Number(m[2])];var w=/at ([^ ]+):(\d+):(?:\d+)$/.exec(c);if(w)return[w[1],Number(w[2])];var D=/.*@(.+):(\d+)$/.exec(c);if(D)return[D[1],Number(D[2])]}function z(c){var m=A(c);if(!m)return!1;var w=m[0],D=m[1];return w===n&&D>=t&&D<=ye}function V(){if(!!e)try{throw new Error}catch(D){var c=D.stack.split(`
`),m=c[0].indexOf("@")>0?c[1]:c[2],w=A(m);return w?(n=w[0],w[1]):void 0}}function K(c,m,w){return function(){return typeof console!="undefined"&&typeof console.warn=="function"&&console.warn(m+" is deprecated, use "+w+" instead.",new Error("").stack),c.apply(c,arguments)}}function v(c){return c instanceof B?c:Ue(c)?Te(c):De(c)}v.resolve=v,v.nextTick=r,v.longStackSupport=!1,typeof process=="object"&&process&&process.env&&{}.Q_DEBUG&&(v.longStackSupport=!0),v.defer=M;function M(){var c=[],m=[],w,D=H(M.prototype),$=H(B.prototype);if($.promiseDispatch=function(L,Y,J){var G=h(arguments);c?(c.push(G),Y==="when"&&J[1]&&m.push(J[1])):v.nextTick(function(){w.promiseDispatch.apply(w,G)})},$.valueOf=function(){if(c)return $;var L=Re(w);return se(L)&&(w=L),L},$.inspect=function(){return w?w.inspect():{state:"pending"}},v.longStackSupport&&e)try{throw new Error}catch(L){$.stack=L.stack.substring(L.stack.indexOf(`
`)+1)}function j(L){w=L,$.source=L,S(c,function(Y,J){v.nextTick(function(){L.promiseDispatch.apply(L,J)})},void 0),c=void 0,m=void 0}return D.promise=$,D.resolve=function(L){w||j(v(L))},D.fulfill=function(L){w||j(De(L))},D.reject=function(L){w||j(X(L))},D.notify=function(L){w||S(m,function(Y,J){v.nextTick(function(){J(L)})},void 0)},D}M.prototype.makeNodeResolver=function(){var c=this;return function(m,w){m?c.reject(m):arguments.length>2?c.resolve(h(arguments,1)):c.resolve(w)}},v.Promise=ee,v.promise=ee;function ee(c){if(typeof c!="function")throw new TypeError("resolver must be a function.");var m=M();try{c(m.resolve,m.reject,m.notify)}catch(w){m.reject(w)}return m.promise}ee.race=ne,ee.all=N,ee.reject=X,ee.resolve=v,v.passByCopy=function(c){return c},B.prototype.passByCopy=function(){return this},v.join=function(c,m){return v(c).join(m)},B.prototype.join=function(c){return v([this,c]).spread(function(m,w){if(m===w)return m;throw new Error("Q can't join: not the same: "+m+" "+w)})},v.race=ne;function ne(c){return ee(function(m,w){for(var D=0,$=c.length;D<$;D++)v(c[D]).then(m,w)})}B.prototype.race=function(){return this.then(v.race)},v.makePromise=B;function B(c,m,w){m===void 0&&(m=function(j){return X(new Error("Promise does not support operation: "+j))}),w===void 0&&(w=function(){return{state:"unknown"}});var D=H(B.prototype);if(D.promiseDispatch=function(j,L,Y){var J;try{c[L]?J=c[L].apply(D,Y):J=m.call(D,L,Y)}catch(G){J=X(G)}j&&j(J)},D.inspect=w,w){var $=w();$.state==="rejected"&&(D.exception=$.reason),D.valueOf=function(){var j=w();return j.state==="pending"||j.state==="rejected"?D:j.value}}return D}B.prototype.toString=function(){return"[object Promise]"},B.prototype.then=function(c,m,w){var D=this,$=M(),j=!1;function L(G){try{return typeof c=="function"?c(G):G}catch(Z){return X(Z)}}function Y(G){if(typeof m=="function"){C(G,D);try{return m(G)}catch(Z){return X(Z)}}return X(G)}function J(G){return typeof w=="function"?w(G):G}return v.nextTick(function(){D.promiseDispatch(function(G){j||(j=!0,$.resolve(L(G)))},"when",[function(G){j||(j=!0,$.resolve(Y(G)))}])}),D.promiseDispatch(void 0,"when",[void 0,function(G){var Z,ue=!1;try{Z=J(G)}catch(Qe){if(ue=!0,v.onerror)v.onerror(Qe);else throw Qe}ue||$.notify(Z)}]),$.promise},v.tap=function(c,m){return v(c).tap(m)},B.prototype.tap=function(c){return c=v(c),this.then(function(m){return c.fcall(m).thenResolve(m)})},v.when=te;function te(c,m,w,D){return v(c).then(m,w,D)}B.prototype.thenResolve=function(c){return this.then(function(){return c})},v.thenResolve=function(c,m){return v(c).thenResolve(m)},B.prototype.thenReject=function(c){return this.then(function(){throw c})},v.thenReject=function(c,m){return v(c).thenReject(m)},v.nearer=Re;function Re(c){if(se(c)){var m=c.inspect();if(m.state==="fulfilled")return m.value}return c}v.isPromise=se;function se(c){return c instanceof B}v.isPromiseAlike=Ue;function Ue(c){return s(c)&&typeof c.then=="function"}v.isPending=we;function we(c){return se(c)&&c.inspect().state==="pending"}B.prototype.isPending=function(){return this.inspect().state==="pending"},v.isFulfilled=Me;function Me(c){return!se(c)||c.inspect().state==="fulfilled"}B.prototype.isFulfilled=function(){return this.inspect().state==="fulfilled"},v.isRejected=Ie;function Ie(c){return se(c)&&c.inspect().state==="rejected"}B.prototype.isRejected=function(){return this.inspect().state==="rejected"};var me=[],de=[],_e=[],le=!0;function be(){me.length=0,de.length=0,le||(le=!0)}function Pe(c,m){!le||(typeof process=="object"&&typeof process.emit=="function"&&v.nextTick.runAfter(function(){_(de,c)!==-1&&(process.emit("unhandledRejection",m,c),_e.push(c))}),de.push(c),m&&typeof m.stack!="undefined"?me.push(m.stack):me.push("(no stack) "+m))}function Be(c){if(!!le){var m=_(de,c);m!==-1&&(typeof process=="object"&&typeof process.emit=="function"&&v.nextTick.runAfter(function(){var w=_(_e,c);w!==-1&&(process.emit("rejectionHandled",me[m],c),_e.splice(w,1))}),de.splice(m,1),me.splice(m,1))}}v.resetUnhandledRejections=be,v.getUnhandledReasons=function(){return me.slice()},v.stopUnhandledRejectionTracking=function(){be(),le=!1},be(),v.reject=X;function X(c){var m=B({when:function(w){return w&&Be(this),w?w(c):this}},function(){return this},function(){return{state:"rejected",reason:c}});return Pe(m,c),m}v.fulfill=De;function De(c){return B({when:function(){return c},get:function(m){return c[m]},set:function(m,w){c[m]=w},delete:function(m){delete c[m]},post:function(m,w){return m==null?c.apply(void 0,w):c[m].apply(c,w)},apply:function(m,w){return c.apply(m,w)},keys:function(){return i(c)}},void 0,function(){return{state:"fulfilled",value:c}})}function Te(c){var m=M();return v.nextTick(function(){try{c.then(m.resolve,m.reject,m.notify)}catch(w){m.reject(w)}}),m.promise}v.master=ce;function ce(c){return B({isDef:function(){}},function(w,D){return P(c,w,D)},function(){return v(c).inspect()})}v.spread=Ne;function Ne(c,m,w){return v(c).spread(m,w)}B.prototype.spread=function(c,m){return this.all().then(function(w){return c.apply(void 0,w)},m)},v.async=xe;function xe(c){return function(){function m(j,L){var Y;if(typeof StopIteration=="undefined"){try{Y=w[j](L)}catch(J){return X(J)}return Y.done?v(Y.value):te(Y.value,D,$)}else{try{Y=w[j](L)}catch(J){return p(J)?v(J.value):X(J)}return te(Y,D,$)}}var w=c.apply(this,arguments),D=m.bind(m,"next"),$=m.bind(m,"throw");return D()}}v.spawn=ke;function ke(c){v.done(v.async(c)())}v.return=b;function b(c){throw new y(c)}v.promised=x;function x(c){return function(){return Ne([this,N(arguments)],function(m,w){return c.apply(m,w)})}}v.dispatch=P;function P(c,m,w){return v(c).dispatch(m,w)}B.prototype.dispatch=function(c,m){var w=this,D=M();return v.nextTick(function(){w.promiseDispatch(D.resolve,c,m)}),D.promise},v.get=function(c,m){return v(c).dispatch("get",[m])},B.prototype.get=function(c){return this.dispatch("get",[c])},v.set=function(c,m,w){return v(c).dispatch("set",[m,w])},B.prototype.set=function(c,m){return this.dispatch("set",[c,m])},v.del=v.delete=function(c,m){return v(c).dispatch("delete",[m])},B.prototype.del=B.prototype.delete=function(c){return this.dispatch("delete",[c])},v.mapply=v.post=function(c,m,w){return v(c).dispatch("post",[m,w])},B.prototype.mapply=B.prototype.post=function(c,m){return this.dispatch("post",[c,m])},v.send=v.mcall=v.invoke=function(c,m){return v(c).dispatch("post",[m,h(arguments,2)])},B.prototype.send=B.prototype.mcall=B.prototype.invoke=function(c){return this.dispatch("post",[c,h(arguments,1)])},v.fapply=function(c,m){return v(c).dispatch("apply",[void 0,m])},B.prototype.fapply=function(c){return this.dispatch("apply",[void 0,c])},v.try=v.fcall=function(c){return v(c).dispatch("apply",[void 0,h(arguments,1)])},B.prototype.fcall=function(){return this.dispatch("apply",[void 0,h(arguments)])},v.fbind=function(c){var m=v(c),w=h(arguments,1);return function(){return m.dispatch("apply",[this,w.concat(h(arguments))])}},B.prototype.fbind=function(){var c=this,m=h(arguments);return function(){return c.dispatch("apply",[this,m.concat(h(arguments))])}},v.keys=function(c){return v(c).dispatch("keys",[])},B.prototype.keys=function(){return this.dispatch("keys",[])},v.all=N;function N(c){return te(c,function(m){var w=0,D=M();return S(m,function($,j,L){var Y;se(j)&&(Y=j.inspect()).state==="fulfilled"?m[L]=Y.value:(++w,te(j,function(J){m[L]=J,--w===0&&D.resolve(m)},D.reject,function(J){D.notify({index:L,value:J})}))},void 0),w===0&&D.resolve(m),D.promise})}B.prototype.all=function(){return N(this)},v.any=T;function T(c){if(c.length===0)return v.resolve();var m=v.defer(),w=0;return S(c,function(D,$,j){var L=c[j];w++,te(L,Y,J,G);function Y(Z){m.resolve(Z)}function J(){w--,w===0&&m.reject(new Error("Q can't get fulfillment value from any promise, all promises were rejected."))}function G(Z){m.notify({index:j,value:Z})}},void 0),m.promise}B.prototype.any=function(){return T(this)},v.allResolved=K(F,"allResolved","allSettled");function F(c){return te(c,function(m){return m=k(m,v),te(N(k(m,function(w){return te(w,o,o)})),function(){return m})})}B.prototype.allResolved=function(){return F(this)},v.allSettled=q;function q(c){return v(c).allSettled()}B.prototype.allSettled=function(){return this.then(function(c){return N(k(c,function(m){m=v(m);function w(){return m.inspect()}return m.then(w,w)}))})},v.fail=v.catch=function(c,m){return v(c).then(void 0,m)},B.prototype.fail=B.prototype.catch=function(c){return this.then(void 0,c)},v.progress=ae;function ae(c,m){return v(c).then(void 0,void 0,m)}B.prototype.progress=function(c){return this.then(void 0,void 0,c)},v.fin=v.finally=function(c,m){return v(c).finally(m)},B.prototype.fin=B.prototype.finally=function(c){if(!c||typeof c.apply!="function")throw new Error("Q can't apply finally callback");return c=v(c),this.then(function(m){return c.fcall().then(function(){return m})},function(m){return c.fcall().then(function(){throw m})})},v.done=function(c,m,w,D){return v(c).done(m,w,D)},B.prototype.done=function(c,m,w){var D=function(j){v.nextTick(function(){if(C(j,$),v.onerror)v.onerror(j);else throw j})},$=c||m||w?this.then(c,m,w):this;typeof process=="object"&&process&&process.domain&&(D=process.domain.bind(D)),$.then(void 0,D)},v.timeout=function(c,m,w){return v(c).timeout(m,w)},B.prototype.timeout=function(c,m){var w=M(),D=setTimeout(function(){(!m||typeof m=="string")&&(m=new Error(m||"Timed out after "+c+" ms"),m.code="ETIMEDOUT"),w.reject(m)},c);return this.then(function($){clearTimeout(D),w.resolve($)},function($){clearTimeout(D),w.reject($)},w.notify),w.promise},v.delay=function(c,m){return m===void 0&&(m=c,c=void 0),v(c).delay(m)},B.prototype.delay=function(c){return this.then(function(m){var w=M();return setTimeout(function(){w.resolve(m)},c),w.promise})},v.nfapply=function(c,m){return v(c).nfapply(m)},B.prototype.nfapply=function(c){var m=M(),w=h(c);return w.push(m.makeNodeResolver()),this.fapply(w).fail(m.reject),m.promise},v.nfcall=function(c){var m=h(arguments,1);return v(c).nfapply(m)},B.prototype.nfcall=function(){var c=h(arguments),m=M();return c.push(m.makeNodeResolver()),this.fapply(c).fail(m.reject),m.promise},v.nfbind=v.denodeify=function(c){if(c===void 0)throw new Error("Q can't wrap an undefined function");var m=h(arguments,1);return function(){var w=m.concat(h(arguments)),D=M();return w.push(D.makeNodeResolver()),v(c).fapply(w).fail(D.reject),D.promise}},B.prototype.nfbind=B.prototype.denodeify=function(){var c=h(arguments);return c.unshift(this),v.denodeify.apply(void 0,c)},v.nbind=function(c,m){var w=h(arguments,2);return function(){var D=w.concat(h(arguments)),$=M();D.push($.makeNodeResolver());function j(){return c.apply(m,arguments)}return v(j).fapply(D).fail($.reject),$.promise}},B.prototype.nbind=function(){var c=h(arguments,0);return c.unshift(this),v.nbind.apply(void 0,c)},v.nmapply=v.npost=function(c,m,w){return v(c).npost(m,w)},B.prototype.nmapply=B.prototype.npost=function(c,m){var w=h(m||[]),D=M();return w.push(D.makeNodeResolver()),this.dispatch("post",[c,w]).fail(D.reject),D.promise},v.nsend=v.nmcall=v.ninvoke=function(c,m){var w=h(arguments,2),D=M();return w.push(D.makeNodeResolver()),v(c).dispatch("post",[m,w]).fail(D.reject),D.promise},B.prototype.nsend=B.prototype.nmcall=B.prototype.ninvoke=function(c){var m=h(arguments,1),w=M();return m.push(w.makeNodeResolver()),this.dispatch("post",[c,m]).fail(w.reject),w.promise},v.nodeify=ge;function ge(c,m){return v(c).nodeify(m)}B.prototype.nodeify=function(c){if(c)this.then(function(m){v.nextTick(function(){c(null,m)})},function(m){v.nextTick(function(){c(m)})});else return this},v.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var ye=V();return v});var l=l||{};l.STUConstructor=function(){var e,t=65535,n=0,o=0,r={},d={};function f(a){return typeof a!="undefined"}function h(){return n++}function S(){return o++}function _(a){var i=9e3,u=this;f(a)||(a=i),this.onDCAtimeout=null,e=new WebSocket("wss://localhost:"+a.toString()+"/ws"),e.onopen=function(){console.log("connected")},e.onmessage=k,e.onclose=function(){console.log("disconnected"),typeof u.onDCAtimeout=="function"&&u.onDCAtimeout()}}_.prototype.Reinitialize=function(){l.STU=new l.STUConstructor},_.prototype.isServiceReady=function(){return e.readyState==1},_.prototype.isDCAReady=function(){var a=Q.defer();return l.STU.isServiceReady()?(setTimeout(function(){a.promise.isPending()&&(l.STU.isServiceReady()&&l.STU.close(),a.resolve(!1))},1e3),l.STU.getUsbDevices().then(function(i){a.promise.isPending()&&a.resolve(!0)}).fail(function(i){a.promise.isPending()&&a.resolve(!0)})):a.resolve(!1),a.promise},_.prototype.close=function(){e.close()};function k(a){if(typeof a.data!="undefined"&&a.data!=""){var i=JSON.parse(a.data);if(f(i.ticket)&&f(r[i.ticket]))f(i.success)&&i.success==!0&&f(i.data)?r[i.ticket].resolve(i.data):r[i.ticket].reject(new Error(f(i.error)?i.error:"")),delete r[i.ticket];else if(f(i.stream)&&f(d[i.stream])&&f(i.data))d[i.stream].stream(i.data);else throw new Error("websocket invalid message: "+a.data)}else console.log("Unexpected message type "+typeof a+" = "+JSON.stringify(a))}function H(a){for(var i=a.length,u=0;u<i;){var s=u+t<i?"0":"1",p=a.substr(u,t);e.send(s+p),u+=t}}return _.prototype.VendorId={VendorId_Wacom:1386},_.prototype.ProductId={ProductId_500:161,ProductId_300:162,ProductId_520A:163,ProductId_430:164,ProductId_530:165,ProductId_430V:166,ProductId_540:168,ProductId_541:169},_.prototype.ProductId_min=161,_.prototype.ProductId_max=175,_.prototype.send=function(a){var i=Q.defer();try{var u=h();a.ticket=u;var s=JSON.stringify(a);H(s),r[u]=i}catch(p){i.reject(p)}return i.promise},_.prototype.sendNoReturn=function(a){var i=JSON.stringify(a);H(i)},_.prototype.setStream=function(a){var i=S();return d[i]=a,i},_.prototype.removeStream=function(a){delete d[a]},_.prototype.getUsbDevices=function(){return l.STU.send({scope:"WacomGSS.STU.GetUsbDevices",function:"getUsbDevices"})},_.prototype.getTlsDevices=function(){return l.STU.send({scope:"WacomGSS.STU.GetTlsDevices",function:"getTlsDevices"})},_.prototype.isSupportedUsbDevice=function(a,i){return l.STU.send({scope:"WacomGSS.STU.GetUsbDevices",function:"isSupportedUsbDevice",idVendor:a,idProduct:i})},_.prototype.getStringUsbDevice=function(a){function i(u){return("0000"+u.toString(16)).substr(-4)}return i(a.idVendor)+":"+i(a.idProduct)+":"+i(a.bcdDevice)},_.prototype.SerialPort={Type:{Unknown:0,Physical:1,Virtual:2,Remote:3}},_.prototype.getSerialPorts=function(){return l.STU.send({scope:"WacomGSS.STU.GetSerialPorts",function:"getSerialPorts"})},_.prototype.UsbInterface=function(){var a="WacomGSS.STU.UsbInterface",i="";function u(){}return u.prototype.Constructor=function(){return l.STU.send({scope:a,function:"Constructor"}).then(function(s){return i=s.id,s})},u.prototype.connect=function(s,p){return l.STU.send({scope:a,id:i,function:"connect",usbDevice:s,exclusiveLock:p})},u.prototype.toJSON=function(){return{id:i,scope:a}},u.prototype.disconnect=function(){return l.STU.send({scope:a,id:i,function:"disconnect"})},u.prototype.isConnected=function(){return l.STU.send({scope:a,id:i,function:"isConnected"})},u.prototype.queueNotifyAll=function(){return l.STU.send({scope:a,id:i,function:"queueNotifyAll"})},u.prototype.queueSetPredicateAll=function(s){return l.STU.send({scope:a,id:i,function:"queueSetPredicateAll",predicate:s})},u.prototype.get=function(s){return l.STU.send({scope:a,id:i,function:"get_",length:s})},u.prototype.set=function(s){return l.STU.send({scope:a,id:i,function:"set",base64Data:s})},u.prototype.supportsWrite=function(){return l.STU.send({scope:a,id:i,function:"supportsWrite"})},u.prototype.write=function(s){return l.STU.send({scope:a,id:i,function:"write",base64Data:s})},u.prototype.getReportCountLengths=function(){return l.STU.send({scope:a,id:i,function:"getReportCountLengths"})},u.prototype.getProductId=function(){return l.STU.send({scope:a,id:i,function:"getProductId"})},u}(),_.prototype.Protocol=function(){var a="WacomGSS.STU.Protocol",i="",u={};function s(){}return s.prototype.PenDataOptionMode={PenDataOptionMode_None:0,PenDataOptionMode_TimeCount:1,PenDataOptionMode_SequenceNumber:2,PenDataOptionMode_TimeCountSequence:3},s.prototype.InkingMode={InkingMode_Off:0,InkingMode_On:1},s.prototype.ReportId={ReportId_PenData:1,ReportId_Status:3,ReportId_Reset:4,ReportId_HidInformation:6,ReportId_Information:8,ReportId_Capability:9,ReportId_Uid:10,ReportId_Uid2:11,ReportId_DefaultMode:12,ReportId_ReportRate:13,ReportId_RenderingMode:14,ReportId_Eserial:15,ReportId_PenDataEncrypted:16,ReportId_HostPublicKey:19,ReportId_DevicePublicKey:20,ReportId_StartCapture:21,ReportId_EndCapture:22,ReportId_DHprime:26,ReportId_DHbase:27,ReportId_ClearScreen:32,ReportId_InkingMode:33,ReportId_InkThreshold:34,ReportId_ClearScreenArea:35,ReportId_StartImageDataArea:36,ReportId_StartImageData:37,ReportId_ImageDataBlock:38,ReportId_EndImageData:39,ReportId_HandwritingThicknessColor:40,ReportId_BackgroundColor:41,ReportId_HandwritingDisplayArea:42,ReportId_BacklightBrightness:43,ReportId_ScreenContrast:44,ReportId_HandwritingThicknessColor24:45,ReportId_BackgroundColor24:46,ReportId_BootScreen:47,ReportId_PenDataOption:48,ReportId_PenDataEncryptedOption:49,ReportId_PenDataOptionMode:50,ReportId_PenDataTimeCountSequenceEncrypted:51,ReportId_PenDataTimeCountSequence:52,ReportId_EncryptionCommand:64,ReportId_EncryptionStatus:80,ReportId_GetReport:128,ReportId_SetResult:129,ReportId_PinPadData:144,ReportId_PinPadDataEncrypted:145,ReportId_PinOperationMode:146,ReportId_OperationMode:147,ReportId_RomStartImageData:148,ReportId_RomImageOccupancy:149,ReportId_RomImageHash:150,ReportId_RomImageDelete:151,ReportId_CurrentImageArea:152,ReportId_EventData:153,ReportId_EventDataEncrypted:154,ReportId_RomImageDisplay:155,ReportId_ReportSizeCollection:255,Decrypt:256,SigCaptX_Decrypt:256,SigCaptX_TabletDisconnected:257},s.prototype.DefaultMode={DefaultMode_HID:1,DefaultMode_Serial:2},s.prototype.StatusCode={StatusCode_Ready:0,StatusCode_Image:1,StatusCode_Capture:2,StatusCode_Calculation:3,StatusCode_Image_Boot:4,StatusCode_RomBusy:5,StatusCode_SystemReset:255},s.prototype.ErrorCode={ErrorCode_None:0,ErrorCode_WrongReportId:1,ErrorCode_WrongState:2,ErrorCode_CRC:3,ErrorCode_GraphicsWrongEncodingType:16,ErrorCode_GraphicsImageTooLong:17,ErrorCode_GraphicsZlibError:18,ErrorCode_GraphicsWrongParameters:21,ErrorCode_PadNotExist:32,ErrorCode_RomSizeOverflow:51,ErrorCode_RomInvalidParameter:52,ErrorCode_RomErrorCRC:53},s.prototype.Rectangle={upperLeftXpixel:0,upperLeftYpixel:0,lowerRightXpixel:0,lowerRightYpixel:0},s.prototype.InkThreshold={onPressureMark:0,offPressureMark:0},s.prototype.HandwritingThicknessColor={penColor:0,penThickness:0},s.prototype.HandwritingThicknessColor24={penColor:0,penThickness:0},s.prototype.EncryptionCommandNumber={EncryptionCommandNumber_SetEncryptionType:1,EncryptionCommandNumber_SetParameterBlock:2,EncryptionCommandNumber_GetStatusBlock:3,EncryptionCommandNumber_GetParameterBlock:4,EncryptionCommandNumber_GenerateSymmetricKey:5},s.prototype.EncodingMode={EncodingMode_1bit:0,EncodingMode_1bit_Zlib:1,EncodingMode_16bit:2,EncodingMode_24bit:4,EncodingMode_1bit_Bulk:16,EncodingMode_16bit_Bulk:18,EncodingMode_24bit_Bulk:20},s.prototype.EndImageDataFlag={EndImageDataFlag_Commit:0,EndImageDataFlag_Abandon:1},s.prototype.ResetFlag={ResetFlag_Software:0,ResetFlag_Hardware:1},s.prototype.EncodingFlag={EncodingFlag_Zlib:1,EncodingFlag_1bit:2,EncodingFlag_16bit:4,EncodingFlag_24bit:8},s.prototype.StatusCodeRSA={StatusCodeRSA_Ready:0,StatusCodeRSA_Calculating:250,StatusCodeRSA_Even:251,StatusCodeRSA_Long:252,StatusCodeRSA_Short:253,StatusCodeRSA_Invalid:254,StatusCodeRSA_NotReady:255},s.prototype.ErrorCodeRSA={ErrorCodeRSA_None:0,ErrorCodeRSA_BadParameter:1,ErrorCodeRSA_ParameterTooLong:2,ErrorCodeRSA_PublicKeyNotReady:3,ErrorCodeRSA_PublicExponentNotReady:4,ErrorCodeRSA_SpecifiedKeyInUse:5,ErrorCodeRSA_SpecifiedKeyNotInUse:6,ErrorCodeRSA_BadCommandCode:7,ErrorCodeRSA_CommandPending:8,ErrorCodeRSA_SpecifiedKeyExists:9,ErrorCodeRSA_SpecifiedKeyNotExist:10,ErrorCodeRSA_NotInitialized:11},s.prototype.SymmetricKeyType={SymmetricKeyType_AES128:0,SymmetricKeyType_AES192:1,SymmetricKeyType_AES256:2},s.prototype.AsymmetricKeyType={AsymmetricKeyType_RSA1024:0,AsymmetricKeyType_RSA1536:1,AsymmetricKeyType_RSA2048:2},s.prototype.AsymmetricPaddingType={AsymmetricPaddingType_None:0,AsymmetricPaddingType_PKCS1:1,AsymmetricPaddingType_OAEP:2},s.prototype.AsymmetricPaddingType={EncryptionCommandParameterBlockIndex_RSAe:0,EncryptionCommandParameterBlockIndex_RSAn:1,EncryptionCommandParameterBlockIndex_RSAc:2,EncryptionCommandParameterBlockIndex_RSAm:3},s.prototype.RomImageDeleteMode={RomImageDeleteMode_All:0,RomImageDeleteMode_PinPad_All:1,RomImageDeleteMode_SlideShow_All:2,RomImageDeleteMode_KeyPad_All:3,RomImageDeleteMode_Signature_All:4,RomImageDeleteMode_MessageBox_All:5,RomImageDeleteMode_PinPad_Number:6,RomImageDeleteMode_SlideShow_Number:7,RomImageDeleteMode_KeyPad_Number:8,RomImageDeleteMode_Signature_Number:9,RomImageDeleteMode_MessageBox_Number:10},s.prototype.OperationModeType={OperationModeType_Normal:0,OperationModeType_PinPad:1,OperationModeType_SlideShow:2,OperationModeType_KeyPad:3,OperationModeType_Signature:4,OperationModeType_MessageBox:5},s.prototype.ImageDataBlock_maxLengthHID=253,s.prototype.ImageDataBlock_maxLengthSerial=2557,s.prototype.ImageDataBlock_maxLength540=2557,s.prototype.toJSON=function(){return{id:i,scope:a}},s.prototype.Constructor=function(p){return u=p,l.STU.send({scope:a,function:"Constructor",intf:u.toJSON()}).then(function(y){return i=y.id,y})},s.prototype.getInterface=function(){return u},s.prototype.getInformation=function(){return l.STU.send({scope:a,id:i,function:"getInformation"})},s.prototype.getPenDataOptionMode=function(){return l.STU.send({scope:a,id:i,function:"getPenDataOptionMode"})},s.prototype.setPenDataOptionMode=function(p){return l.STU.send({scope:a,id:i,function:"setPenDataOptionMode",penDataOptionMode:p})},s.prototype.OperationMode_Normal=function(){function p(){this.operationMode=0,this.data=[]}return p}(),s.prototype.OperationMode_PinPad=function(){function p(y,g,C,I,R,A,z){this.operationMode=1,this.data=[],this.data[0]=y,this.data[1]=Number(g),this.data[2]=C,this.data[3]=I,this.data[4]=Number(R),this.data[5]=A,this.data[6]=z}return p}(),s.prototype.OperationMode_SlideShow=function(){function p(y,g,C,I){this.operationMode=2,this.data=[],this.data[0]=y,this.data[1]=g,this.data[2]=(C[0]&15)<<4|C[1]&15,this.data[3]=(C[2]&15)<<4|C[3]&15,this.data[4]=(C[4]&15)<<4|C[5]&15,this.data[5]=(C[6]&15)<<4|C[7]&15,this.data[6]=(C[8]&15)<<4|C[9]&15,this.data[7]=I>>24&255,this.data[8]=I>>16&255,this.data[9]=I>>8&255,this.data[10]=I&255}return p}(),s.prototype.OperationMode_KeyPad=function(){function p(y,g){this.operationMode=3,this.data=[],this.data[0]=y,this.data[1]=g}return p}(),s.prototype.OperationMode_Signature=function(){function p(y,g,C,I){this.operationMode=4,this.data=[],this.data[0]=y,this.data[1]=g[0],this.data[2]=g[1],this.data[3]=g[2],this.data[4]=C}return p}(),s.prototype.setOperationMode=function(p){return l.STU.send({scope:a,id:i,function:"setOperationMode",operationMode:p})},s.prototype.getOperationMode=function(){return l.STU.send({scope:a,id:i,function:"getOperationMode"})},s.prototype.RomStartImageData_PinPad=function(){function p(y,g,C,I,R){this.encodingMode=y,this.operationMode=1,this.imageType=g,this.imageNumber=C,this.data=[I,R,0]}return p}(),s.prototype.RomStartImageData_SlideShow=function(){function p(y,g,C){this.encodingMode=y,this.operationMode=2,this.imageType=g,this.imageNumber=C,this.data=[0,0,0]}return p}(),s.prototype.RomStartImageData_KeyPad=function(){function p(y,g,C,I,R){this.encodingMode=y,this.operationMode=3,this.imageType=g,this.imageNumber=C,this.data=[],this.data[0]=I,this.data[1]=R.length>8&&R[8]?1:0,this.data[2]=(R.length>7&&R[7]?128:0)|(R.length>6&&R[6]?64:0)|(R.length>5&&R[5]?32:0)|(R.length>4&&R[4]?16:0)|(R.length>3&&R[3]?8:0)|(R.length>2&&R[2]?4:0)|(R.length>1&&R[1]?2:0)|(R.length>0&&R[0]?1:0)}return p}(),s.prototype.RomStartImageData_Signature=function(){function p(y,g,C,I){this.encodingMode=y,this.operationMode=4,this.imageType=g,this.imageNumber=C,this.data=[],this.data[0]=(I[2]?4:0)|(I[1]?2:0)|(I[0]?1:0)}return p}(),s.prototype.RomStartImageData_MessageBox=function(){function p(y,g){this.encodingMode=y,this.operationMode=5,this.imageType=!1,this.imageNumber=g,this.data=[0,0,0]}return p}(),s.prototype.setRomStartImageData=function(p){return l.STU.send({scope:a,id:i,function:"setRomStartImageData",romStartImage:p})},s.prototype.setRomImageHash=function(p,y,g){return l.STU.send({scope:a,id:i,function:"setRomImageHash",operationModeType:p,imageType:y,imageNumber:g})},s.prototype.getRomImageHash=function(){return l.STU.send({scope:a,id:i,function:"getRomImageHash"})},s.prototype.setRomImageDelete=function(p,y,g){return l.STU.send({scope:a,id:i,function:"setRomImageDelete",romImageDeleteMode:p,imageType:y,imageNumber:g})},s.prototype.getCurrentImageArea=function(){return l.STU.send({scope:a,id:i,function:"getCurrentImageArea"})},s.prototype.setRomImageDisplay=function(p,y,g){return l.STU.send({scope:a,id:i,function:"setRomImageDisplay",operationModeType:p,imageType:y,imageNumber:g})},s.prototype.getEserial=function(){return l.STU.send({scope:a,id:i,function:"getEserial"})},s.prototype.setClearScreen=function(){return l.STU.send({scope:a,id:i,function:"setClearScreen"})},s.prototype.setInkingMode=function(p){return l.STU.send({scope:a,id:i,function:"setInkingMode",inkingMode:p})},s.prototype.rebind=function(p){var y=p;return l.STU.send({scope:a,id:i,function:"rebind",intf:p.toJSON()}).then(function(g){g===null&&(u=y)})},s.prototype.getStatus=function(){return l.STU.send({scope:a,id:i,function:"getStatus"})},s.prototype.setReset=function(p){return l.STU.send({scope:a,id:i,function:"setReset",flag:p})},s.prototype.getHidInformation=function(){return l.STU.send({scope:a,id:i,function:"getHidInformation"})},s.prototype.getCapability=function(){return l.STU.send({scope:a,id:i,function:"getCapability"})},s.prototype.getUid=function(){return l.STU.send({scope:a,id:i,function:"getUid"})},s.prototype.setUid=function(p){return l.STU.send({scope:a,id:i,function:"setUid",uid:p})},s.prototype.getUid2=function(){return l.STU.send({scope:a,id:i,function:"getUid2"})},s.prototype.setDefaultMode=function(p){return l.STU.send({scope:a,id:i,function:"setDefaultMode",defaultMode:p})},s.prototype.getDefaultMode=function(){return l.STU.send({scope:a,id:i,function:"getDefaultMode"})},s.prototype.getHostPublicKey=function(){return l.STU.send({scope:a,id:i,function:"getHostPublicKey"})},s.prototype.setHostPublicKey=function(p){return l.STU.send({scope:a,id:i,function:"setHostPublicKey",hostPublicKey:p})},s.prototype.getDevicePublicKey=function(){return l.STU.send({scope:a,id:i,function:"getDevicePublicKey"})},s.prototype.setStartCapture=function(p){return l.STU.send({scope:a,id:i,function:"setStartCapture",sessionId:p})},s.prototype.setEndCapture=function(){return l.STU.send({scope:a,id:i,function:"setEndCapture"})},s.prototype.getDHprime=function(){return l.STU.send({scope:a,id:i,function:"getDHprime"})},s.prototype.setDHprime=function(p){return l.STU.send({scope:a,id:i,function:"setDHprime",prime:p})},s.prototype.getDHbase=function(){return l.STU.send({scope:a,id:i,function:"getDHbase"})},s.prototype.setDHbase=function(p){return l.STU.send({scope:a,id:i,function:"setDHbase",base})},s.prototype.setClearScreenArea=function(p){return l.STU.send({scope:a,id:i,function:"setClearScreenArea",area:p})},s.prototype.getInkingMode=function(){return l.STU.send({scope:a,id:i,function:"getInkingMode"})},s.prototype.getInkThreshold=function(){return l.STU.send({scope:a,id:i,function:"getInkThreshold"})},s.prototype.setInkThreshold=function(p){return l.STU.send({scope:a,id:i,function:"setInkThreshold",inkThreshold:p})},s.prototype.setStartImageData=function(p){return l.STU.send({scope:a,id:i,function:"setStartImageData",encodingMode:p})},s.prototype.setStartImageDataArea=function(p,y){return l.STU.send({scope:a,id:i,function:"setStartImageDataArea",encodingMode:p,area:y})},s.prototype.setImageDataBlock=function(p){return l.STU.send({scope:a,id:i,function:"setEndImageData",imageDataBlock:p})},s.prototype.setEndImageData=function(p){return l.STU.send({scope:a,id:i,function:"setEndImageData",endImageDataFlag})},s.prototype.getHandwritingThicknessColor=function(){return l.STU.send({scope:a,id:i,function:"getHandwritingThicknessColor"})},s.prototype.setHandwritingThicknessColor=function(p){return l.STU.send({scope:a,id:i,function:"setHandwritingThicknessColor",handwritingThicknessColor:p})},s.prototype.getHandwritingThicknessColor24=function(){return l.STU.send({scope:a,id:i,function:"getHandwritingThicknessColor24"})},s.prototype.setHandwritingThicknessColor24=function(p){return l.STU.send({scope:a,id:i,function:"setHandwritingThicknessColor24",handwritingThicknessColor24:p})},s.prototype.getBackgroundColor=function(){return l.STU.send({scope:a,id:i,function:"getBackgroundColor"})},s.prototype.setBackgroundColor=function(p){return l.STU.send({scope:a,id:i,function:"setBackgroundColor",backgroundColor:p})},s.prototype.getBackgroundColor24=function(){return l.STU.send({scope:a,id:i,function:"getBackgroundColor24"})},s.prototype.setBackgroundColor24=function(p){return l.STU.send({scope:a,id:i,function:"setBackgroundColor24",backgroundColor24:p})},s.prototype.BootScreenFlag={Disable:0,Enable:1},s.prototype.setBootScreen=function(p){return l.STU.send({scope:a,id:i,function:"setBootScreen",bootScreenFlag:p})},s.prototype.getBootScreen=function(){return l.STU.send({scope:a,id:i,function:"getBootScreen"})},s.prototype.getHandwritingDisplayArea=function(){return l.STU.send({scope:a,id:i,function:"getHandwritingDisplayArea"})},s.prototype.setHandwritingDisplayArea=function(p){return l.STU.send({scope:a,id:i,function:"setHandwritingDisplayArea",handwritingDisplayArea:p})},s.prototype.getBacklightBrightness=function(){return l.STU.send({scope:a,id:i,function:"getBacklightBrightness"})},s.prototype.setBacklightBrightness=function(p){return l.STU.send({scope:a,id:i,function:"setBacklightBrightness",backlightBrightness:p})},s.prototype.getScreenContrast=function(){return l.STU.send({scope:a,id:i,function:"getScreenContrast"})},s.prototype.setScreenContrast=function(p){return l.STU.send({scope:a,id:i,function:"setScreenContrast",screenContrast:p})},s.prototype.getEncryptionStatus=function(){return l.STU.send({scope:a,id:i,function:"getEncryptionStatus"})},s.prototype.EncryptionCommand=function(){var p="WacomGSS.STU.Protocol";function y(C){this.encryptionCommandNumber=C.encryptionCommandNumber,this.parameter=C.parameter,this.lengthOrIndex=C.lengthOrIndex,this.data=C.data}function g(){this.encryptionCommandNumber=0,this.parameter=0,this.lengthOrIndex=0,this.data=[]}return g.prototype.initializeSetEncryptionType=function(C,I,R){return l.STU.send({scope:p,function:"EncryptionCommand_initializeSetEncryptionType",symmetricKeyType:C,asymmetricPaddingType:I,asymmetricKeyType:R}).then(function(A){return y.call(this,A),this})},g.prototype.initializeSetParameterBlock=function(C,I){return l.STU.send({scope:p,function:"EncryptionCommand_initializeSetParameterBlock",index:C,data:I}).then(function(R){return y.call(this,R),this})},g.prototype.initializeGenerateSymmetricKey=function(){return l.STU.send({scope:p,function:"EncryptionCommand_initializeGenerateSymmetricKey"}).then(function(C){return y.call(this,C),this})},g.prototype.initializeGetParameterBlock=function(C,I){return l.STU.send({scope:p,function:"EncryptionCommand_initializeGetParameterBlock"}).then(function(R){return y.call(this,R),this})},g}(),s.prototype.getEncryptionCommand=function(p){return l.STU.send({scope:a,id:i,function:"getEncryptionCommand",encryptionCommandNumber:p})},s.prototype.getReportSizeCollection=function(){return l.STU.send({scope:a,id:i,function:"getReportSizeCollection"})},s.prototype.setReportRate=function(p){return l.STU.send({scope:a,id:i,function:"setReportRate",reportRate:p})},s.prototype.getReportRate=function(){return l.STU.send({scope:a,id:i,function:"getReportRate"})},s.prototype.RenderingMode={RenderingMode_Legacy:0,RenderingMode_WILL:1},s.prototype.setRenderingMode=function(p){return l.STU.send({scope:a,id:i,function:"setRenderingMode",renderingMode:p})},s.prototype.getRenderingMode=function(){return l.STU.send({scope:a,id:i,function:"getRenderingMode"})},s}(),_.prototype.ProtocolHelper={ReportHandler:function(){var a="WacomGSS.STU.ProtocolHelper.ReportHandler",i=null,u=null;function s(){this.onReportPenData=function(p){},this.onReportPenDataOption=function(p){},this.onReportPenDataTimeCountSequence=function(p){},this.onReportPenDataEncrypted=function(p){},this.onReportPenDataEncryptedOption=function(p){},this.onReportPenDataTimeCountSequenceEncrypted=function(p){},this.onReportDevicePublicKey=function(p){},this.onReportEncryptionStatus=function(p){},this.onReportEventDataPinPad=function(p){},this.onReportEventDataKeyPad=function(p){},this.onReportEventDataSignature=function(p){},this.onReportEventDataPinPadEncrypted=function(p){},this.onReportEventDataKeyPadEncrypted=function(p){},this.onReportEventDataSignatureEncrypted=function(p){},this.decrypt=function(p){},this.tabletDisconnected=function(p){},this.stream=function(p){var y=new l.STU.Protocol;switch(p.reportId){case y.ReportId.ReportId_PenData:this.onReportPenData(p);break;case y.ReportId.ReportId_PenDataOption:this.onReportPenDataOption(p);break;case y.ReportId.ReportId_PenDataTimeCountSequence:this.onReportPenDataTimeCountSequence(p);break;case y.ReportId.ReportId_PenDataEncrypted:this.onReportPenDataEncrypted(p);break;case y.ReportId.ReportId_PenDataEncryptedOption:this.onReportPenDataEncryptedOption(p);break;case y.ReportId.ReportId_PenDataTimeCountSequenceEncrypted:this.onReportPenDataTimeCountSequenceEncrypted(p);break;case y.ReportId.ReportId_DevicePublicKey:this.onReportDevicePublicKey(p);break;case y.ReportId.ReportId_EncryptionStatus:this.onReportEncryptionStatus(p);break;case y.ReportId.ReportId_EventData:this.onEventData(y,p);break;case y.ReportId.ReportId_EventDataEncrypted:this.onEventDataEncrypted(y,p);break;case y.ReportId.SigCaptX_Decrypt:this.decrypt(p);break;case y.ReportId.SigCaptX_TabletDisconnected:this.tabletDisconnected(p);break}}}return s.prototype.startReporting=function(p,y){return i=l.STU.setStream(this),l.STU.send({interfaceQueueHolder:p.toJSON(),scope:a,function:"startReporting",streamId:i,tabletDecrypt:y===!0}).then(function(g){return u=g.id,g})},s.prototype.stopReporting=function(){if(i===null)throw"Error: trying to stop reporting before starting";return l.STU.send({id:u,scope:a,function:"stopReporting"}).then(function(p){return l.STU.removeStream(i),p})},s.prototype.onEventData=function(p,y){switch(y.operationModeType){case p.OperationModeType.OperationModeType_PinPad:this.onReportEventDataPinPad(y);break;case p.OperationModeType.OperationModeType_KeyPad:this.onReportEventDataKeyPad(y);break;case p.OperationModeType.OperationModeType_Signature:this.onReportEventDataSignature(y);break}},s.prototype.onEventDataEncrypted=function(p,y){switch(y.operationModeType){case p.OperationModeType.OperationModeType_PinPad:this.onReportEventDataPinPadEncrypted(y);break;case p.OperationModeType.OperationModeType_KeyPad:this.onReportEventDataKeyPadEncrypted(y);break;case p.OperationModeType.OperationModeType_Signature:this.onReportEventDataSignatureEncrypted(y);break}},s}(),InkState_isOff:1,InkState_isOn:2,InkState_isInk:4,InkState_isFirst:8,InkState_isLast:16,InkState:{InkState_Up:1,InkState_Down:2,InkState_Inking:6,InkState_First:14,InkState_Last:17},OpDirection:{OpDirection_Get:256,OpDirection_Set:512},statusCanSend:function(a,i,u){return l.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"statusCanSend",statusCode:a,reportId:i,opDirection:u})},waitForStatusToSend:function(a,i,u,s,p){var y=Q.defer();function g(){a.getStatus().then(function(C){return l.STU.ProtocolHelper.statusCanSend(C.statusCode,i,u)}).then(function(C){if(C===!0){y.resolve();return}if(s<=0){y.reject(new Error("timeout error"));return}s--,setTimeout(g,p)})}return setTimeout(g,0),y.promise},waitForStatus:function(a,i,u,s){var p=Q.defer();function y(){a.getStatus().then(function(g){if(g.statusCode===i){p.resolve();return}if(u<=0){p.reject(new Error("timeout error"));return}u--,setTimeout(y,s)})}return setTimeout(y,0),p.promise},supportsEncryption:function(a){var i=l.STU.ProtocolHelper.OpDirection.OpDirection_Get;return l.STU.ProtocolHelper.waitForStatusToSend(a,l.STU.Protocol.ReportId.ReportId_DHprime,i,25,50).then(function(u){return l.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"supportsEncryption",protocol:a})})},supportsEncryption_DHprime:function(a){return l.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"supportsEncryption_DHprime",dhPrime:a})},setHostPublicKeyAndPollForDevicePublicKey:function(a,i,u,s){return a.setHostPublicKey(i).then(function(p){var y=l.STU.ProtocolHelper.OpDirection.OpDirection_Get;return l.STU.ProtocolHelper.waitForStatusToSend(a,l.STU.Protocol.ReportId.ReportId_DevicePublicKey,y,u,s)}).then(function(p){return a.getDevicePublicKey()}).then(function(p){if(p.length!==i.length)throw new Error("Unexpected key size");return p})},writeImage:function(a,i,u,s,p){s=typeof s=="undefined"?25:s,p=typeof p=="undefined"?25:p;var y=l.STU.ProtocolHelper.OpDirection.OpDirection_Set;return l.STU.ProtocolHelper.waitForStatusToSend(a,l.STU.Protocol.ReportId.ReportId_StartImageData,y,s,p).then(function(g){return a.setStartImageData(i)}).then(function(g){var C=a.ImageDataBlock_maxLengthHID;return l.STU.ProtocolHelper.writeImageCommon(a,i,C,u,s,p)})},writeImageCommon:function(a,i,u,s,p,y){if(u>a.ImageDataBlock_maxLengthSerial)throw new Error("Invalid maxImageBlockSize");var g=l.STU.ProtocolHelper.OpDirection.OpDirection_Set;return l.STU.ProtocolHelper.waitForStatusToSend(a,l.STU.Protocol.ReportId.ReportId_ImageDataBlock,g,p,y).then(function(C){return l.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"writeImageCommon",protocol:a.toJSON(),intf:a.getInterface().toJSON(),encodingMode:i,imageData:s,maxImageBlockSize:u})})},flattenMonochrome:function(a,i,u,s){return l.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"flattenMonochrome",b64Data:a,screenWidth:i,screenHeight:u,dataStore:s===!0}).then(function(p){if(typeof p=="string")return p;var y=new l.STU.DataStore;return y.setId(p.id),y})},flatten:function(a,i,u,s,p){var y=new l.STU.Protocol;switch(a){case y.EncodingMode.EncodingMode_24bit:case y.EncodingMode.EncodingMode_24bit_Bulk:return l.STU.ProtocolHelper.flattenColor24(i,u,s,p);case y.EncodingMode.EncodingMode_16bit:case y.EncodingMode.EncodingMode_16bit_Bulk:return l.STU.ProtocolHelper.flattenColor16(i,u,s,p);case y.EncodingMode.EncodingMode_1bit:case y.EncodingMode.EncodingMode_1bit_Bulk:return l.STU.ProtocolHelper.flattenMonochrome(i,u,s,p)}},resizeAndFlatten:function(a,i,u,s,p,y,g,C,I,R,A,z){return l.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"resizeAndFlatten",b64Data:a,offsetX:i,offsetY:u,bitmapWidth:s,bitmapHeight:p,screenWidth:y,screenHeight:g,encodingMode:C,scale:I,backgroundColor:R,clip:A,dataStore:z===!0}).then(function(V){if(typeof V=="string")return V;var K=new l.STU.DataStore;return K.setId(V.id),K})},encodingFlagSupportsColor:function(a){return l.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"encodingFlagSupportsColor",screenWidth:a})},flattenColor16:function(a,i,u,s){return l.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"flattenColor16",b64Data:a,screenWidth:i,screenHeight:u,dataStore:s===!0}).then(function(p){if(typeof p=="string")return p;var y=new l.STU.DataStore;return y.setId(p.id),y})},flattenColor24:function(a,i,u,s){return l.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"flattenColor24",b64Data:a,screenWidth:i,screenHeight:u,dataStore:s===!0}).then(function(p){if(typeof p=="string")return p;var y=new l.STU.DataStore;return y.setId(p.id),y})},generateSymmetricKeyAndWaitForEncryptionStatus:function(a,i,u,s){var p=l.STU.ProtocolHelper.OpDirection.OpDirection_Set,y=Q.defer(),g=h();return r[g]=y,l.STU.ProtocolHelper.waitForStatusToSend(a,l.STU.Protocol.ReportId.ReportId_EncryptionCommand,p,i,u).then(function(C){return l.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"generateSymmetricKeyAndWaitForEncryptionStatus",protocol:a.toJSON(),intf:a.getInterface().toJSON(),timeout:s,sleepBetweenRetries:u,ticket2:g}).then(function(I){return y.promise})})},simulateEncodingFlag:function(a,i){return l.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"simulateEncodingFlag",idProduct:a,encodingFlag:typeof obj=="undefined"?0:i})},writeImageArea:function(a,i,u,s,p,y){p=typeof p=="undefined"?25:p,y=typeof y=="undefined"?25:y;var g=l.STU.ProtocolHelper.OpDirection.OpDirection_Set;return l.STU.ProtocolHelper.waitForStatusToSend(a,l.STU.Protocol.ReportId.ReportId_StartImageDataArea,g,p,y).then(function(C){return a.setStartImageDataArea(i,u)}).then(function(C){var I=a.ImageDataBlock_maxLengthHID;return l.STU.ProtocolHelper.writeImageCommon(a,i,I,s,p,y)})},writeRomImage:function(a,i,u,s,p,y){return l.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"writeRomImage",protocol:a,romStartImageData:i,maxImageBlockSize:u,imageData:s,retries:p,sleepBetweenRetries:y})}},_.prototype.Tablet=function(){var a="WacomGSS.STU.Tablet",i=null;function u(){}return u.prototype.toJSON=function(){return{id:i,scope:a}},u.prototype.Constructor=function(s,p,y){return l.STU.send({scope:a,function:"Constructor",hasIntf:typeof s!="undefined",intf:typeof s=="undefined"?null:s.toJSON(),encryptionHandler:typeof p=="undefined"||p===null?null:p.toJSON(),encryptionHandler2:typeof y=="undefined"||y===null?null:y.toJSON()}).then(function(g){return i=g.id,g})},u.prototype.attach=function(s){return l.STU.send({scope:a,id:i,function:"attach",intf:typeof s=="undefined"?null:s.toJSON()})},u.prototype.detach=function(s){return l.STU.send({scope:a,id:i,function:"detach"}).then(function(p){var y;return f(p.scope)&&f(p.id)&&(p.scope==="WacomGSS.STU.UsbInterface"?(y=new _.UsbInterface,y.id=p.id):p.scope==="WacomGSS.STU.SerialInterface"&&(y=new _.SerialInterface,y.id=p.id)),y})},u.prototype.getInformation=function(){return l.STU.send({scope:a,id:i,function:"getInformation"})},u.prototype.setClearScreen=function(){return l.STU.send({scope:a,id:i,function:"setClearScreen"})},u.prototype.isSupported=function(s){return l.STU.send({scope:a,id:i,function:"isSupported",reportId:s})},u.prototype.getProductId=function(s){return l.STU.send({scope:a,id:i,function:"getProductId"})},u.prototype.setPenDataOptionMode=function(s){return l.STU.send({scope:a,id:i,function:"setPenDataOptionMode",penDataOptionMode:s})},u.prototype.getDHprime=function(){return l.STU.send({scope:a,id:i,function:"getDHprime"})},u.prototype.startCapture=function(s){return l.STU.send({scope:a,id:i,function:"startCapture",sessionId:s})},u.prototype.setInkingMode=function(s){return l.STU.send({scope:a,id:i,function:"setInkingMode",inkingMode:s})},u.prototype.queueSetPredicateAll=function(s){return l.STU.send({scope:a,id:i,function:"queueSetPredicateAll",predicate:s})},u.prototype.endCapture=function(){return l.STU.send({scope:a,id:i,function:"endCapture"})},u.prototype.disconnect=function(){return l.STU.send({scope:a,id:i,function:"disconnect"})},u.prototype.empty=function(){return l.STU.send({scope:a,id:i,function:"empty"})},u.prototype.isConnected=function(){return l.STU.send({scope:a,id:i,function:"isConnected"})},u.prototype.supportsWrite=function(){return l.STU.send({scope:a,id:i,function:"supportsWrite"})},u.prototype.getReportCountLengths=function(){return l.STU.send({scope:a,id:i,function:"getReportCountLengths"})},u.prototype.getStatus=function(){return l.STU.send({scope:a,id:i,function:"getStatus"})},u.prototype.reset=function(){return l.STU.send({scope:a,id:i,function:"reset"})},u.prototype.getHidInformation=function(){return l.STU.send({scope:a,id:i,function:"getHidInformation"})},u.prototype.getCapability=function(){return l.STU.send({scope:a,id:i,function:"getCapability"})},u.prototype.getUid=function(){return l.STU.send({scope:a,id:i,function:"getUid"})},u.prototype.setUid=function(s){return l.STU.send({scope:a,id:i,function:"setUid",uid:s})},u.prototype.getUid2=function(){return l.STU.send({scope:a,id:i,function:"getUid2"})},u.prototype.setDefaultMode=function(s){return l.STU.send({scope:a,id:i,function:"setDefaultMode",defaultMode:s})},u.prototype.getDefaultMode=function(){return l.STU.send({scope:a,id:i,function:"getDefaultMode"})},u.prototype.getHostPublicKey=function(){return l.STU.send({scope:a,id:i,function:"getHostPublicKey"})},u.prototype.getDevicePublicKey=function(){return l.STU.send({scope:a,id:i,function:"getDevicePublicKey"})},u.prototype.setDHprime=function(s){return l.STU.send({scope:a,id:i,function:"setDHprime",prime:s})},u.prototype.getDHbase=function(){return l.STU.send({scope:a,id:i,function:"getDHbase"})},u.prototype.setDHbase=function(s){return l.STU.send({scope:a,id:i,function:"setDHbase",base})},u.prototype.setClearScreenArea=function(s){return l.STU.send({scope:a,id:i,function:"setClearScreenArea",area:s})},u.prototype.getInkingMode=function(){return l.STU.send({scope:a,id:i,function:"getInkingMode"})},u.prototype.getInkThreshold=function(){return l.STU.send({scope:a,id:i,function:"getInkThreshold"})},u.prototype.setInkThreshold=function(s){return l.STU.send({scope:a,id:i,function:"setInkThreshold",inkThreshold:s})},u.prototype.writeImage=function(s,p){var y=null;return typeof p=="string"?y=p:y=p.toJSON(),l.STU.send({scope:a,id:i,function:"writeImage",encodingMode:s,b64Data:y})},u.prototype.writeImageArea=function(s,p,y){var g=null;return typeof y=="string"?g=y:g=y.toJSON(),l.STU.send({scope:a,id:i,function:"writeImageArea",encodingMode:s,area:p,b64Data:g})},u.prototype.endImageData=function(s){return l.STU.send({scope:a,id:i,function:"endImageData"})},u.prototype.getHandwritingThicknessColor=function(){return l.STU.send({scope:a,id:i,function:"getHandwritingThicknessColor"})},u.prototype.setHandwritingThicknessColor=function(s){return l.STU.send({scope:a,id:i,function:"setHandwritingThicknessColor",handwritingThicknessColor:s})},u.prototype.getHandwritingThicknessColor24=function(){return l.STU.send({scope:a,id:i,function:"getHandwritingThicknessColor24"})},u.prototype.setHandwritingThicknessColor24=function(s){return l.STU.send({scope:a,id:i,function:"setHandwritingThicknessColor24",handwritingThicknessColor24:s})},u.prototype.getBackgroundColor=function(){return l.STU.send({scope:a,id:i,function:"getBackgroundColor"})},u.prototype.setBackgroundColor=function(s){return l.STU.send({scope:a,id:i,function:"setBackgroundColor",backgroundColor:s})},u.prototype.getBackgroundColor24=function(){return l.STU.send({scope:a,id:i,function:"getBackgroundColor24"})},u.prototype.setBackgroundColor24=function(s){return l.STU.send({scope:a,id:i,function:"setBackgroundColor24",backgroundColor24:s})},u.prototype.getHandwritingDisplayArea=function(){return l.STU.send({scope:a,id:i,function:"getHandwritingDisplayArea"})},u.prototype.setHandwritingDisplayArea=function(s){return l.STU.send({scope:a,id:i,function:"setHandwritingDisplayArea",handwritingDisplayArea:s})},u.prototype.getBacklightBrightness=function(){return l.STU.send({scope:a,id:i,function:"getBacklightBrightness"})},u.prototype.setBacklightBrightness=function(s){return l.STU.send({scope:a,id:i,function:"setBacklightBrightness",backlightBrightness:s})},u.prototype.getScreenContrast=function(){return l.STU.send({scope:a,id:i,function:"getScreenContrast"})},u.prototype.setScreenContrast=function(s){return l.STU.send({scope:a,id:i,function:"setScreenContrast",screenContrast:s})},u.prototype.getPenDataOptionMode=function(){return l.STU.send({scope:a,id:i,function:"getPenDataOptionMode"})},u.prototype.getEncryptionStatus=function(){return l.STU.send({scope:a,id:i,function:"getEncryptionStatus"})},u.prototype.getEncryptionCommand=function(s){return l.STU.send({scope:a,id:i,function:"getEncryptionCommand",encryptionCommandNumber:s})},u.prototype.decrypt=function(s){return l.STU.send({scope:a,id:i,decrypt:"decrypt",data:s})},u.prototype.setReportRate=function(s){return l.STU.send({scope:a,id:i,function:"setReportRate",reportRate:s})},u.prototype.getReportRate=function(){return l.STU.send({scope:a,id:i,function:"getReportRate"})},u.prototype.setRenderingMode=function(s){return l.STU.send({scope:a,id:i,function:"setRenderingMode",renderingMode:s})},u.prototype.getRenderingMode=function(){return l.STU.send({scope:a,id:i,function:"getRenderingMode"})},u.prototype.setOperationMode=function(s){return l.STU.send({scope:a,id:i,function:"setOperationMode",operationMode:s})},u.prototype.getOperationMode=function(){return l.STU.send({scope:a,id:i,function:"getOperationMode"})},u.prototype.writeRomImage=function(s,p){return l.STU.send({scope:a,id:i,function:"writeRomImage",romStartImageData:s,imageData:p})},u.prototype.setRomImageHash=function(s,p,y){return l.STU.send({scope:a,id:i,function:"setRomImageHash",operationModeType:s,imageType:p,imageNumber:y})},u.prototype.getRomImageHash=function(){return l.STU.send({scope:a,id:i,function:"getRomImageHash"})},u.prototype.setRomImageDelete=function(s,p,y){return l.STU.send({scope:a,id:i,function:"setRomImageDelete",romImageDeleteMode:s,imageType:p,imageNumber:y})},u.prototype.getCurrentImageArea=function(){return l.STU.send({scope:a,id:i,function:"getCurrentImageArea"})},u.prototype.setRomImageDisplay=function(s,p,y){return l.STU.send({scope:a,id:i,function:"setRomImageDisplay",operationModeType:s,imageType:p,imageNumber:y})},u.prototype.getEserial=function(){return l.STU.send({scope:a,id:i,function:"getEserial"})},u}(),_.prototype.SerialInterface=function(){var a="WacomGSS.STU.SerialInterface",i="";function u(){}return u.prototype.Constructor=function(){return l.STU.send({scope:a,function:"Constructor"}).then(function(s){return i=s.id,s})},u.prototype.BaudRate_STU500=115200,u.prototype.BaudRate_STU430_530_prerelease=460800,u.prototype.BaudRate_STU430_530=3e6,u.prototype.connect=function(s,p,y){return l.STU.send({scope:a,id:i,function:"connect",fileName:s,baudRate:p,useCrc:y})},u.prototype.toJSON=function(){return{id:i,scope:a}},u.prototype.disconnect=function(){return l.STU.send({scope:a,id:i,function:"disconnect"})},u.prototype.isConnected=function(){return l.STU.send({scope:a,id:i,function:"isConnected"})},u.prototype.queueNotifyAll=function(){return l.STU.send({scope:a,id:i,function:"queueNotifyAll"})},u.prototype.queueSetPredicateAll=function(s){return l.STU.send({scope:a,id:i,function:"queueSetPredicateAll",predicate:s})},u.prototype.get=function(s){return l.STU.send({scope:a,id:i,function:"get_",length:s})},u.prototype.set=function(s){return l.STU.send({scope:a,id:i,function:"set",base64Data:s})},u.prototype.supportsWrite=function(){return l.STU.send({scope:a,id:i,function:"supportsWrite"})},u.prototype.write=function(s){return l.STU.send({scope:a,id:i,function:"write",base64Data:s})},u.prototype.getReportCountLengths=function(){return l.STU.send({scope:a,id:i,function:"getReportCountLengths"})},u.prototype.getProductId=function(){return l.STU.send({scope:a,id:i,function:"getProductId"})},u}(),_.prototype.TlsInterface=function(){var a="WacomGSS.STU.TlsInterface",i="";function u(){}return u.prototype.Constructor=function(){return l.STU.send({scope:a,function:"Constructor"}).then(function(s){return i=s.id,s})},u.prototype.ConnectOption={ConnectOption_OOB:1,ConnectOption_SSL:2},u.prototype.connect=function(s,p){return l.STU.send({scope:a,id:i,function:"connect",fileName:s,connectOption:p})},u.prototype.toJSON=function(){return{id:i,scope:a}},u.prototype.disconnect=function(){return l.STU.send({scope:a,id:i,function:"disconnect"})},u.prototype.isConnected=function(){return l.STU.send({scope:a,id:i,function:"isConnected"})},u.prototype.get=function(s){return l.STU.send({scope:a,id:i,function:"get_",length:s})},u.prototype.set=function(s){return l.STU.send({scope:a,id:i,function:"set",base64Data:s})},u.prototype.supportsWrite=function(){return l.STU.send({scope:a,id:i,function:"supportsWrite"})},u.prototype.write=function(s){return l.STU.send({scope:a,id:i,function:"write",base64Data:s})},u.prototype.getReportCountLengths=function(){return l.STU.send({scope:a,id:i,function:"getReportCountLengths"})},u.prototype.getProductId=function(){return l.STU.send({scope:a,id:i,function:"getProductId"})},u}(),_.prototype.DataStore=function(){var a="WacomGSS.STU.DataStore",i=null;function u(){}return u.prototype.setId=function(s){i=s},u.prototype.toJSON=function(){return{id:i,scope:a}},u.prototype.Constructor=function(s){return l.STU.send({scope:a,function:"Constructor",b64Data:s})},u.prototype.getData=function(){return l.STU.send({scope:a,id:i,function:"getData"})},u.prototype.getRemove=function(){return l.STU.send({scope:a,id:i,function:"getRemove"}).then(function(s){return i=null,s})},u.prototype.remove=function(){return l.STU.send({scope:a,id:i,function:"remove"}).then(function(s){return i=null,s})},u.prototype.setData=function(s){return l.STU.send({scope:a,id:i,function:"setData",b64Data:s})},u}(),_.prototype.SerialProtocol={getHeaderLength:function(){return l.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"getHeaderLength"})},isStartReport:function(a){return l.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"isStartReport",byte:a})},decodeHasCrc:function(a){return l.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"decodeHasCrc",header1:a})},decodeEncodedDataLength:function(a,i){return l.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"decodeEncodedDataLength",header1:a,header2:i})},calcEncodedDataLength:function(a,i){return l.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"calcEncodedDataLength",useCrc:a,length:i})},encodeHeader:function(a,i,u){return l.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"encodeHeader",encodedData:a,useCrc:i,encodedDataLength:u})},encodeReport:function(a,i){return l.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"encodeReport",report:a,useCrc:i})},decodeData:function(a){return l.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"decodeData",data:a})},checkCrcAndRemove:function(a){return l.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"checkCrcAndRemove",container:a})}},_.prototype.EncryptionHandler=function(){var a="WacomGSS.STU.EncryptionHandler",i=null,u=null,s=null,p=new Object;function y(g){s=g,this.stream=function(C){try{p[C.function](C)}catch(I){throw new Error("EncryptionHandler."+C.function+" : "+I+`
message was:
`+JSON.stringify(C))}}}return y.prototype.Constructor=function(){return i=l.STU.setStream(this),l.STU.send({scope:a,function:"Constructor",streamId:i}).then(function(g){return u=g.id,g})},y.prototype.toJSON=function(){return{id:u,scope:a}},p.reset=function(g){s.reset(),l.STU.sendNoReturn({scope:a,function:"set_value",promiseId:g.promiseId,data:null})},p.clearKeys=function(g){s.clearKeys(),l.STU.sendNoReturn({scope:a,function:"set_value",promiseId:g.promiseId,data:null})},p.requireDH=function(g){var C=s.requireDH();l.STU.sendNoReturn({scope:a,function:"set_value",promiseId:g.promiseId,data:C})},p.setDH=function(g){s.setDH(g.data.dhPrime,g.data.dhBase),l.STU.sendNoReturn({scope:a,function:"set_value",promiseId:g.promiseId,data:null})},p.generateHostPublicKey=function(g){var C=s.generateHostPublicKey();l.STU.sendNoReturn({scope:a,function:"set_value",promiseId:g.promiseId,data:C})},p.computeSharedKey=function(g){s.computeSharedKey(g.data),l.STU.sendNoReturn({scope:a,function:"set_value",promiseId:g.promiseId,data:null})},p.decrypt=function(g){var C=s.decrypt(g.data);l.STU.sendNoReturn({scope:a,function:"set_value",promiseId:g.promiseId,data:C})},y}(),_.prototype.EncryptionHandler2=function(){var a="WacomGSS.STU.EncryptionHandler2",i=null,u=null,s=null,p=new Object;function y(g){s=g,this.stream=function(C){try{p[C.function](C)}catch(I){throw new Error("EncryptionHandler2."+C.function+" : "+I+`
message was:
`+JSON.stringify(C))}}}return y.prototype.Constructor=function(){return i=l.STU.setStream(this),l.STU.send({scope:a,function:"Constructor",streamId:i}).then(function(g){return u=g.id,g})},y.prototype.toJSON=function(){return{id:u,scope:a}},p.reset=function(g){s.reset(),l.STU.sendNoReturn({scope:a,function:"set_value",promiseId:g.promiseId,data:null})},p.clearKeys=function(g){s.clearKeys(),l.STU.sendNoReturn({scope:a,function:"set_value",promiseId:g.promiseId,data:null})},p.getParameters=function(g){var C=s.getParameters(g.data.symmetricKeyType,g.data.asymmetricPaddingType,g.data.asymmetricKeyType),I=C[0],R=C[1],A=C[2];l.STU.sendNoReturn({scope:a,function:"set_value",promiseId:g.promiseId,data:{symmetricKeyType:I,asymmetricPaddingType:R,asymmetricKeyType:A}})},p.getPublicExponent=function(g){var C=s.getPublicExponent();l.STU.sendNoReturn({scope:a,function:"set_value",promiseId:g.promiseId,data:C})},p.generatePublicKey=function(g){var C=s.generatePublicKey();l.STU.sendNoReturn({scope:a,function:"set_value",promiseId:g.promiseId,data:C})},p.computeSessionKey=function(g){s.computeSessionKey(g.data),l.STU.sendNoReturn({scope:a,function:"set_value",promiseId:g.promiseId,data:null})},p.decrypt=function(g){var C=s.decrypt(g.data);l.STU.sendNoReturn({scope:a,function:"set_value",promiseId:g.promiseId,data:C})},y}(),_}();l.STU=new l.STUConstructor;var Ge={},Co=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},mn={},ve={};let kt;const Io=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];ve.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};ve.getSymbolTotalCodewords=function(t){return Io[t]};ve.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};ve.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');kt=t};ve.isKanjiModeEnabled=function(){return typeof kt!="undefined"};ve.toSJIS=function(t){return kt(t)};var ft={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(o){return o&&typeof o.bit!="undefined"&&o.bit>=0&&o.bit<4},e.from=function(o,r){if(e.isValid(o))return o;try{return t(o)}catch{return r}}})(ft);function gn(){this.buffer=[],this.length=0}gn.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var _o=gn;function rt(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}rt.prototype.set=function(e,t,n,o){const r=e*this.size+t;this.data[r]=n,o&&(this.reservedBit[r]=!0)};rt.prototype.get=function(e,t){return this.data[e*this.size+t]};rt.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n};rt.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var Po=rt,yn={};(function(e){const t=ve.getSymbolSize;e.getRowColCoords=function(o){if(o===1)return[];const r=Math.floor(o/7)+2,d=t(o),f=d===145?26:Math.ceil((d-13)/(2*r-2))*2,h=[d-7];for(let S=1;S<r-1;S++)h[S]=h[S-1]-f;return h.push(6),h.reverse()},e.getPositions=function(o){const r=[],d=e.getRowColCoords(o),f=d.length;for(let h=0;h<f;h++)for(let S=0;S<f;S++)h===0&&S===0||h===0&&S===f-1||h===f-1&&S===0||r.push([d[h],d[S]]);return r}})(yn);var Sn={};const Do=ve.getSymbolSize,zt=7;Sn.getPositions=function(t){const n=Do(t);return[[0,0],[n-zt,0],[0,n-zt]]};var vn={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(r){return r!=null&&r!==""&&!isNaN(r)&&r>=0&&r<=7},e.from=function(r){return e.isValid(r)?parseInt(r,10):void 0},e.getPenaltyN1=function(r){const d=r.size;let f=0,h=0,S=0,_=null,k=null;for(let H=0;H<d;H++){h=S=0,_=k=null;for(let a=0;a<d;a++){let i=r.get(H,a);i===_?h++:(h>=5&&(f+=t.N1+(h-5)),_=i,h=1),i=r.get(a,H),i===k?S++:(S>=5&&(f+=t.N1+(S-5)),k=i,S=1)}h>=5&&(f+=t.N1+(h-5)),S>=5&&(f+=t.N1+(S-5))}return f},e.getPenaltyN2=function(r){const d=r.size;let f=0;for(let h=0;h<d-1;h++)for(let S=0;S<d-1;S++){const _=r.get(h,S)+r.get(h,S+1)+r.get(h+1,S)+r.get(h+1,S+1);(_===4||_===0)&&f++}return f*t.N2},e.getPenaltyN3=function(r){const d=r.size;let f=0,h=0,S=0;for(let _=0;_<d;_++){h=S=0;for(let k=0;k<d;k++)h=h<<1&2047|r.get(_,k),k>=10&&(h===1488||h===93)&&f++,S=S<<1&2047|r.get(k,_),k>=10&&(S===1488||S===93)&&f++}return f*t.N3},e.getPenaltyN4=function(r){let d=0;const f=r.data.length;for(let S=0;S<f;S++)d+=r.data[S];return Math.abs(Math.ceil(d*100/f/5)-10)*t.N4};function n(o,r,d){switch(o){case e.Patterns.PATTERN000:return(r+d)%2===0;case e.Patterns.PATTERN001:return r%2===0;case e.Patterns.PATTERN010:return d%3===0;case e.Patterns.PATTERN011:return(r+d)%3===0;case e.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(d/3))%2===0;case e.Patterns.PATTERN101:return r*d%2+r*d%3===0;case e.Patterns.PATTERN110:return(r*d%2+r*d%3)%2===0;case e.Patterns.PATTERN111:return(r*d%3+(r+d)%2)%2===0;default:throw new Error("bad maskPattern:"+o)}}e.applyMask=function(r,d){const f=d.size;for(let h=0;h<f;h++)for(let S=0;S<f;S++)d.isReserved(S,h)||d.xor(S,h,n(r,S,h))},e.getBestMask=function(r,d){const f=Object.keys(e.Patterns).length;let h=0,S=1/0;for(let _=0;_<f;_++){d(_),e.applyMask(_,r);const k=e.getPenaltyN1(r)+e.getPenaltyN2(r)+e.getPenaltyN3(r)+e.getPenaltyN4(r);e.applyMask(_,r),k<S&&(S=k,h=_)}return h}})(vn);var ht={};const Fe=ft,at=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],st=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];ht.getBlocksCount=function(t,n){switch(n){case Fe.L:return at[(t-1)*4+0];case Fe.M:return at[(t-1)*4+1];case Fe.Q:return at[(t-1)*4+2];case Fe.H:return at[(t-1)*4+3];default:return}};ht.getTotalCodewordsCount=function(t,n){switch(n){case Fe.L:return st[(t-1)*4+0];case Fe.M:return st[(t-1)*4+1];case Fe.Q:return st[(t-1)*4+2];case Fe.H:return st[(t-1)*4+3];default:return}};var wn={},mt={};const Ye=new Uint8Array(512),dt=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)Ye[n]=t,dt[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)Ye[n]=Ye[n-255]})();mt.log=function(t){if(t<1)throw new Error("log("+t+")");return dt[t]};mt.exp=function(t){return Ye[t]};mt.mul=function(t,n){return t===0||n===0?0:Ye[dt[t]+dt[n]]};(function(e){const t=mt;e.mul=function(o,r){const d=new Uint8Array(o.length+r.length-1);for(let f=0;f<o.length;f++)for(let h=0;h<r.length;h++)d[f+h]^=t.mul(o[f],r[h]);return d},e.mod=function(o,r){let d=new Uint8Array(o);for(;d.length-r.length>=0;){const f=d[0];for(let S=0;S<r.length;S++)d[S]^=t.mul(r[S],f);let h=0;for(;h<d.length&&d[h]===0;)h++;d=d.slice(h)}return d},e.generateECPolynomial=function(o){let r=new Uint8Array([1]);for(let d=0;d<o;d++)r=e.mul(r,new Uint8Array([1,t.exp(d)]));return r}})(wn);const bn=wn;function Mt(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}Mt.prototype.initialize=function(t){this.degree=t,this.genPoly=bn.generateECPolynomial(this.degree)};Mt.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const o=bn.mod(n,this.genPoly),r=this.degree-o.length;if(r>0){const d=new Uint8Array(this.degree);return d.set(o,r),d}return o};var Eo=Mt,Tn={},Ae={},Bt={};Bt.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var Ee={};const xn="[0-9]+",Ro="[A-Z $%*+\\-./:]+";let nt="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";nt=nt.replace(/u/g,"\\u");const Uo="(?:(?![A-Z0-9 $%*+\\-./:]|"+nt+`)(?:.|[\r
]))+`;Ee.KANJI=new RegExp(nt,"g");Ee.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Ee.BYTE=new RegExp(Uo,"g");Ee.NUMERIC=new RegExp(xn,"g");Ee.ALPHANUMERIC=new RegExp(Ro,"g");const ko=new RegExp("^"+nt+"$"),Mo=new RegExp("^"+xn+"$"),Bo=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Ee.testKanji=function(t){return ko.test(t)};Ee.testNumeric=function(t){return Mo.test(t)};Ee.testAlphanumeric=function(t){return Bo.test(t)};(function(e){const t=Bt,n=Ee;e.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(d,f){if(!d.ccBits)throw new Error("Invalid mode: "+d);if(!t.isValid(f))throw new Error("Invalid version: "+f);return f>=1&&f<10?d.ccBits[0]:f<27?d.ccBits[1]:d.ccBits[2]},e.getBestModeForData=function(d){return n.testNumeric(d)?e.NUMERIC:n.testAlphanumeric(d)?e.ALPHANUMERIC:n.testKanji(d)?e.KANJI:e.BYTE},e.toString=function(d){if(d&&d.id)return d.id;throw new Error("Invalid mode")},e.isValid=function(d){return d&&d.bit&&d.ccBits};function o(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+r)}}e.from=function(d,f){if(e.isValid(d))return d;try{return o(d)}catch{return f}}})(Ae);(function(e){const t=ve,n=ht,o=ft,r=Ae,d=Bt,f=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,h=t.getBCHDigit(f);function S(a,i,u){for(let s=1;s<=40;s++)if(i<=e.getCapacity(s,u,a))return s}function _(a,i){return r.getCharCountIndicator(a,i)+4}function k(a,i){let u=0;return a.forEach(function(s){u+=_(s.mode,i)+s.getBitsLength()}),u}function H(a,i){for(let u=1;u<=40;u++)if(k(a,u)<=e.getCapacity(u,i,r.MIXED))return u}e.from=function(i,u){return d.isValid(i)?parseInt(i,10):u},e.getCapacity=function(i,u,s){if(!d.isValid(i))throw new Error("Invalid QR Code version");typeof s=="undefined"&&(s=r.BYTE);const p=t.getSymbolTotalCodewords(i),y=n.getTotalCodewordsCount(i,u),g=(p-y)*8;if(s===r.MIXED)return g;const C=g-_(s,i);switch(s){case r.NUMERIC:return Math.floor(C/10*3);case r.ALPHANUMERIC:return Math.floor(C/11*2);case r.KANJI:return Math.floor(C/13);case r.BYTE:default:return Math.floor(C/8)}},e.getBestVersionForData=function(i,u){let s;const p=o.from(u,o.M);if(Array.isArray(i)){if(i.length>1)return H(i,p);if(i.length===0)return 1;s=i[0]}else s=i;return S(s.mode,s.getLength(),p)},e.getEncodedBits=function(i){if(!d.isValid(i)||i<7)throw new Error("Invalid QR Code version");let u=i<<12;for(;t.getBCHDigit(u)-h>=0;)u^=f<<t.getBCHDigit(u)-h;return i<<12|u}})(Tn);var Cn={};const Pt=ve,In=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,No=1<<14|1<<12|1<<10|1<<4|1<<1,Vt=Pt.getBCHDigit(In);Cn.getEncodedBits=function(t,n){const o=t.bit<<3|n;let r=o<<10;for(;Pt.getBCHDigit(r)-Vt>=0;)r^=In<<Pt.getBCHDigit(r)-Vt;return(o<<10|r)^No};var _n={};const Fo=Ae;function qe(e){this.mode=Fo.NUMERIC,this.data=e.toString()}qe.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};qe.prototype.getLength=function(){return this.data.length};qe.prototype.getBitsLength=function(){return qe.getBitsLength(this.data.length)};qe.prototype.write=function(t){let n,o,r;for(n=0;n+3<=this.data.length;n+=3)o=this.data.substr(n,3),r=parseInt(o,10),t.put(r,10);const d=this.data.length-n;d>0&&(o=this.data.substr(n),r=parseInt(o,10),t.put(r,d*3+1))};var Oo=qe;const Ao=Ae,St=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function We(e){this.mode=Ao.ALPHANUMERIC,this.data=e}We.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};We.prototype.getLength=function(){return this.data.length};We.prototype.getBitsLength=function(){return We.getBitsLength(this.data.length)};We.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let o=St.indexOf(this.data[n])*45;o+=St.indexOf(this.data[n+1]),t.put(o,11)}this.data.length%2&&t.put(St.indexOf(this.data[n]),6)};var Lo=We;const $o=Ae;function Ke(e){this.mode=$o.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}Ke.getBitsLength=function(t){return t*8};Ke.prototype.getLength=function(){return this.data.length};Ke.prototype.getBitsLength=function(){return Ke.getBitsLength(this.data.length)};Ke.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var Ho=Ke;const zo=Ae,Vo=ve;function Je(e){this.mode=zo.KANJI,this.data=e}Je.getBitsLength=function(t){return t*13};Je.prototype.getLength=function(){return this.data.length};Je.prototype.getBitsLength=function(){return Je.getBitsLength(this.data.length)};Je.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=Vo.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}};var jo=Je,Pn={exports:{}};(function(e){var t={single_source_shortest_paths:function(n,o,r){var d={},f={};f[o]=0;var h=t.PriorityQueue.make();h.push(o,0);for(var S,_,k,H,a,i,u,s,p;!h.empty();){S=h.pop(),_=S.value,H=S.cost,a=n[_]||{};for(k in a)a.hasOwnProperty(k)&&(i=a[k],u=H+i,s=f[k],p=typeof f[k]=="undefined",(p||s>u)&&(f[k]=u,h.push(k,u),d[k]=_))}if(typeof r!="undefined"&&typeof f[r]=="undefined"){var y=["Could not find a path from ",o," to ",r,"."].join("");throw new Error(y)}return d},extract_shortest_path_from_predecessor_list:function(n,o){for(var r=[],d=o;d;)r.push(d),n[d],d=n[d];return r.reverse(),r},find_path:function(n,o,r){var d=t.single_source_shortest_paths(n,o,r);return t.extract_shortest_path_from_predecessor_list(d,r)},PriorityQueue:{make:function(n){var o=t.PriorityQueue,r={},d;n=n||{};for(d in o)o.hasOwnProperty(d)&&(r[d]=o[d]);return r.queue=[],r.sorter=n.sorter||o.default_sorter,r},default_sorter:function(n,o){return n.cost-o.cost},push:function(n,o){var r={value:n,cost:o};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(Pn);(function(e){const t=Ae,n=Oo,o=Lo,r=Ho,d=jo,f=Ee,h=ve,S=Pn.exports;function _(y){return unescape(encodeURIComponent(y)).length}function k(y,g,C){const I=[];let R;for(;(R=y.exec(C))!==null;)I.push({data:R[0],index:R.index,mode:g,length:R[0].length});return I}function H(y){const g=k(f.NUMERIC,t.NUMERIC,y),C=k(f.ALPHANUMERIC,t.ALPHANUMERIC,y);let I,R;return h.isKanjiModeEnabled()?(I=k(f.BYTE,t.BYTE,y),R=k(f.KANJI,t.KANJI,y)):(I=k(f.BYTE_KANJI,t.BYTE,y),R=[]),g.concat(C,I,R).sort(function(z,V){return z.index-V.index}).map(function(z){return{data:z.data,mode:z.mode,length:z.length}})}function a(y,g){switch(g){case t.NUMERIC:return n.getBitsLength(y);case t.ALPHANUMERIC:return o.getBitsLength(y);case t.KANJI:return d.getBitsLength(y);case t.BYTE:return r.getBitsLength(y)}}function i(y){return y.reduce(function(g,C){const I=g.length-1>=0?g[g.length-1]:null;return I&&I.mode===C.mode?(g[g.length-1].data+=C.data,g):(g.push(C),g)},[])}function u(y){const g=[];for(let C=0;C<y.length;C++){const I=y[C];switch(I.mode){case t.NUMERIC:g.push([I,{data:I.data,mode:t.ALPHANUMERIC,length:I.length},{data:I.data,mode:t.BYTE,length:I.length}]);break;case t.ALPHANUMERIC:g.push([I,{data:I.data,mode:t.BYTE,length:I.length}]);break;case t.KANJI:g.push([I,{data:I.data,mode:t.BYTE,length:_(I.data)}]);break;case t.BYTE:g.push([{data:I.data,mode:t.BYTE,length:_(I.data)}])}}return g}function s(y,g){const C={},I={start:{}};let R=["start"];for(let A=0;A<y.length;A++){const z=y[A],V=[];for(let K=0;K<z.length;K++){const v=z[K],M=""+A+K;V.push(M),C[M]={node:v,lastCount:0},I[M]={};for(let ee=0;ee<R.length;ee++){const ne=R[ee];C[ne]&&C[ne].node.mode===v.mode?(I[ne][M]=a(C[ne].lastCount+v.length,v.mode)-a(C[ne].lastCount,v.mode),C[ne].lastCount+=v.length):(C[ne]&&(C[ne].lastCount=v.length),I[ne][M]=a(v.length,v.mode)+4+t.getCharCountIndicator(v.mode,g))}}R=V}for(let A=0;A<R.length;A++)I[R[A]].end=0;return{map:I,table:C}}function p(y,g){let C;const I=t.getBestModeForData(y);if(C=t.from(g,I),C!==t.BYTE&&C.bit<I.bit)throw new Error('"'+y+'" cannot be encoded with mode '+t.toString(C)+`.
 Suggested mode is: `+t.toString(I));switch(C===t.KANJI&&!h.isKanjiModeEnabled()&&(C=t.BYTE),C){case t.NUMERIC:return new n(y);case t.ALPHANUMERIC:return new o(y);case t.KANJI:return new d(y);case t.BYTE:return new r(y)}}e.fromArray=function(g){return g.reduce(function(C,I){return typeof I=="string"?C.push(p(I,null)):I.data&&C.push(p(I.data,I.mode)),C},[])},e.fromString=function(g,C){const I=H(g,h.isKanjiModeEnabled()),R=u(I),A=s(R,C),z=S.find_path(A.map,"start","end"),V=[];for(let K=1;K<z.length-1;K++)V.push(A.table[z[K]].node);return e.fromArray(i(V))},e.rawSplit=function(g){return e.fromArray(H(g,h.isKanjiModeEnabled()))}})(_n);const gt=ve,vt=ft,qo=_o,Wo=Po,Ko=yn,Jo=Sn,Dt=vn,Et=ht,Go=Eo,lt=Tn,Qo=Cn,Yo=Ae,wt=_n;function Xo(e,t){const n=e.size,o=Jo.getPositions(t);for(let r=0;r<o.length;r++){const d=o[r][0],f=o[r][1];for(let h=-1;h<=7;h++)if(!(d+h<=-1||n<=d+h))for(let S=-1;S<=7;S++)f+S<=-1||n<=f+S||(h>=0&&h<=6&&(S===0||S===6)||S>=0&&S<=6&&(h===0||h===6)||h>=2&&h<=4&&S>=2&&S<=4?e.set(d+h,f+S,!0,!0):e.set(d+h,f+S,!1,!0))}}function Zo(e){const t=e.size;for(let n=8;n<t-8;n++){const o=n%2===0;e.set(n,6,o,!0),e.set(6,n,o,!0)}}function ei(e,t){const n=Ko.getPositions(t);for(let o=0;o<n.length;o++){const r=n[o][0],d=n[o][1];for(let f=-2;f<=2;f++)for(let h=-2;h<=2;h++)f===-2||f===2||h===-2||h===2||f===0&&h===0?e.set(r+f,d+h,!0,!0):e.set(r+f,d+h,!1,!0)}}function ti(e,t){const n=e.size,o=lt.getEncodedBits(t);let r,d,f;for(let h=0;h<18;h++)r=Math.floor(h/3),d=h%3+n-8-3,f=(o>>h&1)===1,e.set(r,d,f,!0),e.set(d,r,f,!0)}function bt(e,t,n){const o=e.size,r=Qo.getEncodedBits(t,n);let d,f;for(d=0;d<15;d++)f=(r>>d&1)===1,d<6?e.set(d,8,f,!0):d<8?e.set(d+1,8,f,!0):e.set(o-15+d,8,f,!0),d<8?e.set(8,o-d-1,f,!0):d<9?e.set(8,15-d-1+1,f,!0):e.set(8,15-d-1,f,!0);e.set(o-8,8,1,!0)}function ni(e,t){const n=e.size;let o=-1,r=n-1,d=7,f=0;for(let h=n-1;h>0;h-=2)for(h===6&&h--;;){for(let S=0;S<2;S++)if(!e.isReserved(r,h-S)){let _=!1;f<t.length&&(_=(t[f]>>>d&1)===1),e.set(r,h-S,_),d--,d===-1&&(f++,d=7)}if(r+=o,r<0||n<=r){r-=o,o=-o;break}}}function oi(e,t,n){const o=new qo;n.forEach(function(S){o.put(S.mode.bit,4),o.put(S.getLength(),Yo.getCharCountIndicator(S.mode,e)),S.write(o)});const r=gt.getSymbolTotalCodewords(e),d=Et.getTotalCodewordsCount(e,t),f=(r-d)*8;for(o.getLengthInBits()+4<=f&&o.put(0,4);o.getLengthInBits()%8!==0;)o.putBit(0);const h=(f-o.getLengthInBits())/8;for(let S=0;S<h;S++)o.put(S%2?17:236,8);return ii(o,e,t)}function ii(e,t,n){const o=gt.getSymbolTotalCodewords(t),r=Et.getTotalCodewordsCount(t,n),d=o-r,f=Et.getBlocksCount(t,n),h=o%f,S=f-h,_=Math.floor(o/f),k=Math.floor(d/f),H=k+1,a=_-k,i=new Go(a);let u=0;const s=new Array(f),p=new Array(f);let y=0;const g=new Uint8Array(e.buffer);for(let z=0;z<f;z++){const V=z<S?k:H;s[z]=g.slice(u,u+V),p[z]=i.encode(s[z]),u+=V,y=Math.max(y,V)}const C=new Uint8Array(o);let I=0,R,A;for(R=0;R<y;R++)for(A=0;A<f;A++)R<s[A].length&&(C[I++]=s[A][R]);for(R=0;R<a;R++)for(A=0;A<f;A++)C[I++]=p[A][R];return C}function ri(e,t,n,o){let r;if(Array.isArray(e))r=wt.fromArray(e);else if(typeof e=="string"){let _=t;if(!_){const k=wt.rawSplit(e);_=lt.getBestVersionForData(k,n)}r=wt.fromString(e,_||40)}else throw new Error("Invalid data");const d=lt.getBestVersionForData(r,n);if(!d)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=d;else if(t<d)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+d+`.
`);const f=oi(t,n,r),h=gt.getSymbolSize(t),S=new Wo(h);return Xo(S,t),Zo(S),ei(S,t),bt(S,n,0),t>=7&&ti(S,t),ni(S,f),isNaN(o)&&(o=Dt.getBestMask(S,bt.bind(null,S,n))),Dt.applyMask(o,S),bt(S,n,o),{modules:S,version:t,errorCorrectionLevel:n,maskPattern:o,segments:r}}mn.create=function(t,n){if(typeof t=="undefined"||t==="")throw new Error("No input text");let o=vt.M,r,d;return typeof n!="undefined"&&(o=vt.from(n.errorCorrectionLevel,vt.M),r=lt.from(n.version),d=Dt.from(n.maskPattern),n.toSJISFunc&&gt.setToSJISFunction(n.toSJISFunc)),ri(t,r,o,d)};var Dn={},Nt={};(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let o=n.slice().replace("#","").split("");if(o.length<3||o.length===5||o.length>8)throw new Error("Invalid hex color: "+n);(o.length===3||o.length===4)&&(o=Array.prototype.concat.apply([],o.map(function(d){return[d,d]}))),o.length===6&&o.push("F","F");const r=parseInt(o.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:r&255,hex:"#"+o.slice(0,6).join("")}}e.getOptions=function(o){o||(o={}),o.color||(o.color={});const r=typeof o.margin=="undefined"||o.margin===null||o.margin<0?4:o.margin,d=o.width&&o.width>=21?o.width:void 0,f=o.scale||4;return{width:d,scale:d?4:f,margin:r,color:{dark:t(o.color.dark||"#000000ff"),light:t(o.color.light||"#ffffffff")},type:o.type,rendererOpts:o.rendererOpts||{}}},e.getScale=function(o,r){return r.width&&r.width>=o+r.margin*2?r.width/(o+r.margin*2):r.scale},e.getImageWidth=function(o,r){const d=e.getScale(o,r);return Math.floor((o+r.margin*2)*d)},e.qrToImageData=function(o,r,d){const f=r.modules.size,h=r.modules.data,S=e.getScale(f,d),_=Math.floor((f+d.margin*2)*S),k=d.margin*S,H=[d.color.light,d.color.dark];for(let a=0;a<_;a++)for(let i=0;i<_;i++){let u=(a*_+i)*4,s=d.color.light;if(a>=k&&i>=k&&a<_-k&&i<_-k){const p=Math.floor((a-k)/S),y=Math.floor((i-k)/S);s=H[h[p*f+y]?1:0]}o[u++]=s.r,o[u++]=s.g,o[u++]=s.b,o[u]=s.a}}})(Nt);(function(e){const t=Nt;function n(r,d,f){r.clearRect(0,0,d.width,d.height),d.style||(d.style={}),d.height=f,d.width=f,d.style.height=f+"px",d.style.width=f+"px"}function o(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(d,f,h){let S=h,_=f;typeof S=="undefined"&&(!f||!f.getContext)&&(S=f,f=void 0),f||(_=o()),S=t.getOptions(S);const k=t.getImageWidth(d.modules.size,S),H=_.getContext("2d"),a=H.createImageData(k,k);return t.qrToImageData(a.data,d,S),n(H,_,k),H.putImageData(a,0,0),_},e.renderToDataURL=function(d,f,h){let S=h;typeof S=="undefined"&&(!f||!f.getContext)&&(S=f,f=void 0),S||(S={});const _=e.render(d,f,S),k=S.type||"image/png",H=S.rendererOpts||{};return _.toDataURL(k,H.quality)}})(Dn);var En={};const ai=Nt;function jt(e,t){const n=e.a/255,o=t+'="'+e.hex+'"';return n<1?o+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':o}function Tt(e,t,n){let o=e+t;return typeof n!="undefined"&&(o+=" "+n),o}function si(e,t,n){let o="",r=0,d=!1,f=0;for(let h=0;h<e.length;h++){const S=Math.floor(h%t),_=Math.floor(h/t);!S&&!d&&(d=!0),e[h]?(f++,h>0&&S>0&&e[h-1]||(o+=d?Tt("M",S+n,.5+_+n):Tt("m",r,0),r=0,d=!1),S+1<t&&e[h+1]||(o+=Tt("h",f),f=0)):r++}return o}En.render=function(t,n,o){const r=ai.getOptions(n),d=t.modules.size,f=t.modules.data,h=d+r.margin*2,S=r.color.light.a?"<path "+jt(r.color.light,"fill")+' d="M0 0h'+h+"v"+h+'H0z"/>':"",_="<path "+jt(r.color.dark,"stroke")+' d="'+si(f,d,r.margin)+'"/>',k='viewBox="0 0 '+h+" "+h+'"',H=r.width?'width="'+r.width+'" height="'+r.width+'" ':"",a='<svg xmlns="http://www.w3.org/2000/svg" '+H+k+' shape-rendering="crispEdges">'+S+_+`</svg>
`;return typeof o=="function"&&o(null,a),a};const di=Co,Rt=mn,Rn=Dn,li=En;function Ft(e,t,n,o,r){const d=[].slice.call(arguments,1),f=d.length,h=typeof d[f-1]=="function";if(!h&&!di())throw new Error("Callback required as last argument");if(h){if(f<2)throw new Error("Too few arguments provided");f===2?(r=n,n=t,t=o=void 0):f===3&&(t.getContext&&typeof r=="undefined"?(r=o,o=void 0):(r=o,o=n,n=t,t=void 0))}else{if(f<1)throw new Error("Too few arguments provided");return f===1?(n=t,t=o=void 0):f===2&&!t.getContext&&(o=n,n=t,t=void 0),new Promise(function(S,_){try{const k=Rt.create(n,o);S(e(k,t,o))}catch(k){_(k)}})}try{const S=Rt.create(n,o);r(null,e(S,t,o))}catch(S){r(S)}}Ge.create=Rt.create;Ge.toCanvas=Ft.bind(null,Rn.render);Ge.toDataURL=Ft.bind(null,Rn.renderToDataURL);Ge.toString=Ft.bind(null,function(e,t,n){return li.render(e,n)});const ci={id:"IdCardBack",style:{width:"640px",height:"1014px","font-size":"7pt",position:"relative","background-image":"url('/images/REG_ID_Back_Temp.jpg')","background-position":"center","background-size":"contain","font-family":"sans-serif",transform:"scale(0.5)",top:"-200px",left:"185px"}},ui=["hidden"],pi={class:"detail",style:{position:"absolute",top:"283px",left:"42px","font-size":"22pt"}},fi={class:"detail",style:{position:"absolute",top:"363px",left:"42px","font-size":"22pt"}},hi={class:"detail",style:{position:"absolute",top:"442px",left:"42px","font-size":"22pt"}},mi={class:"detail",style:{position:"absolute",top:"521px",left:"42px","font-size":"22pt"}},gi={style:{width:"100%","text-align":"left",position:"absolute",bottom:"376px",left:"53px","font-size":"22pt"}},yi={style:{width:"100%","text-align":"left",position:"absolute",bottom:"344px",left:"53px","font-size":"22pt"}},Si={class:"detail",style:{position:"absolute",top:"671px",left:"204px","font-size":"19pt"}},vi={class:"detail",style:{position:"absolute",top:"705px",left:"204px","font-size":"19pt"}},wi=["hidden"],bi=["hidden"],qt=Object.assign({name:"IdCardBack"},{__name:"IdCardBack",props:{details:{type:Object,required:!0}},emits:["onPenDataSave"],setup(e,{emit:t}){const n=async b=>{try{var x=document.getElementById("qr-img");x.src=await Ge.toDataURL(b)}catch(P){console.error(P)}},o=e,r=t;function d(){r("onPenDataSave",V)}var f=ln(!1),h="Cancel",S="Clear",_="OK",k=20,H=1e3,a=500,i,u,s,p,y,g,C=-1,I,R,A,z,V,K,v=0,M;cn(()=>o.details,(b,x)=>{b.sig_src&&(V=b.sig_src,I={encodingFlag:3,maxReportRate:200,resolution:64e3,screenHeight:227,screenWidth:359,tabletMaxPressure:1023,tabletMaxX:9600,tabletMaxY:6e3},z={offPressureMark:16,onPressureMark:21},Ne()),n("https://ihris.hrmdo-lgubayawan.link/verify/index.php?id="+o.details.employees_id)},{deep:!0});function ee(){v=v+1,l.STU.isServiceReady()?(v=0,console.log("SigCaptX Web Service: ready")):(console.log("SigCaptX Web Service: not connected"),v<k?setTimeout(ee,H):console.log("Unable to establish connection to SigCaptX"))}setTimeout(ee,a);function ne(){console.log("DCA disconnected"),setTimeout(xe,0)}function B(b,x,P,N){this.x=b,this.y=x,this.width=P,this.height=N,this.Contains=function(T){return T.x>=this.x&&T.x<=this.x+this.width&&T.y>=this.y&&T.y<=this.y+this.height}}function te(){this.Bounds,this.Text,this.Click}function Re(b,x){this.x=b,this.y=x}function se(b,x){s=document.createElement("div"),s.id="signatureWindow",s.className="active",s.style.position="relative",s.style.top=0+"px",s.style.left=0+"px",s.style.width=b+"px",s.style.height=x+"px",document.getElementById("sigPreviewContainer").appendChild(s),i=document.createElement("canvas"),i.id="myCanvas",i.height=s.offsetHeight,i.width=s.offsetWidth,i.style.zIndex=999,s.appendChild(i),u=i.getContext("2d"),console.log("canvas.addEventListener:",i.addEventListener),i.addEventListener?(i.addEventListener("click",ke,!1),console.log("onCanvasClick 0")):i.attachEvent?(i.attachEvent("onClick",ke),console.log("onCanvasClick 1")):(i.onClick=ke,console.log("onCanvasClick 2"))}function Ue(){var b=Q.defer();if(M!=null){var x=new l.STU.Protocol;M.setInkingMode(x.InkingMode.InkingMode_Off).then(function(P){return console.log("received: "+JSON.stringify(P)),M.endCapture()}).then(function(P){return console.log("received: "+JSON.stringify(P)),A!==null?A.remove():P}).then(function(P){return console.log("received: "+JSON.stringify(P)),A=null,M.setClearScreen()}).then(function(P){return console.log("received: "+JSON.stringify(P)),M.disconnect()}).then(function(P){console.log("received: "+JSON.stringify(P)),M=null,X(i,u)}).then(function(P){b.resolve()}).fail(function(P){console.log("disconnect error: "+P),b.resolve()})}else b.resolve();return b.promise}window.addEventListener("beforeunload",function(b){var x="";return l.STU.close(),(b||window.event).returnValue=x,x});function we(){}we.prototype=new Error;function Me(){f.value=!0,Ie()}function Ie(){var b=new l.STU.Protocol,x,P,N;l.STU.isDCAReady().then(function(T){if(!T)throw new we;return l.STU.onDCAtimeout=ne,l.STU.getUsbDevices()}).then(function(T){if(T==null||T.length==0)throw new Error("No STU devices found");return console.log("received: "+JSON.stringify(T)),K=T,l.STU.isSupportedUsbDevice(K[0].idVendor,K[0].idProduct)}).then(function(T){return console.log("received: "+JSON.stringify(T)),x=new l.STU.UsbInterface,x.Constructor()}).then(function(T){return console.log("received: "+JSON.stringify(T)),x.connect(K[0],!0)}).then(function(T){return console.log("received: "+JSON.stringify(T)),M=new l.STU.Tablet,M.Constructor(x,P,N)}).then(function(T){return console.log("received: "+JSON.stringify(T)),x=null,M.getInkThreshold()}).then(function(T){return console.log("m_inkThreshold received: "+JSON.stringify(T)),z=T,M.getCapability()}).then(function(T){return console.log("m_capability received: "+JSON.stringify(T)),I=T,se(I.screenWidth,I.screenHeight),M.getInformation()}).then(function(T){return console.log("received: "+JSON.stringify(T)),M.getInkThreshold()}).then(function(T){return console.log("received: "+JSON.stringify(T)),M.getProductId()}).then(function(T){return console.log("received: "+JSON.stringify(T)),l.STU.ProtocolHelper.simulateEncodingFlag(T,I.encodingFlag)}).then(function(T){console.log("received: "+JSON.stringify(T));var F=T;if((F&b.EncodingFlag.EncodingFlag_24bit)!=0)return M.supportsWrite().then(function(q){R=q?b.EncodingMode.EncodingMode_24bit_Bulk:b.EncodingMode.EncodingMode_24bit});if((F&b.EncodingFlag.EncodingFlag_16bit)!=0)return M.supportsWrite().then(function(q){R=q?b.EncodingMode.EncodingMode_16bit_Bulk:b.EncodingMode.EncodingMode_16bit});R=b.EncodingMode.EncodingMode_1bit}).then(function(T){return M.setClearScreen()}).then(function(T){return console.log("received from setClearScreen: "+JSON.stringify(T)),T}).then(function(T){return console.log("received: "+JSON.stringify(T)),M.isSupported(b.ReportId.ReportId_PenDataOptionMode)}).then(function(T){return console.log("received: "+JSON.stringify(T)),T?M.getProductId().then(function(F){var q=b.PenDataOptionMode.PenDataOptionMode_None;switch(F){case l.STU.ProductId.ProductId_520A:q=b.PenDataOptionMode.PenDataOptionMode_TimeCount;break;case l.STU.ProductId.ProductId_430:case l.STU.ProductId.ProductId_530:case l.STU.ProductId.ProductId_540:q=b.PenDataOptionMode.PenDataOptionMode_TimeCountSequence;break;default:console.log("Unknown tablet supporting PenDataOptionMode, setting to None.")}return M.setPenDataOptionMode(q)}):(R=b.EncodingMode.EncodingMode_1bit,R)}).then(function(T){console.log("received: "+JSON.stringify(T)),me();var F=i.toDataURL("image/png");return l.STU.ProtocolHelper.resizeAndFlatten(F,0,0,0,0,I.screenWidth,I.screenHeight,R,1,!1,0,!0)}).then(function(T){return A=T,console.log("received: "+JSON.stringify(T)),M.writeImage(R,T)}).then(function(T){return console.log("received: "+JSON.stringify(T)),M.setInkingMode(b.InkingMode.InkingMode_On)}).then(function(T){console.log("received: "+JSON.stringify(T));var F=new l.STU.ProtocolHelper.ReportHandler;y={x:0,y:0},p=!1,u.lineWidth=1;var q=function(c){Te(c,i),ce(c,i,u),V.push(c)},ae=function(c){Te(c.penData[0],i),ce(c.penData[0],i,u),Te(c.penData[1],i),ce(c.penData[1],i,u),V.push(c.penData[0],c.penData[1])},ge=function(c){},ye=function(c){};return V=new Array,F.onReportPenData=q,F.onReportPenDataOption=q,F.onReportPenDataTimeCountSequence=q,F.onReportPenDataEncrypted=ae,F.onReportPenDataEncryptedOption=ae,F.onReportPenDataTimeCountSequenceEncrypted=q,F.onReportDevicePublicKey=ge,F.onReportEncryptionStatus=ge,F.decrypt=ye,F.startReporting(M,!0)}).fail(function(T){console.log(T),T instanceof we?(l.STU.Reinitialize(),setTimeout(Ie,H)):(alert(`promptSigDialog failed:
`+T),setTimeout(xe(),0))})}function me(){if(g=new Array(3),g[0]=new te,g[1]=new te,g[2]=new te,K[0].idProduct!=l.STU.ProductId.ProductId_300){var b=I.screenWidth/3,x=I.screenWidth/3,P=I.screenWidth-b-x,N=I.screenHeight*6/7,T=I.screenHeight-N;g[0].Bounds=new B(0,N,P,T),g[1].Bounds=new B(P,N,b,T),g[2].Bounds=new B(P+b,N,x,T)}else{var F=I.screenWidth*3/4,q=I.screenWidth-F,ae=I.screenHeight/3,ge=I.screenHeight/3,ye=I.screenHeight-ae-ge;g[0].Bounds=new B(F,0,q,ye),g[1].Bounds=new B(F,ye,q,ae),g[2].Bounds=new B(F,ye+ae,q,ge)}g[0].Text=_,g[1].Text=S,g[2].Text=h,g[0].Click=le,g[1].Click=Pe,g[2].Click=be,X(i,u),de()}function de(){u.save(),u.setTransform(1,0,0,1,0,0),u.beginPath(),u.lineWidth=1,u.strokeStyle="black",u.font="30px Arial";for(var b=0;b<g.length;++b){u.fillStyle="lightgrey",u.fillRect(g[b].Bounds.x,g[b].Bounds.y,g[b].Bounds.width,g[b].Bounds.height),u.fillStyle="black",u.rect(g[b].Bounds.x,g[b].Bounds.y,g[b].Bounds.width,g[b].Bounds.height);var x=g[b].Bounds.x+(g[b].Bounds.width/2-u.measureText(g[b].Text).width/2),P;K[0].idProduct==l.STU.ProductId.ProductId_300?P=28:K[0].idProduct==l.STU.ProductId.ProductId_430?P=26:P=40,u.fillText(g[b].Text,x,g[b].Bounds.y+P)}u.stroke(),u.closePath(),u.restore()}function _e(){X(i,u),de(),V=new Array,M.writeImage(R,A)}function le(){console.log("btnOk_Click: ",this),Ne(),setTimeout(xe,0)}function be(){setTimeout(xe,0)}function Pe(){console.log("clear!"),_e()}function Be(b,x){return Math.pow(b.x-x.x,2)+Math.pow(b.y-x.y,2)}function X(b,x){x.save(),x.setTransform(1,0,0,1,0,0),x.fillStyle="white",x.fillRect(0,0,b.width,b.height),x.restore()}function De(b,x){x.save(),x.setTransform(1,0,0,1,0,0),x.fillStyle="#ffffff00",x.fillRect(0,0,b.width,b.height),x.restore()}function Te(b,x){var P={};P.x=Math.round(x.width*b.x/I.tabletMaxX),P.y=Math.round(x.height*b.y/I.tabletMaxY);for(var N=p?!(b.pressure<=z.offPressureMark):b.pressure>z.onPressureMark,T=-1,F=0;F<g.length;++F)if(g[F].Bounds.Contains(P)){T=F;break}return p&&!N?(T!=-1&&C===T&&g[T].Click(),C=-1):T!=-1&&!p&&N&&(C=T),T==-1}function ce(b,x,P){var N={};N.x=Math.round(x.width*b.x/I.tabletMaxX),N.y=Math.round(x.height*b.y/I.tabletMaxY);var T=p?!(b.pressure<=z.offPressureMark):b.pressure>z.onPressureMark;!p&&T&&(y=N),(T&&10<Be(y,N)||p&&!T)&&(P.beginPath(),P.moveTo(y.x,y.y),P.lineTo(N.x,N.y),P.stroke(),P.closePath(),y=N),p=T}function Ne(){console.log("generateImage");var b=document.getElementById("signatureImage"),x=document.createElement("canvas");x.id="signatureCanvas",x.height=227,x.width=359;var P=x.getContext("2d");P.lineWidth=2.5,P.strokeStyle="black",De(x,P),y={x:0,y:0},p=!1;for(var N=0;N<V.length;N++)ce(V[N],x,P);d(),b.src=x.toDataURL("image/png")}function xe(){f.value=!1,l.STU.onDCAtimeout=null,Ue(),document.getElementById("sigPreviewContainer").removeChild(s)}function ke(b){for(var x=b.pageX-s.offsetLeft,P=b.pageY-s.offsetTop,N=0;N<g.length;N++)if(g[N].Bounds.Contains(new Re(x,P))){g[N].Click();break}}return(b,x)=>(ie(),re(et,null,[E("div",ci,[E("div",{hidden:!e.details.address_res_barangay,class:"detail",style:{position:"absolute",top:"170px",left:"35px",overflow:"hidden",width:"559px",height:"59px","font-size":"22pt","line-height":"23pt"}}," BRGY. "+O(e.details.address_res_barangay?e.details.address_res_barangay+", ":"")+" "+O(e.details.address_res_city)+", "+O(e.details.address_res_zip_code)+", "+O(e.details.address_res_province)+", "+O(e.details.address_res_country),9,ui),x[3]||(x[3]=E("div",{style:{position:"absolute",top:"242px",left:"347px"}},[E("img",{id:"qr-img",style:{height:"300px",width:"300px"},alt:""})],-1)),E("div",pi,O(e.details.gender),1),E("div",fi,O(e.details.date_of_birth),1),E("div",hi,O(e.details.blood_type),1),E("div",mi,O(e.details.contact_number),1),E("div",gi,O(e.details.emergency_name),1),E("div",yi,O(e.details.emergency_number),1),E("div",Si,O(e.details.date_issued_formatted),1),E("div",vi,O(e.details.date_expire_formatted),1),E("div",{style:{width:"100%",position:"absolute",top:"354px","text-align":"center"},id:"signatureDiv",onClick:x[0]||(x[0]=P=>Me())},[E("img",{hidden:!e.details.sig_src,id:"signatureImage",class:"signatureImage",style:{height:"227px",width:"359px",position:"absolute",bottom:"-584px",left:"151px"}},null,8,wi),E("img",{hidden:e.details.sig_src,src:hn,style:{height:"227px",width:"359px",position:"absolute",bottom:"-584px",left:"151px"}},null,8,bi)])]),U(Xe,{modelValue:un(f),"onUpdate:modelValue":x[2]||(x[2]=P=>pn(f)?f.value=P:f=P),"backdrop-filter":"sepia(90%)",persistent:""},{default:W(()=>[U(tt,null,{default:W(()=>[U(je,{class:"row items-center q-pb-none text-h6"},{default:W(()=>x[4]||(x[4]=[Ce(" Signature ")])),_:1,__:[4]}),U(je,null,{default:W(()=>[x[5]||(x[5]=E("div",{id:"sigPreviewContainer",style:{position:"relative"}},null,-1)),E("div",{style:{width:"107px",height:"29px",position:"absolute",bottom:"16px",left:"16px"},onClick:x[1]||(x[1]=P=>le())}),E("div",{style:{width:"107px",height:"29px",position:"absolute",bottom:"16px",left:"125px"},onClick:Pe}),E("div",{style:{width:"107px",height:"29px",position:"absolute",bottom:"16px",right:"12px"},onClick:be})]),_:1,__:[5]})]),_:1})]),_:1},8,["modelValue"])],64))}});const Ti={id:"IdCardBackV2",style:{width:"640px",height:"1014px","font-size":"7pt",position:"relative","background-image":"url('/images/REG_ID_Back_Temp.jpg')","background-position":"center","background-size":"contain","font-family":"sans-serif"}},xi=["hidden"],Ci={class:"detail",style:{position:"absolute",top:"283px",left:"42px","font-size":"22pt"}},Ii={class:"detail",style:{position:"absolute",top:"363px",left:"42px","font-size":"22pt"}},_i={class:"detail",style:{position:"absolute",top:"442px",left:"42px","font-size":"22pt"}},Pi={class:"detail",style:{position:"absolute",top:"521px",left:"42px","font-size":"22pt"}},Di={style:{width:"100%","text-align":"left",position:"absolute",bottom:"376px",left:"53px","font-size":"22pt"}},Ei={style:{width:"100%","text-align":"left",position:"absolute",bottom:"344px",left:"53px","font-size":"22pt"}},Ri={class:"detail",style:{position:"absolute",top:"671px",left:"204px","font-size":"19pt"}},Ui={class:"detail",style:{position:"absolute",top:"705px",left:"204px","font-size":"19pt"}},Wt=Object.assign({name:"IdCardBack"},{__name:"IdCardBackV2",props:{details:{type:Object,required:!0}},emits:["onPenDataSave"],setup(e,{emit:t}){const n=async b=>{try{var x=document.getElementById("qr-img-v2");x.src=await Ge.toDataURL(b)}catch(P){console.error(P)}},o=e,r=t;function d(){r("onPenDataSave",V)}var f=ln(!1),h="Cancel",S="Clear",_="OK",k=20,H=1e3,a=500,i,u,s,p,y,g,C=-1,I,R,A,z,V,K,v=0,M;cn(()=>o.details,(b,x)=>{b.sig_src&&(V=b.sig_src,I={encodingFlag:3,maxReportRate:200,resolution:64e3,screenHeight:227,screenWidth:359,tabletMaxPressure:1023,tabletMaxX:9600,tabletMaxY:6e3},z={offPressureMark:16,onPressureMark:21},Ne()),n("https://ihris.hrmdo-lgubayawan.link/verify/index.php?id="+o.details.employees_id)},{deep:!0});function ee(){v=v+1,l.STU.isServiceReady()?(v=0,console.log("SigCaptX Web Service: ready")):(console.log("SigCaptX Web Service: not connected"),v<k?setTimeout(ee,H):console.log("Unable to establish connection to SigCaptX"))}setTimeout(ee,a);function ne(){console.log("DCA disconnected"),setTimeout(xe,0)}function B(b,x,P,N){this.x=b,this.y=x,this.width=P,this.height=N,this.Contains=function(T){return T.x>=this.x&&T.x<=this.x+this.width&&T.y>=this.y&&T.y<=this.y+this.height}}function te(){this.Bounds,this.Text,this.Click}function Re(b,x){this.x=b,this.y=x}function se(b,x){s=document.createElement("div"),s.id="signatureWindow",s.className="active",s.style.position="relative",s.style.top=0+"px",s.style.left=0+"px",s.style.width=b+"px",s.style.height=x+"px",document.getElementById("sigPreviewContainer").appendChild(s),i=document.createElement("canvas"),i.id="myCanvas",i.height=s.offsetHeight,i.width=s.offsetWidth,i.style.zIndex=999,s.appendChild(i),u=i.getContext("2d"),console.log("canvas.addEventListener:",i.addEventListener),i.addEventListener?(i.addEventListener("click",ke,!1),console.log("onCanvasClick 0")):i.attachEvent?(i.attachEvent("onClick",ke),console.log("onCanvasClick 1")):(i.onClick=ke,console.log("onCanvasClick 2"))}function Ue(){var b=Q.defer();if(M!=null){var x=new l.STU.Protocol;M.setInkingMode(x.InkingMode.InkingMode_Off).then(function(P){return console.log("received: "+JSON.stringify(P)),M.endCapture()}).then(function(P){return console.log("received: "+JSON.stringify(P)),A!==null?A.remove():P}).then(function(P){return console.log("received: "+JSON.stringify(P)),A=null,M.setClearScreen()}).then(function(P){return console.log("received: "+JSON.stringify(P)),M.disconnect()}).then(function(P){console.log("received: "+JSON.stringify(P)),M=null,X(i,u)}).then(function(P){b.resolve()}).fail(function(P){console.log("disconnect error: "+P),b.resolve()})}else b.resolve();return b.promise}window.addEventListener("beforeunload",function(b){var x="";return l.STU.close(),(b||window.event).returnValue=x,x});function we(){}we.prototype=new Error;function Me(){f.value=!0,Ie()}function Ie(){var b=new l.STU.Protocol,x,P,N;l.STU.isDCAReady().then(function(T){if(!T)throw new we;return l.STU.onDCAtimeout=ne,l.STU.getUsbDevices()}).then(function(T){if(T==null||T.length==0)throw new Error("No STU devices found");return console.log("received: "+JSON.stringify(T)),K=T,l.STU.isSupportedUsbDevice(K[0].idVendor,K[0].idProduct)}).then(function(T){return console.log("received: "+JSON.stringify(T)),x=new l.STU.UsbInterface,x.Constructor()}).then(function(T){return console.log("received: "+JSON.stringify(T)),x.connect(K[0],!0)}).then(function(T){return console.log("received: "+JSON.stringify(T)),M=new l.STU.Tablet,M.Constructor(x,P,N)}).then(function(T){return console.log("received: "+JSON.stringify(T)),x=null,M.getInkThreshold()}).then(function(T){return console.log("m_inkThreshold received: "+JSON.stringify(T)),z=T,M.getCapability()}).then(function(T){return console.log("m_capability received: "+JSON.stringify(T)),I=T,se(I.screenWidth,I.screenHeight),M.getInformation()}).then(function(T){return console.log("received: "+JSON.stringify(T)),M.getInkThreshold()}).then(function(T){return console.log("received: "+JSON.stringify(T)),M.getProductId()}).then(function(T){return console.log("received: "+JSON.stringify(T)),l.STU.ProtocolHelper.simulateEncodingFlag(T,I.encodingFlag)}).then(function(T){console.log("received: "+JSON.stringify(T));var F=T;if((F&b.EncodingFlag.EncodingFlag_24bit)!=0)return M.supportsWrite().then(function(q){R=q?b.EncodingMode.EncodingMode_24bit_Bulk:b.EncodingMode.EncodingMode_24bit});if((F&b.EncodingFlag.EncodingFlag_16bit)!=0)return M.supportsWrite().then(function(q){R=q?b.EncodingMode.EncodingMode_16bit_Bulk:b.EncodingMode.EncodingMode_16bit});R=b.EncodingMode.EncodingMode_1bit}).then(function(T){return M.setClearScreen()}).then(function(T){return console.log("received from setClearScreen: "+JSON.stringify(T)),T}).then(function(T){return console.log("received: "+JSON.stringify(T)),M.isSupported(b.ReportId.ReportId_PenDataOptionMode)}).then(function(T){return console.log("received: "+JSON.stringify(T)),T?M.getProductId().then(function(F){var q=b.PenDataOptionMode.PenDataOptionMode_None;switch(F){case l.STU.ProductId.ProductId_520A:q=b.PenDataOptionMode.PenDataOptionMode_TimeCount;break;case l.STU.ProductId.ProductId_430:case l.STU.ProductId.ProductId_530:case l.STU.ProductId.ProductId_540:q=b.PenDataOptionMode.PenDataOptionMode_TimeCountSequence;break;default:console.log("Unknown tablet supporting PenDataOptionMode, setting to None.")}return M.setPenDataOptionMode(q)}):(R=b.EncodingMode.EncodingMode_1bit,R)}).then(function(T){console.log("received: "+JSON.stringify(T)),me();var F=i.toDataURL("image/png");return l.STU.ProtocolHelper.resizeAndFlatten(F,0,0,0,0,I.screenWidth,I.screenHeight,R,1,!1,0,!0)}).then(function(T){return A=T,console.log("received: "+JSON.stringify(T)),M.writeImage(R,T)}).then(function(T){return console.log("received: "+JSON.stringify(T)),M.setInkingMode(b.InkingMode.InkingMode_On)}).then(function(T){console.log("received: "+JSON.stringify(T));var F=new l.STU.ProtocolHelper.ReportHandler;y={x:0,y:0},p=!1,u.lineWidth=1;var q=function(c){Te(c,i),ce(c,i,u),V.push(c)},ae=function(c){Te(c.penData[0],i),ce(c.penData[0],i,u),Te(c.penData[1],i),ce(c.penData[1],i,u),V.push(c.penData[0],c.penData[1])},ge=function(c){},ye=function(c){};return V=new Array,F.onReportPenData=q,F.onReportPenDataOption=q,F.onReportPenDataTimeCountSequence=q,F.onReportPenDataEncrypted=ae,F.onReportPenDataEncryptedOption=ae,F.onReportPenDataTimeCountSequenceEncrypted=q,F.onReportDevicePublicKey=ge,F.onReportEncryptionStatus=ge,F.decrypt=ye,F.startReporting(M,!0)}).fail(function(T){console.log(T),T instanceof we?(l.STU.Reinitialize(),setTimeout(Ie,H)):(alert(`promptSigDialog failed:
`+T),setTimeout(xe(),0))})}function me(){if(g=new Array(3),g[0]=new te,g[1]=new te,g[2]=new te,K[0].idProduct!=l.STU.ProductId.ProductId_300){var b=I.screenWidth/3,x=I.screenWidth/3,P=I.screenWidth-b-x,N=I.screenHeight*6/7,T=I.screenHeight-N;g[0].Bounds=new B(0,N,P,T),g[1].Bounds=new B(P,N,b,T),g[2].Bounds=new B(P+b,N,x,T)}else{var F=I.screenWidth*3/4,q=I.screenWidth-F,ae=I.screenHeight/3,ge=I.screenHeight/3,ye=I.screenHeight-ae-ge;g[0].Bounds=new B(F,0,q,ye),g[1].Bounds=new B(F,ye,q,ae),g[2].Bounds=new B(F,ye+ae,q,ge)}g[0].Text=_,g[1].Text=S,g[2].Text=h,g[0].Click=le,g[1].Click=Pe,g[2].Click=be,X(i,u),de()}function de(){u.save(),u.setTransform(1,0,0,1,0,0),u.beginPath(),u.lineWidth=1,u.strokeStyle="black",u.font="30px Arial";for(var b=0;b<g.length;++b){u.fillStyle="lightgrey",u.fillRect(g[b].Bounds.x,g[b].Bounds.y,g[b].Bounds.width,g[b].Bounds.height),u.fillStyle="black",u.rect(g[b].Bounds.x,g[b].Bounds.y,g[b].Bounds.width,g[b].Bounds.height);var x=g[b].Bounds.x+(g[b].Bounds.width/2-u.measureText(g[b].Text).width/2),P;K[0].idProduct==l.STU.ProductId.ProductId_300?P=28:K[0].idProduct==l.STU.ProductId.ProductId_430?P=26:P=40,u.fillText(g[b].Text,x,g[b].Bounds.y+P)}u.stroke(),u.closePath(),u.restore()}function _e(){X(i,u),de(),V=new Array,M.writeImage(R,A)}function le(){console.log("btnOk_Click: ",this),Ne(),setTimeout(xe,0)}function be(){setTimeout(xe,0)}function Pe(){console.log("clear!"),_e()}function Be(b,x){return Math.pow(b.x-x.x,2)+Math.pow(b.y-x.y,2)}function X(b,x){x.save(),x.setTransform(1,0,0,1,0,0),x.fillStyle="white",x.fillRect(0,0,b.width,b.height),x.restore()}function De(b,x){x.save(),x.setTransform(1,0,0,1,0,0),x.fillStyle="#ffffff00",x.fillRect(0,0,b.width,b.height),x.restore()}function Te(b,x){var P={};P.x=Math.round(x.width*b.x/I.tabletMaxX),P.y=Math.round(x.height*b.y/I.tabletMaxY);for(var N=p?!(b.pressure<=z.offPressureMark):b.pressure>z.onPressureMark,T=-1,F=0;F<g.length;++F)if(g[F].Bounds.Contains(P)){T=F;break}return p&&!N?(T!=-1&&C===T&&g[T].Click(),C=-1):T!=-1&&!p&&N&&(C=T),T==-1}function ce(b,x,P){var N={};N.x=Math.round(x.width*b.x/I.tabletMaxX),N.y=Math.round(x.height*b.y/I.tabletMaxY);var T=p?!(b.pressure<=z.offPressureMark):b.pressure>z.onPressureMark;!p&&T&&(y=N),(T&&10<Be(y,N)||p&&!T)&&(P.beginPath(),P.moveTo(y.x,y.y),P.lineTo(N.x,N.y),P.stroke(),P.closePath(),y=N),p=T}function Ne(){var b=document.getElementById("signatureImageV2"),x=document.createElement("canvas");x.id="signatureCanvas",x.height=227,x.width=359;var P=x.getContext("2d");P.lineWidth="2.5",P.strokeStyle="black",De(x,P),y={x:0,y:0},p=!1;for(var N=0;N<V.length;N++)ce(V[N],x,P);d(),b.src=x.toDataURL("image/png")}function xe(){f.value=!1,l.STU.onDCAtimeout=null,Ue(),document.getElementById("sigPreviewContainer").removeChild(s)}function ke(b){for(var x=b.pageX-s.offsetLeft,P=b.pageY-s.offsetTop,N=0;N<g.length;N++)if(g[N].Bounds.Contains(new Re(x,P))){g[N].Click();break}}return(b,x)=>(ie(),re(et,null,[E("div",Ti,[E("div",{hidden:!e.details.address_res_barangay,class:"detail",style:{position:"absolute",top:"170px",left:"35px",overflow:"hidden",width:"559px",height:"59px","font-size":"22pt","line-height":"23pt","z-index":"9999"}}," BRGY. "+O(e.details.address_res_barangay?e.details.address_res_barangay+", ":"")+" "+O(e.details.address_res_city)+", "+O(e.details.address_res_zip_code)+", "+O(e.details.address_res_province)+", "+O(e.details.address_res_country),9,xi),x[4]||(x[4]=E("div",{style:{position:"absolute",top:"242px",left:"347px"}},[E("img",{id:"qr-img-v2",style:{height:"300px",width:"300px"},alt:""})],-1)),E("div",Ci,O(e.details.gender),1),E("div",Ii,O(e.details.date_of_birth),1),E("div",_i,O(e.details.blood_type),1),E("div",Pi,O(e.details.contact_number),1),E("div",Di,O(e.details.emergency_name),1),E("div",Ei,O(e.details.emergency_number),1),E("div",Ri,O(e.details.date_issued_formatted),1),E("div",Ui,O(e.details.date_expire_formatted),1),E("div",{style:{width:"100%",position:"absolute",top:"354px","text-align":"center"},id:"signatureDiv",onClick:x[0]||(x[0]=P=>Me())},x[3]||(x[3]=[E("img",{id:"signatureImageV2",class:"signatureImage",src:hn,style:{height:"227px",width:"359px",position:"absolute",bottom:"-584px",left:"151px"}},null,-1)]))]),U(Xe,{modelValue:un(f),"onUpdate:modelValue":x[2]||(x[2]=P=>pn(f)?f.value=P:f=P),"backdrop-filter":"sepia(90%)",persistent:""},{default:W(()=>[U(tt,null,{default:W(()=>[U(je,{class:"row items-center q-pb-none text-h6"},{default:W(()=>x[5]||(x[5]=[Ce(" Signature ")])),_:1,__:[5]}),U(je,null,{default:W(()=>[x[6]||(x[6]=E("div",{id:"sigPreviewContainer",style:{position:"relative"}},null,-1)),E("div",{style:{width:"107px",height:"29px",position:"absolute",bottom:"16px",left:"16px"},onClick:x[1]||(x[1]=P=>le())}),E("div",{style:{width:"107px",height:"29px",position:"absolute",bottom:"16px",left:"125px"},onClick:Pe}),E("div",{style:{width:"107px",height:"29px",position:"absolute",bottom:"16px",right:"12px"},onClick:be})]),_:1,__:[6]})]),_:1})]),_:1},8,["modelValue"])],64))}});var Kt=ot({name:"QCardActions",props:{...Kn,vertical:Boolean},setup(e,{slots:t}){const n=Jn(e),o=Ze(()=>`q-card__actions ${n.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>it("div",{class:o.value},pt(t.default))}});function Jt(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var Gt=Gn({name:"close-popup",beforeMount(e,{value:t}){const n={depth:Jt(t),handler(o){n.depth!==0&&setTimeout(()=>{const r=Vn(e);r!==void 0&&jn(r,o,n.depth)})},handlerKey(o){Qn(o,13)===!0&&n.handler(o)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=Jt(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});var ki=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n};const Mi={props:{image:{type:String,default:""},accept:{type:String,default:"image/*"},placeholderSvg:{type:String,default:'<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 65 65"><defs><style>.cls-1{fill:#000;}</style></defs><title>Upload_Upload</title><path class="cls-1" d="M32.5,1A31.5,31.5,0,1,1,1,32.5,31.54,31.54,0,0,1,32.5,1m0-1A32.5,32.5,0,1,0,65,32.5,32.5,32.5,0,0,0,32.5,0h0Z"/><polygon class="cls-1" points="41.91 28.2 32.59 18.65 23.09 28.39 24.17 29.44 31.87 21.54 31.87 40.05 33.37 40.05 33.37 21.59 40.83 29.25 41.91 28.2"/><polygon class="cls-1" points="40.66 40.35 40.66 44.35 24.34 44.35 24.34 40.35 22.34 40.35 22.34 44.35 22.34 46.35 24.34 46.35 40.66 46.35 42.66 46.35 42.66 44.35 42.66 40.35 40.66 40.35"/></svg>'},border:{type:Number,default:25},borderRadius:{type:Number,default:0},width:{type:Number,default:200},height:{type:Number,default:200},color:{type:Array,default:()=>[0,0,0,.5]},scale:{type:Number,default:1},rotation:{type:Number,default:0}},data(){return{cursor:"cursorPointer",canvas:null,context:null,dragged:!1,imageLoaded:!1,changed:!1,state:{drag:!1,my:null,mx:null,xxx:"ab",image:{x:0,y:0,resource:null}}}},computed:{canvasWidth(){return this.getDimensions().canvas.width},canvasHeight(){return this.getDimensions().canvas.height},rotationRadian(){return this.rotation*Math.PI/180}},mounted(){let e=this;if(this.canvas=this.$refs.avatarEditorCanvas,this.context=this.canvas.getContext("2d"),this.paint(),this.image)this.loadImage(this.image);else{var t=this.svgToImage(this.placeholderSvg);t.onload=function(){var n=e.canvasWidth/2-this.width/2,o=e.canvasHeight/2-this.height/2;e.context.drawImage(t,n,o,this.width,this.height)}}},methods:{drawRoundedRect(e,t,n,o,r,d){if(d===0)e.rect(t,n,o,r);else{const f=o-d,h=r-d;e.translate(t,n),e.arc(d,d,d,Math.PI,Math.PI*1.5),e.lineTo(f,0),e.arc(f,d,d,Math.PI*1.5,Math.PI*2),e.lineTo(o,h),e.arc(f,h,d,Math.PI*2,Math.PI*.5),e.lineTo(d,r),e.arc(d,h,d,Math.PI*.5,Math.PI),e.translate(-t,-n)}},svgToImage(e){let t=new Blob([e],{type:"image/svg+xml;charset=utf-8"}),o=(self.URL||self.webkitURL||self).createObjectURL(t),r=new Image;return r.src=o,r},setState(e){var t=Math.ceil(1),n=Math.floor(1e4);this.state=e,this.state.cnt="HELLO"+Math.floor(Math.random()*(n-t))+t},paint(){this.context.save(),this.context.translate(0,0),this.context.fillStyle="rgba("+this.color.slice(0,4).join(",")+")";let e=this.borderRadius;const t=this.getDimensions(),n=t.border,o=t.canvas.height,r=t.canvas.width;e=Math.max(e,0),e=Math.min(e,r/2-n,o/2-n),this.context.beginPath(),this.drawRoundedRect(this.context,n,n,r-n*2,o-n*2,e),this.context.rect(r,0,-r,o),this.context.fill("evenodd"),this.context.restore()},getDimensions(){return{width:this.width,height:this.height,border:this.border,canvas:{width:this.width+this.border*2,height:this.height+this.border*2}}},onDrop(e){if(e=e||window.event,e.stopPropagation(),e.preventDefault(),e.dataTransfer&&e.dataTransfer.files.length){const t=new FileReader,n=e.dataTransfer.files[0];this.changed=!0,t.onload=o=>this.loadImage(o.target.result),t.readAsDataURL(n)}},onDragStart(e){e=e||window.event,e.preventDefault(),this.state.drag=!0,this.state.mx=null,this.state.my=null,this.cursor="cursorGrabbing";let t=document,n=!1,o=d=>{this.onDragEnd(d),!n&&d.targetTouches&&e.target.click(),t.removeEventListener("mouseup",o),t.removeEventListener("mousemove",r),t.removeEventListener("touchend",o),t.removeEventListener("touchmove",r)},r=d=>{n=!0,this.onMouseMove(d)};t.addEventListener("mouseup",o),t.addEventListener("mousemove",r),t.addEventListener("touchend",o),t.addEventListener("touchmove",r)},onDragEnd(e){this.state.drag&&(this.state.drag=!1,this.cursor="cursorPointer")},onMouseMove(e){if(e=e||window.event,this.state.drag===!1)return;this.dragged=!0,this.changed=!0;let t=this.state.image;const n=t.x,o=t.y,r=e.targetTouches?e.targetTouches[0].pageX:e.clientX,d=e.targetTouches?e.targetTouches[0].pageY:e.clientY,f={mx:r,my:d,image:t};if(this.state.mx&&this.state.my){const h=(this.state.mx-r)/this.scale,S=(this.state.my-d)/this.scale;t.y=this.getBoundedY(o-S,this.scale),t.x=this.getBoundedX(n-h,this.scale)}this.state.mx=f.mx,this.state.my=f.my,this.state.image=t},replaceImageInBounds(){let e=this.state.image;e.y=this.getBoundedY(e.y,this.scale),e.x=this.getBoundedX(e.x,this.scale)},loadImage(e){let t=new Image,n=this;t.onload=()=>{let o=n.getInitialSize(t.width,t.height);n.state.image.x=0,n.state.image.y=0,n.state.image.resource=t,n.state.image.width=o.width,n.state.image.height=o.height,n.state.drag=!1,n.$emit("vue-avatar-editor:image-ready",n.scale),n.imageLoaded=!0,this.$emit("imageLoaded",n.imageLoaded),n.cursor="cursorGrab"},t.onerror=o=>console.log("error loading image: ",o),this.isDataURL(e)||(t.crossOrigin="anonymous"),t.src=e},getInitialSize(e,t){let n,o;const r=this.getDimensions(),d=r.height/r.width,f=t/e;return d>f?(n=this.getDimensions().height,o=e*(n/t)):(o=this.getDimensions().width,n=t*(o/e)),{height:n,width:o}},isDataURL(e){return e===null?!1:!!e.match(/^\s*data:([a-z]+\/[a-z]+(;[a-z\-]+=[a-z\-]+)?)?(;base64)?,[a-z0-9!$&',()*+;=\-._~:@\/?%\s]*\s*$/i)},getBoundedX(e,t){var n=this.state.image,o=this.getDimensions();let r=Math.abs(n.width*Math.cos(this.rotationRadian))+Math.abs(n.height*Math.sin(this.rotationRadian)),d=Math.floor((r-o.width/t)/2);return d=Math.max(0,d),Math.max(-d,Math.min(e,d))},getBoundedY(e,t){var n=this.state.image,o=this.getDimensions();let r=Math.abs(n.width*Math.sin(this.rotationRadian))+Math.abs(n.height*Math.cos(this.rotationRadian)),d=Math.floor((r-o.height/t)/2);return d=Math.max(0,d),Math.max(-d,Math.min(e,d))},paintImage(e,t,n){if(t.resource){var o=this.calculatePosition(t,n);e.save(),e.globalCompositeOperation="destination-over";let r=this.getDimensions();e.translate(r.canvas.width/2,r.canvas.height/2),e.rotate(this.rotationRadian),e.translate(-r.canvas.width/2,-r.canvas.height/2),e.drawImage(t.resource,o.x,o.y,o.width,o.height),e.restore()}},transformDataWithRotation(e,t){let n=-this.rotationRadian,o=e*Math.cos(n)-t*Math.sin(n),r=e*Math.sin(n)+t*Math.cos(n);return[o,r]},calculatePosition(e,t){e=e||this.state.image;var n=this.getDimensions();let o=e.width*this.scale,r=e.height*this.scale;var d=(o-n.width)/2,f=(r-n.height)/2,h=e.x*this.scale,S=e.y*this.scale;return[h,S]=this.transformDataWithRotation(h,S),h+=t-d,S+=t-f,{x:h,y:S,height:r,width:o}},redraw(){this.context.clearRect(0,0,this.getDimensions().canvas.width,this.getDimensions().canvas.height),this.paint(),this.paintImage(this.context,this.state.image,this.border)},getImage(){const e=this.getCroppingRect(),t=this.state.image;e.x*=t.resource.width,e.y*=t.resource.height,e.width*=t.resource.width,e.height*=t.resource.height;const n=document.createElement("canvas");return n.width=e.width,n.height=e.height,n.getContext("2d").drawImage(t.resource,-e.x,-e.y),n},getImageScaled(){const{width:e,height:t}=this.getDimensions(),n=document.createElement("canvas");return n.width=e,n.height=t,this.paintImage(n.getContext("2d"),this.state.image,0),n},imageChanged(){return this.changed},getCroppingRect(){const e=this.getDimensions(),t={x:e.border,y:e.border,width:e.width,height:e.height},n=this.calculatePosition(this.state.image,e.border);return{x:(t.x-n.x)/n.width,y:(t.y-n.y)/n.height,width:t.width/n.width,height:t.height/n.height}},clicked(e){this.dragged===!0?this.dragged=!1:this.$refs.input.click()},fileSelected(e){var t=e.target.files||e.dataTransfer.files;if(this.$emit("select-file",t),!!t.length){var n=new FileReader;this.changed=!0,n.onload=o=>this.loadImage(o.target.result),n.readAsDataURL(t[0])}},resetImage(){let e=this;this.canvas=this.$refs.avatarEditorCanvas,this.context=this.canvas.getContext("2d"),e.imageLoaded=!1,this.$emit("imageLoaded",e.imageLoaded),e.state={drag:!1,my:null,mx:null,xxx:"ab",image:{x:0,y:0,resource:null}},this.context.clearRect(0,0,this.getDimensions().canvas.width,this.getDimensions().canvas.height),this.paint();var t=this.svgToImage(this.placeholderSvg);t.onload=function(){var n=e.canvasWidth/2-this.width/2,o=e.canvasHeight/2-this.height/2;e.context.drawImage(t,n,o,this.width,this.height)}}},watch:{state:{handler(e,t){this.imageLoaded&&this.redraw()},deep:!0},scale(){this.imageLoaded&&(this.replaceImageInBounds(),this.redraw())},rotation(){this.imageLoaded&&(this.replaceImageInBounds(),this.redraw())},borderRadius(){this.redraw()}}},Bi=["width","height"],Ni=["accept"];function Fi(e,t,n,o,r,d){return ie(),re("div",null,[E("canvas",{width:d.canvasWidth,height:d.canvasHeight,class:"cursorPointer",id:"avatarEditorCanvas",ref:"avatarEditorCanvas",onDragover:t[0]||(t[0]=_t(()=>{},["prevent"])),onDrop:t[1]||(t[1]=(...f)=>d.onDrop&&d.onDrop(...f)),onMousedown:t[2]||(t[2]=(...f)=>d.onDragStart&&d.onDragStart(...f)),onTouchstart:t[3]||(t[3]=(...f)=>d.onDragStart&&d.onDragStart(...f)),onClick:t[4]||(t[4]=(...f)=>d.clicked&&d.clicked(...f))},null,40,Bi),E("input",{type:"file",ref:"input",accept:n.accept,onChange:t[5]||(t[5]=(...f)=>d.fileSelected&&d.fileSelected(...f)),style:{display:"none"}},null,40,Ni)])}var Oi=ki(Mi,[["render",Fi]]);const Ai={class:"q-mt-sm"},Li={id:"uploadForm",enctype:"multipart/form-data"},Qt=Object.assign({name:"PhotoGetter",components:{VueAvatar:Oi},data(){return{imageIsLoading:"loaded",uploadDialog:!1,prompt:!1,selectedCamDevice:null,camDevices:[],player:null,rotation:0,scale:1,borderRadius:0,imgSrc:null}},watch:{"selected_employee_data.employees_id"(e){e&&(this.imageIsLoading="loading",this.$nextTick(()=>{this.getPhoto().then(()=>{})}))},prompt(e,t){e||window.stream&&window.stream.getTracks().forEach(n=>{n.stop()})},selectedCamDevice(e){this.getStream()}},methods:{imageLoaded(){this.imageIsLoading="loaded"},async getPhoto(){await this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{getPhoto:!0,employees_id:this.selected_employee_data.employees_id}).then(({data:e})=>{this.$refs.uploadedPhotoRef.src=e,e||(this.imageIsLoading="loaded")}).catch(e=>{console.error(e)})},uploadImage(){this.imageIsLoading="loading";var e=document.getElementById("uploadForm"),t=new FormData(e);t.append("employees_id",this.selected_employee_data.employees_id),this.$api.post("http://192.168.50.50:8081/id_photo_upload.php",t,{headers:{"Content-Type":"multipart/form-data"}}).then(({data:n})=>{this.getPhoto(),this.$emit("imageCaptured",t),this.uploadDialog=!this.uploadDialog,this.imageIsLoading="loaded"}).catch(n=>{console.error(n)})},saveClicked:function(){var t=this.$refs.vueavatar.getImageScaled();const n=t.toDataURL("image/jpeg",1),o=document.getElementById("uploadedPhoto");o.src=n;const r=document.getElementById("canvasCapture");r.getContext("2d").drawImage(o,0,0,r.width,r.height),this.$emit("imageCaptured",n),this.uploadDialog=!this.uploadDialog},onImageReady:function(){this.scale=1,this.rotation=0},uploadPhoto(e){const t=document.getElementById("uploadPhotoInput");var n=document.getElementById("uploadedPhoto");t.files&&t.files[0]&&(n.onload=()=>{URL.revokeObjectURL(n.src),document.getElementById("uploadedPhotoEditor");const o=document.getElementById("canvasCapture");o.getContext("2d").drawImage(n,0,0,n.width,n.height,0,0,o.width,o.height);const d=o.toDataURL("image/jpeg",1);this.$emit("imageCaptured",d)},n.src=URL.createObjectURL(t.files[0]))},promptDialog(){this.camDevices=[],this.getDevices().then(this.gotDevices),this.prompt=!this.prompt,this.$nextTick(()=>{this.player=document.getElementById("player");const e=document.getElementById("canvasCapture"),t=e.getContext("2d");document.getElementById("capture").addEventListener("click",()=>{t.drawImage(this.player,0,0,e.width,e.height);const o=e.toDataURL("image/jpeg",1),r=document.getElementById("uploadedPhoto");r.src=o,this.prompt=!this.prompt,this.$emit("imageCaptured",o),window.stream&&window.stream.getTracks().forEach(d=>{d.stop()})}),this.getStream()})},getStream(){window.stream&&window.stream.getTracks().forEach(n=>{n.stop()});const e=this.selectedCamDevice.value,t={video:{deviceId:e?{exact:e}:void 0}};return navigator.mediaDevices.getUserMedia(t).then(this.gotStream)},gotStream(e){window.stream=e,this.player.srcObject=e},async getDevices(){return await navigator.mediaDevices.enumerateDevices()},async gotDevices(e){window.deviceInfos=e;for(const t of e){const n={label:"",value:""};n.value=t.deviceId,t.kind==="videoinput"&&(n.label=t.label||`Camera ${videoSelect.length+1}`,this.camDevices.push(n))}this.selectedCamDevice==null&&(this.selectedCamDevice=this.camDevices[0])}},created(){}},{__name:"PhotoGetter",props:{selected_employee_data:{type:Object}},emits:["imageCaptured"],setup(e){return(t,n)=>(ie(),re(et,null,[E("div",Ai,[U(fe,{unelevated:"",icon:"file_upload",onClick:n[0]||(n[0]=o=>t.uploadDialog=!t.uploadDialog),disable:!e.selected_employee_data.employees_id},{default:W(()=>n[5]||(n[5]=[Ce("Upload Photo")])),_:1,__:[5]},8,["disable"]),Yn(t.$slots,"buttons")]),U(Xe,{modelValue:t.prompt,"onUpdate:modelValue":n[2]||(n[2]=o=>t.prompt=o),persistent:""},{default:W(()=>[U(tt,{style:{"min-width":"1500px","text-align":"center"}},{default:W(()=>[U(je,{class:"q-pt-none q-ma-lg"},{default:W(()=>[U(Ct,{modelValue:t.selectedCamDevice,"onUpdate:modelValue":n[1]||(n[1]=o=>t.selectedCamDevice=o),options:t.camDevices,label:"Device"},null,8,["modelValue","options"]),n[7]||(n[7]=E("video",{id:"player",autoplay:"",style:{width:"1000px"}},null,-1)),n[8]||(n[8]=E("br",null,null,-1)),U(fe,{id:"capture"},{default:W(()=>n[6]||(n[6]=[Ce("Capture")])),_:1,__:[6]})]),_:1,__:[7,8]}),U(Kt,{align:"right",class:"text-primary"},{default:W(()=>[Lt(U(fe,{flat:"",label:"Cancel"},null,512),[[Gt]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),U(Xe,{modelValue:t.uploadDialog,"onUpdate:modelValue":n[4]||(n[4]=o=>t.uploadDialog=o),persistent:""},{default:W(()=>[U(tt,{style:{"_min-width":"1500px","text-align":"center"}},{default:W(()=>[U(je,{class:"q-pt-none q-ma-lg"},{default:W(()=>[E("form",Li,[n[9]||(n[9]=E("input",{type:"file",id:"fileInput",name:"image",accept:"image/jpeg"},null,-1)),E("button",{type:"button",onClick:n[3]||(n[3]=o=>t.uploadImage())},"Upload")])]),_:1}),U(Kt,{align:"right",class:"text-primary"},{default:W(()=>[Lt(U(fe,{flat:"",label:"Cancel"},null,512),[[Gt]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}}),$i={style:{position:"relative",display:"inline"},ref:"clickBox"},Hi=["hidden"],zi={style:{"font-size":"12pt"}},Vi={style:{"font-size":"12pt"}},ji={style:{"font-size":"12pt"}},Yt=Object.assign({name:"PhotoAdjuster",data:function(){return{displayModal:!1,photoFormat:this.photoProps,photoFormatDefault:Object.assign({},this.photoProps),interval:null,count:0,horizontalDir:null}},methods:{mousedown(e){this.horizontalDir=e,this.increment(),this.interval=setInterval(this.increment,100)},mouseup(){clearInterval(this.interval)},increment(){this.horizontalDir=="left"?this.photoFormat.left+=1:this.photoFormat.left-=1},promptDialog(){this.displayModal=!this.displayModal},reset(){this.photoFormat.top=this.photoFormatDefault.top,this.photoFormat.left=this.photoFormatDefault.left,this.photoFormat.scale=this.photoFormatDefault.scale},handleClickOutside(e){this.$refs.clickBox&&!this.$refs.clickBox.contains(e.target)&&(this.displayModal=!1)}},mounted(){window.addEventListener("click",this.handleClickOutside)},beforeUnmount(){window.removeEventListener("click",this.handleClickOutside)}},{__name:"PhotoAdjuster",props:{photoProps:{type:Object,required:!0},selected_employee_data:{type:Object}},setup(e){return(t,n)=>(ie(),re("div",$i,[U(fe,{unelevated:"",icon:"format_shapes",onClick:n[0]||(n[0]=o=>t.promptDialog()),disable:!e.selected_employee_data.employees_id},null,8,["disable"]),E("div",{class:"q-pa-md",hidden:t.displayModal==!1,style:{position:"absolute","z-index":"999","background-color":"white",width:"250px","box-shadow":"10px 19px 60px -27px","border-radius":"5px",right:"-210px","padding-right":"20px"}},[U(fe,{size:"xs",style:{position:"absolute",top:"10px",right:"10px"},onClick:n[1]||(n[1]=o=>t.reset())},{default:W(()=>n[6]||(n[6]=[Ce("Reset")])),_:1,__:[6]}),E("label",zi,"Horizontal: "+O(t.photoFormat.left)+"px",1),U(oe,{type:"number",dense:"",modelValue:t.photoFormat.left,"onUpdate:modelValue":n[2]||(n[2]=o=>t.photoFormat.left=o),min:-6e3,max:440,step:1},null,8,["modelValue"]),E("label",Vi,"Vertical: "+O(t.photoFormat.top)+"px",1),U(oe,{type:"number",dense:"",modelValue:t.photoFormat.top,"onUpdate:modelValue":n[3]||(n[3]=o=>t.photoFormat.top=o)},null,8,["modelValue"]),E("label",ji,"Scale: "+O(t.photoFormat.scale)+"px",1),U(oe,{type:"number",dense:"",modelValue:t.photoFormat.scale,"onUpdate:modelValue":n[4]||(n[4]=o=>t.photoFormat.scale=o),min:0,max:1e3,step:1},null,8,["modelValue"]),U(fe,{size:"xs",onClick:n[5]||(n[5]=o=>t.displayModal=!t.displayModal)},{default:W(()=>n[7]||(n[7]=[Ce("Close")])),_:1,__:[7]})],8,Hi)],512))}}),qi={style:{position:"relative"},ref:"clickBox"},Wi=["hidden"],Ki={for:"",style:{"font-size":"12pt"}},Ji={for:"",style:{"font-size":"12pt"}},Gi={for:"",style:{"font-size":"12pt"}},$e=Object.assign({name:"TextFormatter",data:function(){return{displayModal:!1,text:this.textProps,textDefault:Object.assign({},this.textProps)}},methods:{adjustLastName(){this.displayModal=!this.displayModal},reset(){this.text.font_size=this.textDefault.font_size,this.text.bottom=this.textDefault.bottom,this.text.left=this.textDefault.left,this.text.line_height!==void 0&&(this.text.line_height=this.textDefault.line_height)},handleClickOutside(e){this.$refs.clickBox&&!this.$refs.clickBox.contains(e.target)&&(this.displayModal=!1)}},mounted(){window.addEventListener("click",this.handleClickOutside)},beforeUnmount(){window.removeEventListener("click",this.handleClickOutside)}},{__name:"TextFormatter",props:{textProps:{type:Object},textFor:{type:String},customIcon:{type:String,default:"format_shapes"}},setup(e){return(t,n)=>(ie(),re("div",qi,[U(fe,{round:"",dense:"",flat:"",icon:e.customIcon,onClick:n[0]||(n[0]=o=>t.adjustLastName())},null,8,["icon"]),E("div",{class:"q-pa-md",hidden:t.displayModal==!1,style:{position:"absolute","z-index":"999","background-color":"white",width:"250px","box-shadow":"10px 10px 20px 10px","border-radius":"5px",right:"0px"}},[U(fe,{flat:"",round:"",size:"sm",style:{position:"absolute",top:"10px",right:"60px"},onClick:n[1]||(n[1]=o=>t.reset()),icon:"restart_alt"}),U(fe,{round:"",size:"sm",style:{position:"absolute",top:"10px",right:"10px"},onClick:n[2]||(n[2]=o=>t.displayModal=!t.displayModal),icon:"close"}),n[8]||(n[8]=E("div",{class:"q-mb-md"},null,-1)),e.textFor!="horizontalLine"?(ie(),re(et,{key:0},[E("label",Ki,"Font-size: "+O(t.text.font_size)+"px",1),U(oe,{type:"number",modelValue:t.text.font_size,"onUpdate:modelValue":n[3]||(n[3]=o=>t.text.font_size=o),min:8,max:60,step:1},null,8,["modelValue"])],64)):It("",!0),E("label",Ji,"Vertical Position: "+O(t.text.bottom)+"px",1),U(oe,{type:"number",modelValue:t.text.bottom,"onUpdate:modelValue":n[4]||(n[4]=o=>t.text.bottom=o),min:0,max:300,step:1},null,8,["modelValue"]),e.textFor=="position"||e.textFor=="department"||e.textFor=="section"||e.textFor=="firstName"?(ie(),re(et,{key:1},[E("label",Gi,"Line Height: "+O(t.text.line_height)+"px",1),U(oe,{type:"number",modelValue:t.text.line_height,"onUpdate:modelValue":n[5]||(n[5]=o=>t.text.line_height=o),min:0,max:238,step:1},null,8,["modelValue"])],64)):It("",!0),U(fe,{size:"xs",onClick:n[6]||(n[6]=o=>t.displayModal=!t.displayModal)},{default:W(()=>n[7]||(n[7]=[Ce("Close")])),_:1,__:[7]})],8,Wi)],512))}});function Qi(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),o=n.createElement("base"),r=n.createElement("a");return n.head.appendChild(o),n.body.appendChild(r),t&&(o.href=t),r.href=e,r.href}const Yi=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function Oe(e){const t=[];for(let n=0,o=e.length;n<o;n++)t.push(e[n]);return t}let He=null;function Un(e={}){return He||(e.includeStyleProperties?(He=e.includeStyleProperties,He):(He=Oe(window.getComputedStyle(document.documentElement)),He))}function ct(e,t){const o=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return o?parseFloat(o.replace("px","")):0}function Xi(e){const t=ct(e,"border-left-width"),n=ct(e,"border-right-width");return e.clientWidth+t+n}function Zi(e){const t=ct(e,"border-top-width"),n=ct(e,"border-bottom-width");return e.clientHeight+t+n}function kn(e,t={}){const n=t.width||Xi(e),o=t.height||Zi(e);return{width:n,height:o}}function er(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const Se=16384;function tr(e){(e.width>Se||e.height>Se)&&(e.width>Se&&e.height>Se?e.width>e.height?(e.height*=Se/e.width,e.width=Se):(e.width*=Se/e.height,e.height=Se):e.width>Se?(e.height*=Se/e.width,e.width=Se):(e.width*=Se/e.height,e.height=Se))}function ut(e){return new Promise((t,n)=>{const o=new Image;o.onload=()=>{o.decode().then(()=>{requestAnimationFrame(()=>t(o))})},o.onerror=n,o.crossOrigin="anonymous",o.decoding="async",o.src=e})}async function nr(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function or(e,t,n){const o="http://www.w3.org/2000/svg",r=document.createElementNS(o,"svg"),d=document.createElementNS(o,"foreignObject");return r.setAttribute("width",`${t}`),r.setAttribute("height",`${n}`),r.setAttribute("viewBox",`0 0 ${t} ${n}`),d.setAttribute("width","100%"),d.setAttribute("height","100%"),d.setAttribute("x","0"),d.setAttribute("y","0"),d.setAttribute("externalResourcesRequired","true"),r.appendChild(d),d.appendChild(e),nr(r)}const he=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||he(n,t)};function ir(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function rr(e,t){return Un(t).map(n=>{const o=e.getPropertyValue(n),r=e.getPropertyPriority(n);return`${n}: ${o}${r?" !important":""};`}).join(" ")}function ar(e,t,n,o){const r=`.${e}:${t}`,d=n.cssText?ir(n):rr(n,o);return document.createTextNode(`${r}{${d}}`)}function Xt(e,t,n,o){const r=window.getComputedStyle(e,n),d=r.getPropertyValue("content");if(d===""||d==="none")return;const f=Yi();try{t.className=`${t.className} ${f}`}catch{return}const h=document.createElement("style");h.appendChild(ar(f,n,r,o)),t.appendChild(h)}function sr(e,t,n){Xt(e,t,":before",n),Xt(e,t,":after",n)}const Zt="application/font-woff",en="image/jpeg",dr={woff:Zt,woff2:Zt,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:en,jpeg:en,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function lr(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function Ot(e){const t=lr(e).toLowerCase();return dr[t]||""}function cr(e){return e.split(/,/)[1]}function Ut(e){return e.search(/^(data:)/)!==-1}function Mn(e,t){return`data:${t};base64,${e}`}async function Bn(e,t,n){const o=await fetch(e,t);if(o.status===404)throw new Error(`Resource "${o.url}" not found`);const r=await o.blob();return new Promise((d,f)=>{const h=new FileReader;h.onerror=f,h.onloadend=()=>{try{d(n({res:o,result:h.result}))}catch(S){f(S)}},h.readAsDataURL(r)})}const xt={};function ur(e,t,n){let o=e.replace(/\?.*/,"");return n&&(o=e),/ttf|otf|eot|woff2?/i.test(o)&&(o=o.replace(/.*\//,"")),t?`[${t}]${o}`:o}async function At(e,t,n){const o=ur(e,t,n.includeQueryParams);if(xt[o]!=null)return xt[o];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let r;try{const d=await Bn(e,n.fetchRequestInit,({res:f,result:h})=>(t||(t=f.headers.get("Content-Type")||""),cr(h)));r=Mn(d,t)}catch(d){r=n.imagePlaceholder||"";let f=`Failed to fetch resource: ${e}`;d&&(f=typeof d=="string"?d:d.message),f&&console.warn(f)}return xt[o]=r,r}async function pr(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):ut(t)}async function fr(e,t){if(e.currentSrc){const d=document.createElement("canvas"),f=d.getContext("2d");d.width=e.clientWidth,d.height=e.clientHeight,f==null||f.drawImage(e,0,0,d.width,d.height);const h=d.toDataURL();return ut(h)}const n=e.poster,o=Ot(n),r=await At(n,o,t);return ut(r)}async function hr(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await yt(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function mr(e,t){return he(e,HTMLCanvasElement)?pr(e):he(e,HTMLVideoElement)?fr(e,t):he(e,HTMLIFrameElement)?hr(e,t):e.cloneNode(Nn(e))}const gr=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",Nn=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function yr(e,t,n){var o,r;if(Nn(t))return t;let d=[];return gr(e)&&e.assignedNodes?d=Oe(e.assignedNodes()):he(e,HTMLIFrameElement)&&((o=e.contentDocument)===null||o===void 0?void 0:o.body)?d=Oe(e.contentDocument.body.childNodes):d=Oe(((r=e.shadowRoot)!==null&&r!==void 0?r:e).childNodes),d.length===0||he(e,HTMLVideoElement)||await d.reduce((f,h)=>f.then(()=>yt(h,n)).then(S=>{S&&t.appendChild(S)}),Promise.resolve()),t}function Sr(e,t,n){const o=t.style;if(!o)return;const r=window.getComputedStyle(e);r.cssText?(o.cssText=r.cssText,o.transformOrigin=r.transformOrigin):Un(n).forEach(d=>{let f=r.getPropertyValue(d);d==="font-size"&&f.endsWith("px")&&(f=`${Math.floor(parseFloat(f.substring(0,f.length-2)))-.1}px`),he(e,HTMLIFrameElement)&&d==="display"&&f==="inline"&&(f="block"),d==="d"&&t.getAttribute("d")&&(f=`path(${t.getAttribute("d")})`),o.setProperty(d,f,r.getPropertyPriority(d))})}function vr(e,t){he(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),he(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function wr(e,t){if(he(e,HTMLSelectElement)){const n=t,o=Array.from(n.children).find(r=>e.value===r.getAttribute("value"));o&&o.setAttribute("selected","")}}function br(e,t,n){return he(t,Element)&&(Sr(e,t,n),sr(e,t,n),vr(e,t),wr(e,t)),t}async function Tr(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const o={};for(let d=0;d<n.length;d++){const h=n[d].getAttribute("xlink:href");if(h){const S=e.querySelector(h),_=document.querySelector(h);!S&&_&&!o[h]&&(o[h]=await yt(_,t,!0))}}const r=Object.values(o);if(r.length){const d="http://www.w3.org/1999/xhtml",f=document.createElementNS(d,"svg");f.setAttribute("xmlns",d),f.style.position="absolute",f.style.width="0",f.style.height="0",f.style.overflow="hidden",f.style.display="none";const h=document.createElementNS(d,"defs");f.appendChild(h);for(let S=0;S<r.length;S++)h.appendChild(r[S]);e.appendChild(f)}return e}async function yt(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(o=>mr(o,t)).then(o=>yr(e,o,t)).then(o=>br(e,o,t)).then(o=>Tr(o,t))}const Fn=/url\((['"]?)([^'"]+?)\1\)/g,xr=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,Cr=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function Ir(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function _r(e){const t=[];return e.replace(Fn,(n,o,r)=>(t.push(r),n)),t.filter(n=>!Ut(n))}async function Pr(e,t,n,o,r){try{const d=n?Qi(t,n):t,f=Ot(t);let h;if(r){const S=await r(d);h=Mn(S,f)}else h=await At(d,f,o);return e.replace(Ir(t),`$1${h}$3`)}catch{}return e}function Dr(e,{preferredFontFormat:t}){return t?e.replace(Cr,n=>{for(;;){const[o,,r]=xr.exec(n)||[];if(!r)return"";if(r===t)return`src: ${o};`}}):e}function On(e){return e.search(Fn)!==-1}async function An(e,t,n){if(!On(e))return e;const o=Dr(e,n);return _r(o).reduce((d,f)=>d.then(h=>Pr(h,f,t,n)),Promise.resolve(o))}async function ze(e,t,n){var o;const r=(o=t.style)===null||o===void 0?void 0:o.getPropertyValue(e);if(r){const d=await An(r,null,n);return t.style.setProperty(e,d,t.style.getPropertyPriority(e)),!0}return!1}async function Er(e,t){await ze("background",e,t)||await ze("background-image",e,t),await ze("mask",e,t)||await ze("-webkit-mask",e,t)||await ze("mask-image",e,t)||await ze("-webkit-mask-image",e,t)}async function Rr(e,t){const n=he(e,HTMLImageElement);if(!(n&&!Ut(e.src))&&!(he(e,SVGImageElement)&&!Ut(e.href.baseVal)))return;const o=n?e.src:e.href.baseVal,r=await At(o,Ot(o),t);await new Promise((d,f)=>{e.onload=d,e.onerror=t.onImageErrorHandler?(...S)=>{try{d(t.onImageErrorHandler(...S))}catch(_){f(_)}}:f;const h=e;h.decode&&(h.decode=d),h.loading==="lazy"&&(h.loading="eager"),n?(e.srcset="",e.src=r):e.href.baseVal=r})}async function Ur(e,t){const o=Oe(e.childNodes).map(r=>Ln(r,t));await Promise.all(o).then(()=>e)}async function Ln(e,t){he(e,Element)&&(await Er(e,t),await Rr(e,t),await Ur(e,t))}function kr(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const o=t.style;return o!=null&&Object.keys(o).forEach(r=>{n[r]=o[r]}),e}const tn={};async function nn(e){let t=tn[e];if(t!=null)return t;const o=await(await fetch(e)).text();return t={url:e,cssText:o},tn[e]=t,t}async function on(e,t){let n=e.cssText;const o=/url\(["']?([^"')]+)["']?\)/g,d=(n.match(/url\([^)]+\)/g)||[]).map(async f=>{let h=f.replace(o,"$1");return h.startsWith("https://")||(h=new URL(h,e.url).href),Bn(h,t.fetchRequestInit,({result:S})=>(n=n.replace(f,`url(${S})`),[f,S]))});return Promise.all(d).then(()=>n)}function rn(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let o=e.replace(n,"");const r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const S=r.exec(o);if(S===null)break;t.push(S[0])}o=o.replace(r,"");const d=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,f="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",h=new RegExp(f,"gi");for(;;){let S=d.exec(o);if(S===null){if(S=h.exec(o),S===null)break;d.lastIndex=h.lastIndex}else h.lastIndex=d.lastIndex;t.push(S[0])}return t}async function Mr(e,t){const n=[],o=[];return e.forEach(r=>{if("cssRules"in r)try{Oe(r.cssRules||[]).forEach((d,f)=>{if(d.type===CSSRule.IMPORT_RULE){let h=f+1;const S=d.href,_=nn(S).then(k=>on(k,t)).then(k=>rn(k).forEach(H=>{try{r.insertRule(H,H.startsWith("@import")?h+=1:r.cssRules.length)}catch(a){console.error("Error inserting rule from remote css",{rule:H,error:a})}})).catch(k=>{console.error("Error loading remote css",k.toString())});o.push(_)}})}catch(d){const f=e.find(h=>h.href==null)||document.styleSheets[0];r.href!=null&&o.push(nn(r.href).then(h=>on(h,t)).then(h=>rn(h).forEach(S=>{f.insertRule(S,f.cssRules.length)})).catch(h=>{console.error("Error loading remote stylesheet",h)})),console.error("Error inlining remote css file",d)}}),Promise.all(o).then(()=>(e.forEach(r=>{if("cssRules"in r)try{Oe(r.cssRules||[]).forEach(d=>{n.push(d)})}catch(d){console.error(`Error while reading CSS rules from ${r.href}`,d)}}),n))}function Br(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>On(t.style.getPropertyValue("src")))}async function Nr(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Oe(e.ownerDocument.styleSheets),o=await Mr(n,t);return Br(o)}function $n(e){return e.trim().replace(/["']/g,"")}function Fr(e){const t=new Set;function n(o){(o.style.fontFamily||getComputedStyle(o).fontFamily).split(",").forEach(d=>{t.add($n(d))}),Array.from(o.children).forEach(d=>{d instanceof HTMLElement&&n(d)})}return n(e),t}async function Or(e,t){const n=await Nr(e,t),o=Fr(e);return(await Promise.all(n.filter(d=>o.has($n(d.style.fontFamily))).map(d=>{const f=d.parentStyleSheet?d.parentStyleSheet.href:null;return An(d.cssText,f,t)}))).join(`
`)}async function Ar(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await Or(e,t);if(n){const o=document.createElement("style"),r=document.createTextNode(n);o.appendChild(r),e.firstChild?e.insertBefore(o,e.firstChild):e.appendChild(o)}}async function Lr(e,t={}){const{width:n,height:o}=kn(e,t),r=await yt(e,t,!0);return await Ar(r,t),await Ln(r,t),kr(r,t),await or(r,n,o)}async function $r(e,t={}){const{width:n,height:o}=kn(e,t),r=await Lr(e,t),d=await ut(r),f=document.createElement("canvas"),h=f.getContext("2d"),S=t.pixelRatio||er(),_=t.canvasWidth||n,k=t.canvasHeight||o;return f.width=_*S,f.height=k*S,t.skipAutoScale||tr(f),f.style.width=`${_}`,f.style.height=`${k}`,t.backgroundColor&&(h.fillStyle=t.backgroundColor,h.fillRect(0,0,f.width,f.height)),h.drawImage(d,0,0,f.width,f.height),f}async function Ve(e,t={}){return(await $r(e,t)).toDataURL("image/jpeg",t.quality||1)}const Hr={class:"row",style:{position:"inherit"}},zr={class:"col-6",style:{}},Vr={class:"flex justify-left; q-mb-md"},jr={class:"q-px-md"},qr={class:"row justify-end"},Wr={class:"col-10"},Kr={class:"row"},Jr={class:"row"},Gr={class:"col"},Qr={class:"col q-ml-sm"},Yr={class:"row"},Xr={class:"row"},Zr={class:"row"},ea={class:"row"},ta={class:"col"},na={class:"col q-ml-sm"},oa={id:"cardFrontAndBack",class:"flex",style:{position:"relative"}},ia={class:"flex flex-center"},ca=Object.assign({name:"IndexPage",components:{IdCardFront:$t,IdCardFrontV2:Ht,IdCardBack:qt,IdCardBackV2:Wt,PhotoGetter:Qt,PhotoAdjuster:Yt,TextFormatter:$e,AutocompleteInput:Le},data:function(){return{id:null,id:null,showLoading:!1,departmentOptions:[],sectionOptions:[],addressOptions:[],$q:eo(),photoFormat:{top:3,left:17,scale:84},textFormat:{position:{font_size:17,bottom:102,left:40,line_height:20},horizontalLine:{bottom:100,left:40},section:{font_size:18,bottom:80,left:40,line_height:20},department:{font_size:18,bottom:58,left:40,line_height:66},lastName:{font_size:40,bottom:140,left:40},firstName:{font_size:27,bottom:109,left:40,line_height:66}},selected_employee_input:null,selected_employee_data:{empno:null,lastName:null,firstName:null,middleName:null,extName:null,position:null,position_function:null,address:null},selected_employee_image_data:null,employees:[],selections:this.employees,timestamp:0}},methods:{saveImageCaptured(e){this.timestamp=new Date().valueOf()},savePendata(e){this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{savePendata:!0,m_penData:e,employees_id:this.selected_employee_data.employees_id}).then(({data:t})=>{}).catch(t=>{console.error(t)})},adjustLastName(){},downloadAsPdf(){var e=document.getElementById("IdCardFront"),t=document.getElementById("IdCardBack");Ve(e,{quality:1}).then(n=>{this.$api.post("http://192.168.50.50:8081/id_card_upload.php",{employees_id:this.selected_employee_data.employees_id,side:"front",image:n},{headers:{"Content-Type":"multipart/form-data"}}).then(()=>{Ve(t,{quality:1}).then(o=>{this.$api.post("http://192.168.50.50:8081/id_card_upload.php",{employees_id:this.selected_employee_data.employees_id,side:"back",image:o},{headers:{"Content-Type":"multipart/form-data"}}).then(()=>{var r=document.createElement("a");r.href="http://192.168.50.50:8081/id_card_print_pdf.php?employee_id="+this.selected_employee_data.employees_id,r.click()})})})})},async setImageData(){var e=document.getElementById("IdCardFrontV2"),t=document.getElementById("IdCardBackV2"),n="",o="";await Ve(e,{quality:1}).then(r=>{n=r}),await Ve(t,{quality:1}).then(r=>{o=r}),this.selected_employee_image_data={frontDataUrl:n,backDataUrl:o}},downloadImage(){var e=document.getElementById("IdCardFrontV2"),t=document.getElementById("IdCardBackV2");Ve(e,{quality:1}).then(n=>{var o=document.createElement("a");o.download=this.selected_employee_data.lastName+"_"+this.selected_employee_data.empno+"_FRONT.jpeg",o.href=n,o.click()}),Ve(t,{quality:1}).then(n=>{var o=document.createElement("a");o.download=this.selected_employee_data.lastName+"_"+this.selected_employee_data.empno+"_BACK.jpeg",o.href=n,o.click()}),this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{tagAsPrinted:!0,selected_employee_data:this.selected_employee_data}).catch(n=>{console.error(n)})},onClearForm(){this.$router.push({path:"/"}).then(()=>{window.location.reload()})},async onSubmit(){await this.setImageData(),this.showLoading=!0,this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{saveEmployeeData:!0,selected_employee_data:this.selected_employee_data,selected_employee_image_data:this.selected_employee_image_data,textFormat:this.textFormat,photoFormat:this.photoFormat}).then(({data:e})=>{this.saveNotify(),this.getEmployeeData(),setTimeout(()=>{this.showLoading=!1},1e3)})},onReset(){},async getEmployeeData(){!this.selected_employee_input||await this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{getEmployeeData:!0,employeeId:this.selected_employee_input.value}).then(({data:e})=>{var t,n,o,r,d,f,h,S,_,k,H,a,i,u,s,p,y,g,C,I,R,A,z,V,K,v,M,ee,ne,B,te,Re,se,Ue,we,Me,Ie,me,de,_e,le,be,Pe,Be,X,De,Te,ce;this.selected_employee_data=e,e.text_formatting&&(this.textFormat.position.font_size=(o=(n=(t=e==null?void 0:e.text_formatting)==null?void 0:t.position)==null?void 0:n.font_size)!=null?o:this.textFormat.position.font_size,this.textFormat.position.bottom=(f=(d=(r=e==null?void 0:e.text_formatting)==null?void 0:r.position)==null?void 0:d.bottom)!=null?f:this.textFormat.position.bottom,this.textFormat.position.line_height=(_=(S=(h=e==null?void 0:e.text_formatting)==null?void 0:h.position)==null?void 0:S.line_height)!=null?_:this.textFormat.position.line_height,this.textFormat.horizontalLine.bottom=(a=(H=(k=e==null?void 0:e.text_formatting)==null?void 0:k.horizontalLine)==null?void 0:H.bottom)!=null?a:this.textFormat.horizontalLine.bottom,this.textFormat.department.font_size=(s=(u=(i=e==null?void 0:e.text_formatting)==null?void 0:i.department)==null?void 0:u.font_size)!=null?s:this.textFormat.department.font_size,this.textFormat.department.bottom=(g=(y=(p=e==null?void 0:e.text_formatting)==null?void 0:p.department)==null?void 0:y.bottom)!=null?g:this.textFormat.department.bottom,this.textFormat.department.line_height=(R=(I=(C=e==null?void 0:e.text_formatting)==null?void 0:C.department)==null?void 0:I.line_height)!=null?R:this.textFormat.department.line_height,this.textFormat.section.font_size=(V=(z=(A=e==null?void 0:e.text_formatting)==null?void 0:A.section)==null?void 0:z.font_size)!=null?V:this.textFormat.section.font_size,this.textFormat.section.bottom=(M=(v=(K=e==null?void 0:e.text_formatting)==null?void 0:K.section)==null?void 0:v.bottom)!=null?M:this.textFormat.section.bottom,this.textFormat.section.line_height=(B=(ne=(ee=e==null?void 0:e.text_formatting)==null?void 0:ee.section)==null?void 0:ne.line_height)!=null?B:this.textFormat.section.line_height,this.textFormat.lastName.font_size=(se=(Re=(te=e==null?void 0:e.text_formatting)==null?void 0:te.lastName)==null?void 0:Re.font_size)!=null?se:this.textFormat.lastName.font_size,this.textFormat.lastName.bottom=(Me=(we=(Ue=e==null?void 0:e.text_formatting)==null?void 0:Ue.lastName)==null?void 0:we.bottom)!=null?Me:this.textFormat.lastName.bottom,this.textFormat.firstName.font_size=(de=(me=(Ie=e==null?void 0:e.text_formatting)==null?void 0:Ie.firstName)==null?void 0:me.font_size)!=null?de:this.textFormat.firstName.font_size,this.textFormat.firstName.bottom=(be=(le=(_e=e==null?void 0:e.text_formatting)==null?void 0:_e.firstName)==null?void 0:le.bottom)!=null?be:this.textFormat.firstName.bottom),e.photo_formatting&&(this.photoFormat.top=(Be=(Pe=e==null?void 0:e.photo_formatting)==null?void 0:Pe.top)!=null?Be:this.photoFormat.top,this.photoFormat.left=(De=(X=e==null?void 0:e.photo_formatting)==null?void 0:X.left)!=null?De:this.photoFormat.left,this.photoFormat.scale=(ce=(Te=e==null?void 0:e.photo_formatting)==null?void 0:Te.scale)!=null?ce:this.photoFormat.scale)}).catch(e=>{console.error(e)})},saveNotify(){this.$q.notify({message:"Saved changes!",color:"green",icon:"save"})},filterFn(e,t){if(e===""){t(()=>{this.selections=this.employees});return}t(()=>{const n=e.toLowerCase();this.selections=this.employees.filter(o=>o.label.toLowerCase().indexOf(n)>-1)})},async getOfficeNamesForAutocomplete(){await this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{getOfficeNamesForAutocomplete:"true"}).then(({data:e})=>{this.departmentOptions=e.departments,this.sectionOptions=e.sections})},async getAddressesForAutocomplete(){await this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{getAddressesForAutocomplete:"true"}).then(({data:e})=>{this.addressOptions=e})}},watch:{selected_employee_input(e){this.$router.push({path:`/${e.value}`})}},async created(){this.id=this.$route.params.id,this.id=this.$route.params.id,await this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{getEmployeeList:"true"}).then(({data:e})=>{if(this.employees=e,this.id){const t=this.employees.find(n=>n.value==this.id);this.selected_employee_input=t,this.getEmployeeData()}}).catch(e=>{console.error(e)}),await this.getOfficeNamesForAutocomplete(),await this.getAddressesForAutocomplete()},mounted(){this.getEmployeeData()}},{__name:"IndexPage",setup(e){return(t,n)=>(ie(),Xn(no,{class:"q-pa-md",style:{position:"relative"}},{default:W(()=>[E("div",null,[E("div",Hr,[E("div",zr,[U(Ct,{clearable:"",class:"q-mb-md",filled:"",modelValue:t.selected_employee_input,"onUpdate:modelValue":[n[0]||(n[0]=o=>t.selected_employee_input=o),n[2]||(n[2]=o=>t.getEmployeeData())],"use-input":"","input-debounce":"0",label:"Select Employee",options:t.selections,"option-value":"value","option-label":"label",onFilter:t.filterFn,onClear:n[1]||(n[1]=o=>t.onClearForm()),behavior:"menu"},{"no-option":W(()=>[U(Hn,null,{default:W(()=>[U(zn,{class:"text-grey"},{default:W(()=>n[26]||(n[26]=[Ce(" No results ")])),_:1,__:[26]})]),_:1})]),_:1},8,["modelValue","options","onFilter"]),E("div",Vr,[U(fe,{label:"Dashboard",to:"dashboard"}),E("div",jr,[U(Qt,{onImageCaptured:t.saveImageCaptured,selected_employee_data:t.selected_employee_data},{buttons:W(()=>[U(Yt,{photoProps:t.photoFormat,selected_employee_data:t.selected_employee_data},null,8,["photoProps","selected_employee_data"])]),_:1},8,["onImageCaptured","selected_employee_data"])])]),E("div",qr,[E("div",Wr,[U(to,{onSubmit:_t(t.onSubmit,["prevent"]),onReset:t.onReset,class:"q-gutter-sm_"},{default:W(()=>[U(oe,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.empno,"onUpdate:modelValue":n[3]||(n[3]=o=>t.selected_employee_data.empno=o),label:"ID Number *",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"Please enter the ID number"]},null,8,["disable","modelValue","rules"]),E("div",Kr,[U(oe,{disable:!t.selected_employee_input,class:"col",dense:"",filled:"",modelValue:t.selected_employee_data.lastName,"onUpdate:modelValue":n[4]||(n[4]=o=>t.selected_employee_data.lastName=o),label:"Last Name",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Last Name should not be empty!"]},{append:W(()=>[U($e,{textProps:t.textFormat.lastName,textFor:"lastName"},null,8,["textProps"])]),_:1},8,["disable","modelValue","rules"]),U(oe,{disable:!t.selected_employee_input,class:"col q-ml-sm",dense:"",filled:"",modelValue:t.selected_employee_data.firstName,"onUpdate:modelValue":n[5]||(n[5]=o=>t.selected_employee_data.firstName=o),label:"First Name",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* First Name should not be empty!"]},{append:W(()=>[U($e,{textProps:t.textFormat.firstName,textFor:"firstName"},null,8,["textProps"])]),_:1},8,["disable","modelValue","rules"])]),E("div",Jr,[E("div",Gr,[U(oe,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.middleName,"onUpdate:modelValue":n[6]||(n[6]=o=>t.selected_employee_data.middleName=o),label:"Middle Name",hint:""},null,8,["disable","modelValue"])]),E("div",Qr,[U(oe,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.extName,"onUpdate:modelValue":n[7]||(n[7]=o=>t.selected_employee_data.extName=o),label:"Name Extension"},null,8,["disable","modelValue"])])]),U(oe,{disable:!t.selected_employee_input,class:"col",dense:"",filled:"",modelValue:t.selected_employee_data.position,"onUpdate:modelValue":n[8]||(n[8]=o=>t.selected_employee_data.position=o),label:"Position",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Position should not be empty!"],type:"textarea",autogrow:"",onKeyup:n[9]||(n[9]=Zn(_t(()=>{},["prevent"]),["enter"]))},{append:W(()=>[U($e,{textProps:t.textFormat.position,textFor:"position"},null,8,["textProps"]),U($e,{textProps:t.textFormat.horizontalLine,textFor:"horizontalLine",customIcon:"vertical_align_center"},null,8,["textProps"])]),_:1},8,["disable","modelValue","rules"]),U(Le,{isDisabled:!t.selected_employee_input,"input-label":"Section",modelValue:t.selected_employee_data.section,"onUpdate:modelValue":n[10]||(n[10]=o=>t.selected_employee_data.section=o),suggestions:t.sectionOptions},{append:W(()=>[U($e,{textProps:t.textFormat.section,textFor:"section"},null,8,["textProps"])]),_:1},8,["isDisabled","modelValue","suggestions"]),U(Le,{isDisabled:!t.selected_employee_input,"input-label":"Department",modelValue:t.selected_employee_data.department,"onUpdate:modelValue":n[11]||(n[11]=o=>t.selected_employee_data.department=o),suggestions:t.departmentOptions},{append:W(()=>[U($e,{textProps:t.textFormat.department,textFor:"department"},null,8,["textProps"])]),_:1},8,["isDisabled","modelValue","suggestions"]),U(Le,{isDisabled:!t.selected_employee_input,"input-label":"Barangay",modelValue:t.selected_employee_data.address_res_barangay,"onUpdate:modelValue":n[12]||(n[12]=o=>t.selected_employee_data.address_res_barangay=o),suggestions:t.addressOptions.res_barangays},null,8,["isDisabled","modelValue","suggestions"]),E("div",Yr,[U(Le,{class:"col q-mr-sm",isDisabled:!t.selected_employee_input,"input-label":"City/Municipality",modelValue:t.selected_employee_data.address_res_city,"onUpdate:modelValue":n[13]||(n[13]=o=>t.selected_employee_data.address_res_city=o),suggestions:t.addressOptions.res_citys},null,8,["isDisabled","modelValue","suggestions"]),U(Le,{class:"col q-mr-sm",isDisabled:!t.selected_employee_input,"input-label":"Zipcode",modelValue:t.selected_employee_data.address_res_zip_code,"onUpdate:modelValue":n[14]||(n[14]=o=>t.selected_employee_data.address_res_zip_code=o),suggestions:t.addressOptions.res_zip_codes},null,8,["isDisabled","modelValue","suggestions"])]),U(Le,{class:"col q-mr-sm",isDisabled:!t.selected_employee_input,"input-label":"Province",modelValue:t.selected_employee_data.address_res_province,"onUpdate:modelValue":n[15]||(n[15]=o=>t.selected_employee_data.address_res_province=o),suggestions:t.addressOptions.res_provinces},null,8,["isDisabled","modelValue","suggestions"]),E("div",Xr,[U(Ct,{disable:!t.selected_employee_input,class:"col",dense:"",outlined:"",modelValue:t.selected_employee_data.gender,"onUpdate:modelValue":n[16]||(n[16]=o=>t.selected_employee_data.gender=o),options:["MALE","FEMALE"],label:"Gender"},null,8,["disable","modelValue"]),U(oe,{disable:!t.selected_employee_input,class:"col q-ml-sm",dense:"",filled:"",modelValue:t.selected_employee_data.birthdate,"onUpdate:modelValue":n[17]||(n[17]=o=>t.selected_employee_data.birthdate=o),label:"Birthdate",type:"date"},null,8,["disable","modelValue"])]),E("div",Zr,[U(oe,{disable:!t.selected_employee_input,class:"col",dense:"",filled:"",modelValue:t.selected_employee_data.blood_type,"onUpdate:modelValue":n[18]||(n[18]=o=>t.selected_employee_data.blood_type=o),label:"Blood Type",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"]),U(oe,{disable:!t.selected_employee_input,class:"col q-ml-sm",dense:"",filled:"",modelValue:t.selected_employee_data.contact_number,"onUpdate:modelValue":n[19]||(n[19]=o=>t.selected_employee_data.contact_number=o),label:"Contact Number",hint:""},null,8,["disable","modelValue"])]),U(oe,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.emergency_name,"onUpdate:modelValue":n[20]||(n[20]=o=>t.selected_employee_data.emergency_name=o),label:"Emergency Contact Person",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"]),U(oe,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.emergency_number,"onUpdate:modelValue":n[21]||(n[21]=o=>t.selected_employee_data.emergency_number=o),label:"Emergency Contact Number",hint:""},null,8,["disable","modelValue"]),E("div",ea,[E("div",ta,[U(oe,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.date_issued,"onUpdate:modelValue":n[22]||(n[22]=o=>t.selected_employee_data.date_issued=o),label:"Date Issued",type:"date"},null,8,["disable","modelValue"])]),E("div",na,[U(oe,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.date_expire,"onUpdate:modelValue":n[23]||(n[23]=o=>t.selected_employee_data.date_expire=o),label:"Valid Until",type:"date"},null,8,["disable","modelValue"])])]),n[28]||(n[28]=E("div",{class:"q-mt-sm"},null,-1)),U(fe,{disable:!t.selected_employee_input,class:"q-mr-sm",type:"submit"},{default:W(()=>n[27]||(n[27]=[Ce("Save")])),_:1,__:[27]},8,["disable"]),U(fe,{disable:!t.selected_employee_input,label:"Download",onClick:n[24]||(n[24]=o=>t.downloadImage())},null,8,["disable"])]),_:1,__:[28]},8,["onSubmit","onReset"])])])]),E("div",oa,[U($t,{style:{transform:"scale(0.5)",position:"absolute"},details:t.selected_employee_data,timestamp:t.timestamp,textFormat:t.textFormat,photoFormat:t.photoFormat},null,8,["details","timestamp","textFormat","photoFormat"]),U(qt,{details:t.selected_employee_data,onOnPenDataSave:t.savePendata},null,8,["details","onOnPenDataSave"])])]),n[29]||(n[29]=E("div",{style:{"margin-bottom":"10px",width:"100%",height:"100px","background-color":"green",color:"wheat","text-align":"center"}},[E("h1",null,"PRE-RENDERED")],-1)),E("div",ia,[U(Ht,{details:t.selected_employee_data,timestamp:t.timestamp,textFormat:t.textFormat,photoFormat:t.photoFormat},null,8,["details","timestamp","textFormat","photoFormat"]),U(Wt,{details:t.selected_employee_data,onOnPenDataSave:t.savePendata},null,8,["details","onOnPenDataSave"])])]),U(Xe,{modelValue:t.showLoading,"onUpdate:modelValue":n[25]||(n[25]=o=>t.showLoading=o),persistent:""},{default:W(()=>[U(tt,{class:"q-pa-md flex flex-center",style:{}},{default:W(()=>[U(io,{size:"50",color:"green"}),n[30]||(n[30]=E("div",{class:"q-ml-lg"}," Saving please wait...",-1))]),_:1,__:[30]})]),_:1},8,["modelValue"])]),_:1}))}});export{ca as default};
