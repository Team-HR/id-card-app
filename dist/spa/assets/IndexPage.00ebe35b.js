import{u as mn,f as gn,Q as yn,d as vn}from"./QItem.f9c92ed9.js";import{u as no,a as oo,b as io,c as ro,d as ao,e as so,f as Sn,g as zt,h as lo,Q as ot,i as uo,j as co,k as Et,l as fo}from"./QList.61c1718d.js";import{r as Ae,w as Be,d as ze,M as po,j as xe,c as je,a as ho,o as wn,h as Fe,N as mo,g as yt,O as jt,p as go,P as yo,R as vo,q as at,S as So,L as qt,T as wo,U as bo,V as xo,e as To,W as Co,x as me,X as we,D as j,F as M,Y as Pe,A as O,C as Me,B as ut,z as Z,Z as bn,_ as xn,$ as Je,a0 as Io,a1 as _o,a2 as Po,K as ko,a3 as ct,a4 as ke,a5 as Tn,a6 as Kt,y as Rt,a7 as Eo,a8 as Ro}from"./index.204d9dde.js";import{Q as Do}from"./QPage.02263c3c.js";const Wt={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},ft={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},Cn=Object.keys(ft);Cn.forEach(e=>{ft[e].regex=new RegExp(ft[e].pattern)});const Uo=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Cn.join("")+"])|(.)","g"),Jt=/[.*+?^${}()|[\]\\]/g,pe=String.fromCharCode(1),Mo={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function Bo(e,t,n,o){let a,s,c,h,S,I;const E=Ae(null),_=Ae(r());function i(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}Be(()=>e.type+e.autogrow,l),Be(()=>e.mask,F=>{if(F!==void 0)d(_.value,!0);else{const m=V(_.value);l(),e.modelValue!==m&&t("update:modelValue",m)}}),Be(()=>e.fillMask+e.reverseFillMask,()=>{E.value===!0&&d(_.value,!0)}),Be(()=>e.unmaskedValue,()=>{E.value===!0&&d(_.value)});function r(){if(l(),E.value===!0){const F=B(V(e.modelValue));return e.fillMask!==!1?L(F):F}return e.modelValue}function p(F){if(F<a.length)return a.slice(-F);let m="",A=a;const N=A.indexOf(pe);if(N!==-1){for(let q=F-A.length;q>0;q--)m+=pe;A=A.slice(0,N)+m+A.slice(N)}return A}function l(){if(E.value=e.mask!==void 0&&e.mask.length!==0&&i(),E.value===!1){h=void 0,a="",s="";return}const F=Wt[e.mask]===void 0?e.mask:Wt[e.mask],m=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",A=m.replace(Jt,"\\$&"),N=[],q=[],U=[];let G=e.reverseFillMask===!0,Y="",J="";F.replace(Uo,(oe,D,ee,ce,re)=>{if(ce!==void 0){const se=ft[ce];U.push(se),J=se.negate,G===!0&&(q.push("(?:"+J+"+)?("+se.pattern+"+)?(?:"+J+"+)?("+se.pattern+"+)?"),G=!1),q.push("(?:"+J+"+)?("+se.pattern+")?")}else if(ee!==void 0)Y="\\"+(ee==="\\"?"":ee),U.push(ee),N.push("([^"+Y+"]+)?"+Y+"?");else{const se=D!==void 0?D:re;Y=se==="\\"?"\\\\\\\\":se.replace(Jt,"\\\\$&"),U.push(se),N.push("([^"+Y+"]+)?"+Y+"?")}});const Se=new RegExp("^"+N.join("")+"("+(Y===""?".":"[^"+Y+"]")+"+)?"+(Y===""?"":"["+Y+"]*")+"$"),ge=q.length-1,ne=q.map((oe,D)=>D===0&&e.reverseFillMask===!0?new RegExp("^"+A+"*"+oe):D===ge?new RegExp("^"+oe+"("+(J===""?".":J)+"+)?"+(e.reverseFillMask===!0?"$":A+"*")):new RegExp("^"+oe));c=U,h=oe=>{const D=Se.exec(e.reverseFillMask===!0?oe:oe.slice(0,U.length+1));D!==null&&(oe=D.slice(1).join(""));const ee=[],ce=ne.length;for(let re=0,se=oe;re<ce;re++){const ye=ne[re].exec(se);if(ye===null)break;se=se.slice(ye.shift().length),ee.push(...ye)}return ee.length!==0?ee.join(""):oe},a=U.map(oe=>typeof oe=="string"?oe:pe).join(""),s=a.split(pe).join(m)}function d(F,m,A){const N=o.value,q=N.selectionEnd,U=N.value.length-q,G=V(F);m===!0&&l();const Y=B(G),J=e.fillMask!==!1?L(Y):Y,Se=_.value!==J;N.value!==J&&(N.value=J),Se===!0&&(_.value=J),document.activeElement===N&&ze(()=>{if(J===s){const ne=e.reverseFillMask===!0?s.length:0;N.setSelectionRange(ne,ne,"forward");return}if(A==="insertFromPaste"&&e.reverseFillMask!==!0){const ne=N.selectionEnd;let oe=q-1;for(let D=S;D<=oe&&D<ne;D++)a[D]!==pe&&oe++;y.right(N,oe);return}if(["deleteContentBackward","deleteContentForward"].indexOf(A)!==-1){const ne=e.reverseFillMask===!0?q===0?J.length>Y.length?1:0:Math.max(0,J.length-(J===s?0:Math.min(Y.length,U)+1))+1:q;N.setSelectionRange(ne,ne,"forward");return}if(e.reverseFillMask===!0)if(Se===!0){const ne=Math.max(0,J.length-(J===s?0:Math.min(Y.length,U+1)));ne===1&&q===1?N.setSelectionRange(ne,ne,"forward"):y.rightReverse(N,ne)}else{const ne=J.length-U;N.setSelectionRange(ne,ne,"backward")}else if(Se===!0){const ne=Math.max(0,a.indexOf(pe),Math.min(Y.length,q)-1);y.right(N,ne)}else{const ne=q-1;y.right(N,ne)}});const ge=e.unmaskedValue===!0?V(J):J;String(e.modelValue)!==ge&&(e.modelValue!==null||ge!=="")&&n(ge,!0)}function v(F,m,A){const N=B(V(F.value));m=Math.max(0,a.indexOf(pe),Math.min(N.length,m)),S=m,F.setSelectionRange(m,A,"forward")}const y={left(F,m){const A=a.slice(m-1).indexOf(pe)===-1;let N=Math.max(0,m-1);for(;N>=0;N--)if(a[N]===pe){m=N,A===!0&&m++;break}if(N<0&&a[m]!==void 0&&a[m]!==pe)return y.right(F,0);m>=0&&F.setSelectionRange(m,m,"backward")},right(F,m){const A=F.value.length;let N=Math.min(A,m+1);for(;N<=A;N++)if(a[N]===pe){m=N;break}else a[N-1]===pe&&(m=N);if(N>A&&a[m-1]!==void 0&&a[m-1]!==pe)return y.left(F,A);F.setSelectionRange(m,m,"forward")},leftReverse(F,m){const A=p(F.value.length);let N=Math.max(0,m-1);for(;N>=0;N--)if(A[N-1]===pe){m=N;break}else if(A[N]===pe&&(m=N,N===0))break;if(N<0&&A[m]!==void 0&&A[m]!==pe)return y.rightReverse(F,0);m>=0&&F.setSelectionRange(m,m,"backward")},rightReverse(F,m){const A=F.value.length,N=p(A),q=N.slice(0,m+1).indexOf(pe)===-1;let U=Math.min(A,m+1);for(;U<=A;U++)if(N[U-1]===pe){m=U,m>0&&q===!0&&m--;break}if(U>A&&N[m-1]!==void 0&&N[m-1]!==pe)return y.leftReverse(F,A);F.setSelectionRange(m,m,"forward")}};function w(F){t("click",F),I=void 0}function P(F){if(t("keydown",F),po(F)===!0||F.altKey===!0)return;const m=o.value,A=m.selectionStart,N=m.selectionEnd;if(F.shiftKey||(I=void 0),F.keyCode===37||F.keyCode===39){F.shiftKey&&I===void 0&&(I=m.selectionDirection==="forward"?A:N);const q=y[(F.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(F.preventDefault(),q(m,I===A?N:A),F.shiftKey){const U=m.selectionStart;m.setSelectionRange(Math.min(I,U),Math.max(I,U),"forward")}}else F.keyCode===8&&e.reverseFillMask!==!0&&A===N?(y.left(m,A),m.setSelectionRange(m.selectionStart,N,"backward")):F.keyCode===46&&e.reverseFillMask===!0&&A===N&&(y.rightReverse(m,N),m.setSelectionRange(A,m.selectionEnd,"forward"))}function B(F){if(F==null||F==="")return"";if(e.reverseFillMask===!0)return $(F);const m=c;let A=0,N="";for(let q=0;q<m.length;q++){const U=F[A],G=m[q];if(typeof G=="string")N+=G,U===G&&A++;else if(U!==void 0&&G.regex.test(U))N+=G.transform!==void 0?G.transform(U):U,A++;else return N}return N}function $(F){const m=c,A=a.indexOf(pe);let N=F.length-1,q="";for(let U=m.length-1;U>=0&&N!==-1;U--){const G=m[U];let Y=F[N];if(typeof G=="string")q=G+q,Y===G&&N--;else if(Y!==void 0&&G.regex.test(Y))do q=(G.transform!==void 0?G.transform(Y):Y)+q,N--,Y=F[N];while(A===U&&Y!==void 0&&G.regex.test(Y));else return q}return q}function V(F){return typeof F!="string"||h===void 0?typeof F=="number"?h(""+F):F:h(F)}function L(F){return s.length-F.length<=0?F:e.reverseFillMask===!0&&F.length!==0?s.slice(0,-F.length)+F:F+s.slice(F.length)}return{innerValue:_,hasMask:E,moveCursorForPaste:v,updateMaskValue:d,onMaskedKeydown:P,onMaskedClick:w}}function Fo(e,t){function n(){const o=e.modelValue;try{const a="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(o)===o&&("length"in o?Array.from(o):[o]).forEach(s=>{a.items.add(s)}),{files:a.files}}catch{return{files:void 0}}}return t===!0?xe(()=>{if(e.type==="file")return n()}):xe(n)}var he=je({name:"QInput",inheritAttrs:!1,props:{...no,...Mo,...oo,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...io,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:n}){const{proxy:o}=yt(),{$q:a}=o,s={};let c=NaN,h,S,I=null,E;const _=Ae(null),i=ro(e),{innerValue:r,hasMask:p,moveCursorForPaste:l,updateMaskValue:d,onMaskedKeydown:v,onMaskedClick:y}=Bo(e,t,Y,_),w=Fo(e,!0),P=xe(()=>zt(r.value)),B=lo(U),$=ao({changeEvent:!0}),V=xe(()=>e.type==="textarea"||e.autogrow===!0),L=xe(()=>V.value===!0||["text","search","url","tel","password"].includes(e.type)),F=xe(()=>{const D={...$.splitAttrs.listeners.value,onInput:U,onPaste:q,onChange:Se,onBlur:ge,onFocus:jt};return D.onCompositionstart=D.onCompositionupdate=D.onCompositionend=B,p.value===!0&&(D.onKeydown=v,D.onClick=y),e.autogrow===!0&&(D.onAnimationend=G),D}),m=xe(()=>{const D={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:i.value,...$.splitAttrs.attributes.value,id:$.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return V.value===!1&&(D.type=e.type),e.autogrow===!0&&(D.rows=1),D});Be(()=>e.type,()=>{_.value&&(_.value.value=e.modelValue)}),Be(()=>e.modelValue,D=>{if(p.value===!0){if(S===!0&&(S=!1,String(D)===c))return;d(D)}else r.value!==D&&(r.value=D,e.type==="number"&&s.hasOwnProperty("value")===!0&&(h===!0?h=!1:delete s.value));e.autogrow===!0&&ze(J)}),Be(()=>e.autogrow,D=>{D===!0?ze(J):_.value!==null&&n.rows>0&&(_.value.style.height="auto")}),Be(()=>e.dense,()=>{e.autogrow===!0&&ze(J)});function A(){Sn(()=>{const D=document.activeElement;_.value!==null&&_.value!==D&&(D===null||D.id!==$.targetUid.value)&&_.value.focus({preventScroll:!0})})}function N(){var D;(D=_.value)==null||D.select()}function q(D){if(p.value===!0&&e.reverseFillMask!==!0){const ee=D.target;l(ee,ee.selectionStart,ee.selectionEnd)}t("paste",D)}function U(D){if(!D||!D.target)return;if(e.type==="file"){t("update:modelValue",D.target.files);return}const ee=D.target.value;if(D.target.qComposing===!0){s.value=ee;return}if(p.value===!0)d(ee,!1,D.inputType);else if(Y(ee),L.value===!0&&D.target===document.activeElement){const{selectionStart:ce,selectionEnd:re}=D.target;ce!==void 0&&re!==void 0&&ze(()=>{D.target===document.activeElement&&ee.indexOf(D.target.value)===0&&D.target.setSelectionRange(ce,re)})}e.autogrow===!0&&J()}function G(D){t("animationend",D),J()}function Y(D,ee){E=()=>{I=null,e.type!=="number"&&s.hasOwnProperty("value")===!0&&delete s.value,e.modelValue!==D&&c!==D&&(c=D,ee===!0&&(S=!0),t("update:modelValue",D),ze(()=>{c===D&&(c=NaN)})),E=void 0},e.type==="number"&&(h=!0,s.value=D),e.debounce!==void 0?(I!==null&&clearTimeout(I),s.value=D,I=setTimeout(E,e.debounce)):E()}function J(){requestAnimationFrame(()=>{const D=_.value;if(D!==null){const ee=D.parentNode.style,{scrollTop:ce}=D,{overflowY:re,maxHeight:se}=a.platform.is.firefox===!0?{}:window.getComputedStyle(D),ye=re!==void 0&&re!=="scroll";ye===!0&&(D.style.overflowY="hidden"),ee.marginBottom=D.scrollHeight-1+"px",D.style.height="1px",D.style.height=D.scrollHeight+"px",ye===!0&&(D.style.overflowY=parseInt(se,10)<D.scrollHeight?"auto":"hidden"),ee.marginBottom="",D.scrollTop=ce}})}function Se(D){B(D),I!==null&&(clearTimeout(I),I=null),E==null||E(),t("change",D.target.value)}function ge(D){D!==void 0&&jt(D),I!==null&&(clearTimeout(I),I=null),E==null||E(),h=!1,S=!1,delete s.value,e.type!=="file"&&setTimeout(()=>{_.value!==null&&(_.value.value=r.value!==void 0?r.value:"")})}function ne(){return s.hasOwnProperty("value")===!0?s.value:r.value!==void 0?r.value:""}ho(()=>{ge()}),wn(()=>{e.autogrow===!0&&J()}),Object.assign($,{innerValue:r,fieldClass:xe(()=>`q-${V.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:xe(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:_,emitValue:Y,hasValue:P,floatingLabel:xe(()=>P.value===!0&&(e.type!=="number"||isNaN(r.value)===!1)||zt(e.displayValue)),getControl:()=>Fe(V.value===!0?"textarea":"input",{ref:_,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...m.value,...F.value,...e.type!=="file"?{value:ne()}:w.value}),getShadowControl:()=>Fe("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(V.value===!0?"":" text-no-wrap")},[Fe("span",{class:"invisible"},ne()),Fe("span",e.shadowText)])});const oe=so($);return Object.assign(o,{focus:A,select:N,getNativeElement:()=>_.value}),mo(o,"nativeEl",()=>_.value),oe}}),No=je({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:t,emit:n}){const o=yt(),a=Ae(null);let s=0;const c=[];function h(r){const p=typeof r=="boolean"?r:e.noErrorFocus!==!0,l=++s,d=(w,P)=>{n(`validation${w===!0?"Success":"Error"}`,P)},v=w=>{const P=w.validate();return typeof P.then=="function"?P.then(B=>({valid:B,comp:w}),B=>({valid:!1,comp:w,err:B})):Promise.resolve({valid:P,comp:w})};return(e.greedy===!0?Promise.all(c.map(v)).then(w=>w.filter(P=>P.valid!==!0)):c.reduce((w,P)=>w.then(()=>v(P).then(B=>{if(B.valid===!1)return Promise.reject(B)})),Promise.resolve()).catch(w=>[w])).then(w=>{if(w===void 0||w.length===0)return l===s&&d(!0),!0;if(l===s){const{comp:P,err:B}=w[0];if(B!==void 0&&console.error(B),d(!1,P),p===!0){const $=w.find(({comp:V})=>typeof V.focus=="function"&&So(V.$)===!1);$!==void 0&&$.comp.focus()}}return!1})}function S(){s++,c.forEach(r=>{typeof r.resetValidation=="function"&&r.resetValidation()})}function I(r){r!==void 0&&qt(r);const p=s+1;h().then(l=>{p===s&&l===!0&&(e.onSubmit!==void 0?n("submit",r):(r==null?void 0:r.target)!==void 0&&typeof r.target.submit=="function"&&r.target.submit())})}function E(r){r!==void 0&&qt(r),n("reset"),ze(()=>{S(),e.autofocus===!0&&e.noResetFocus!==!0&&_()})}function _(){Sn(()=>{if(a.value===null)return;const r=a.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||a.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||a.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(a.value.querySelectorAll("[tabindex]"),p=>p.tabIndex!==-1);r==null||r.focus({preventScroll:!0})})}go(wo,{bindComponent(r){c.push(r)},unbindComponent(r){const p=c.indexOf(r);p!==-1&&c.splice(p,1)}});let i=!1;return yo(()=>{i=!0}),vo(()=>{i===!0&&e.autofocus===!0&&_()}),wn(()=>{e.autofocus===!0&&_()}),Object.assign(o.proxy,{validate:h,resetValidation:S,submit:I,reset:E,focus:_,getValidationComponents:()=>c}),()=>Fe("form",{class:"q-form",ref:a,onSubmit:I,onReset:E},at(t.default))}});const Ao='<circle cx="15" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="60" cy="15" r="9" fill-opacity=".3"><animate attributeName="r" from="9" to="9" begin="0s" dur="0.8s" values="9;15;9" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from=".5" to=".5" begin="0s" dur="0.8s" values=".5;1;.5" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="105" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle>';var Oo=je({name:"QSpinnerDots",props:bo,setup(e){const{cSize:t,classes:n}=xo(e);return()=>Fe("svg",{class:n.value,fill:"currentColor",width:t.value,height:t.value,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",innerHTML:Ao})}}),it=je({name:"QCard",props:{...mn,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=yt(),o=gn(e,n),a=xe(()=>"q-card"+(o.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>Fe(e.tag,{class:a.value},at(t.default))}});function Lo(){return To(Co)}const $o=["text","rect","circle","QBtn","QBadge","QChip","QToolbar","QCheckbox","QRadio","QToggle","QSlider","QRange","QInput","QAvatar"],Ho=["wave","pulse","pulse-x","pulse-y","fade","blink","none"];var In=je({name:"QSkeleton",props:{...mn,tag:{type:String,default:"div"},type:{type:String,validator:e=>$o.includes(e),default:"rect"},animation:{type:String,validator:e=>Ho.includes(e),default:"wave"},animationSpeed:{type:[String,Number],default:1500},square:Boolean,bordered:Boolean,size:String,width:String,height:String},setup(e,{slots:t}){const n=yt(),o=gn(e,n.proxy.$q),a=xe(()=>{const c=e.size!==void 0?[e.size,e.size]:[e.width,e.height];return{"--q-skeleton-speed":`${e.animationSpeed}ms`,width:c[0],height:c[1]}}),s=xe(()=>`q-skeleton q-skeleton--${o.value===!0?"dark":"light"} q-skeleton--type-${e.type}`+(e.animation!=="none"?` q-skeleton--anim q-skeleton--anim-${e.animation}`:"")+(e.square===!0?" q-skeleton--square":"")+(e.bordered===!0?" q-skeleton--bordered":""));return()=>Fe(e.tag,{class:s.value,style:a.value},at(t.default))}});const Vo={id:"IdCardFront",class:"front-id",style:{"background-color":"white",width:"640px",height:"1014px","font-size":"22pt",position:"absolute","background-image":"url(/images/REG_ID_Front_Temp.jpg)","background-position":"center center","background-repeat":"no-repeat","background-size":"contain",transform:"scale(0.5)",top:"-200px",left:"-142px"}},zo={key:0,style:{"writing-mode":"vertical-rl","text-orientation":"upright",position:"absolute",top:"130px",left:"6px","font-size":"26.05pt",color:"white","font-weight":"500","text-shadow":"0px 2px 2px black"}},jo={key:1,style:{"writing-mode":"vertical-rl","text-orientation":"upright",position:"absolute",top:"151px",left:"6px","font-size":"26.05pt",color:"white","font-weight":"500","text-shadow":"0px 2px 2px black"}},qo={style:{width:"373px",height:"373px","border-radius":"100%",position:"absolute",top:"160px",left:"159px",overflow:"hidden"}},Ko=["hidden","src"],Wo={style:{"text-align":"left",position:"absolute",top:"145mm",left:"45mm","font-size":"22pt","font-weight":"500"}},Jo=["hidden"],Gt=Object.assign({name:"IdCardFront",data(){return{imageIsLoading:"loaded",imgSrcFromServer:null}},watch:{"details.employees_id"(e,t){e&&this.$nextTick(()=>{this.getPhoto()})},timestamp(e){e&&(this.imageIsLoading="loading",this.$nextTick(()=>{this.getPhoto()}))}},methods:{getPhoto(){this.imageIsLoading="loading",this.imgSrcFromServer="#",this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{getPhoto:!0,employees_id:this.details.employees_id}).then(({data:e})=>{this.imgSrcFromServer=e,this.imageIsLoading="loaded"}).catch(e=>{console.error(e)})}}},{__name:"IdCardFront",props:{details:{type:Object,required:!0},timestamp:{type:Number,required:!0},textFormat:{type:Object,required:!0},photoFormat:{type:Object,required:!0}},setup(e){return(t,n)=>(me(),we("div",Vo,[e.details.employmentStatus&&e.details.employmentStatus=="COTERMINUS"?(me(),we("div",zo,j(e.details.employmentStatus?`${e.details.employmentStatus} EMPLOYEE`:""),1)):(me(),we("div",jo,j(e.details.employmentStatus?`${e.details.employmentStatus} EMPLOYEE`:""),1)),M("div",qo,[M("img",{hidden:t.imageIsLoading=="loading",onLoad:n[0]||(n[0]=o=>t.imageIsLoading="loaded"),src:t.imgSrcFromServer,style:Pe([{position:"relative"},`bottom:${e.photoFormat.top*2}mm; right: ${e.photoFormat.left*2}mm; width: ${e.photoFormat.scale*2.06}mm;`])},null,44,Ko),O(In,{style:{width:"550px",height:"588px"},hidden:t.imageIsLoading=="loaded"},null,8,["hidden"])]),M("div",Wo,[n[1]||(n[1]=M("b",null,"EMPLOYEE NO.",-1)),Me(" "+j(e.details.empno?`${e.details.empno.substr(0,1)}-${e.details.empno.substr(-4,4)}`:"_ - ____"),1)]),M("div",{style:Pe([`font-size:${e.textFormat.lastName.font_size*2.05}px; bottom: ${e.textFormat.lastName.bottom*2.15}px;
        left: ${e.textFormat.lastName.left*2}px; `,{width:"100%","text-align":"left","font-weight":"500",position:"absolute"}])},j(e.details.lastName)+j(e.details.extName?", "+e.details.extName:""),5),M("div",{style:Pe([{width:"100%","text-align":"left","font-weight":"700",position:"absolute"},`font-size:${e.textFormat.firstName.font_size*2.05}px; bottom: ${e.textFormat.firstName.bottom*2.15}px;
        left: ${e.textFormat.firstName.left*2}px; `])},j(e.details.firstName)+" "+j(e.details.middleName?e.details.middleName[0]+". ":""),5),M("div",{style:Pe([{width:"539px","text-align":"left","font-stretch":"ultra-expanded",position:"absolute"},`font-size:${e.textFormat.position.font_size*2.05}px; bottom: ${e.textFormat.position.bottom*2.23}px;
        left: ${e.textFormat.position.left*2}px; line-height: ${e.textFormat.position.line_height*2}px;`])},j(e.details.position),5),M("div",{hidden:!e.details.lastName,style:Pe([{width:"539px","text-align":"left","font-stretch":"ultra-expanded",position:"absolute"},`bottom: ${e.textFormat.horizontalLine.bottom*2.23}px; left: ${e.textFormat.horizontalLine.left*2}px;`])},n[2]||(n[2]=[M("hr",{style:{width:"90%",height:"3px","background-color":"black",border:"none",margin:"0"}},null,-1)]),12,Jo),M("div",{style:Pe([{width:"539px","text-align":"left","font-stretch":"ultra-expanded",position:"absolute"},`font-size:${e.textFormat.department.font_size*2.05}px; bottom: ${e.textFormat.department.bottom*2.23}px;
        left: ${e.textFormat.department.left*2}px; line-height: ${e.textFormat.department.line_height*2}px;`])},j(e.details.department),5),M("div",{style:Pe([{width:"539px","text-align":"left","font-stretch":"ultra-expanded",position:"absolute"},`font-size:${e.textFormat.section.font_size*2.05}px; bottom: ${e.textFormat.section.bottom*2.23}px;
        left: ${e.textFormat.section.left*2}px; line-height: ${e.textFormat.section.line_height*2}px;`])},j(e.details.section),5)]))}}),Go={id:"IdCardFrontV2",class:"front-id",style:{"background-color":"white",width:"640px",height:"1014px","font-size":"22pt",position:"relative","background-image":"url('/images/REG_ID_Front_Temp.jpg')","background-position":"center","background-repeat":"no-repeat","background-size":"contain"}},Qo={key:0,style:{"writing-mode":"vertical-rl","text-orientation":"upright",position:"absolute",top:"130px",left:"6px","font-size":"26.05pt",color:"white","font-weight":"500","text-shadow":"0px 2px 2px black"}},Yo={key:1,style:{"writing-mode":"vertical-rl","text-orientation":"upright",position:"absolute",top:"151px",left:"6px","font-size":"26.05pt",color:"white","font-weight":"500","text-shadow":"0px 2px 2px black"}},Xo={style:{width:"373px",height:"373px","border-radius":"100%",position:"absolute",top:"160px",left:"159px",overflow:"hidden"}},Zo=["hidden","src"],ei={style:{"text-align":"left",position:"absolute",top:"145mm",left:"45mm","font-size":"22pt","font-weight":"500"}},ti=["hidden"],Qt=Object.assign({name:"IdCardFront",data(){return{imageIsLoading:"loaded",imgSrcFromServer:null}},watch:{"details.employees_id"(e,t){e&&this.$nextTick(()=>{this.getPhoto()})},timestamp(e){e&&(this.imageIsLoading="loading",this.$nextTick(()=>{this.getPhoto()}))}},methods:{getPhoto(){this.imageIsLoading="loading",this.imgSrcFromServer="#",this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{getPhoto:!0,employees_id:this.details.employees_id}).then(({data:e})=>{this.imgSrcFromServer=e,this.imageIsLoading="loaded"}).catch(e=>{console.error(e)})}}},{__name:"IdCardFrontV2",props:{details:{type:Object,required:!0},timestamp:{type:Number,required:!0},textFormat:{type:Object,required:!0},photoFormat:{type:Object,required:!0}},setup(e){return(t,n)=>(me(),we("div",Go,[e.details.employmentStatus&&e.details.employmentStatus=="COTERMINUS"?(me(),we("div",Qo,j(e.details.employmentStatus?`${e.details.employmentStatus} EMPLOYEE`:""),1)):(me(),we("div",Yo,j(e.details.employmentStatus?`${e.details.employmentStatus} EMPLOYEE`:""),1)),M("div",Xo,[t.imgSrcFromServer?(me(),we("img",{key:0,hidden:t.imageIsLoading=="loading",onLoad:n[0]||(n[0]=o=>t.imageIsLoading="loaded"),src:t.imgSrcFromServer,style:Pe([{position:"relative"},`bottom:${e.photoFormat.top*2}mm; right: ${e.photoFormat.left*2}mm; width: ${e.photoFormat.scale*2.06}mm;`])},null,44,Zo)):ut("",!0),O(In,{style:{width:"250px",height:"188px"},hidden:t.imageIsLoading=="loaded"},null,8,["hidden"])]),M("div",ei,[n[1]||(n[1]=M("b",null,"EMPLOYEE NO.",-1)),Me(" "+j(e.details.empno?`${e.details.empno.substr(0,1)}-${e.details.empno.substr(-4,4)}`:"_ - ____"),1)]),M("div",{style:Pe([`font-size:${e.textFormat.lastName.font_size*2.05}px; bottom: ${e.textFormat.lastName.bottom*2.15}px;
        left: ${e.textFormat.lastName.left*2}px; `,{width:"100%","text-align":"left","font-weight":"500",position:"absolute"}])},j(e.details.lastName)+j(e.details.extName?", "+e.details.extName:""),5),M("div",{style:Pe([{width:"100%","text-align":"left","font-weight":"700",position:"absolute"},`font-size:${e.textFormat.firstName.font_size*2.05}px; bottom: ${e.textFormat.firstName.bottom*2.15}px;
        left: ${e.textFormat.firstName.left*2}px; `])},j(e.details.firstName)+" "+j(e.details.middleName?e.details.middleName[0]+". ":""),5),M("div",{style:Pe([{width:"539px","text-align":"left","font-stretch":"ultra-expanded",position:"absolute"},`font-size:${e.textFormat.position.font_size*2.05}px; bottom: ${e.textFormat.position.bottom*2.23}px;
        left: ${e.textFormat.position.left*2}px; line-height: ${e.textFormat.position.line_height*2}px;`])},j(e.details.position),5),M("div",{hidden:!e.details.lastName,style:Pe([{width:"539px","text-align":"left","font-stretch":"ultra-expanded",position:"absolute"},`bottom: ${e.textFormat.horizontalLine.bottom*2.23}px; left: ${e.textFormat.horizontalLine.left*2}px;`])},n[2]||(n[2]=[M("hr",{style:{width:"90%",height:"3px","background-color":"black",border:"none",margin:"0"}},null,-1)]),12,ti),M("div",{style:Pe([{width:"539px","text-align":"left","font-stretch":"ultra-expanded",position:"absolute"},`font-size:${e.textFormat.department.font_size*2.05}px; bottom: ${e.textFormat.department.bottom*2.23}px;
        left: ${e.textFormat.department.left*2}px; line-height: ${e.textFormat.department.line_height*2}px;`])},j(e.details.department),5),M("div",{style:Pe([{width:"539px","text-align":"left","font-stretch":"ultra-expanded",position:"absolute"},`font-size:${e.textFormat.section.font_size*2.05}px; bottom: ${e.textFormat.section.bottom*2.23}px;
        left: ${e.textFormat.section.left*2}px; line-height: ${e.textFormat.section.line_height*2}px;`])},j(e.details.section),5)]))}});var Ge=je({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const n=xe(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>Fe(e.tag,{class:n.value},at(t.default))}}),_n="/assets/get_sig.0d2f964a.png";/*!
 *
 * Copyright 2009-2012 Kris Kowal under the terms of the MIT
 * license found at http://github.com/kriskowal/q/raw/master/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */(function(e){if(typeof bootstrap=="function")bootstrap("promise",e);else if(typeof exports=="object"&&typeof module=="object")module.exports=e();else if(typeof define=="function"&&define.amd)define(e);else if(typeof ses!="undefined")if(ses.ok())ses.makeQ=e;else return;else if(typeof window!="undefined"||typeof self!="undefined"){var t=typeof window!="undefined"?window:self,n=t.Q;t.Q=e(),t.Q.noConflict=function(){return t.Q=n,this}}else throw new Error("This environment was not anticipated by Q. Please file a bug.")})(function(){var e=!1;try{throw new Error}catch(f){e=!!f.stack}var t=L(),n,o=function(){},a=function(){var f={task:void 0,next:null},g=f,b=!1,R=void 0,W=!1,X=[];function K(){for(var ue,_e;f.next;)f=f.next,ue=f.task,f.task=void 0,_e=f.domain,_e&&(f.domain=void 0,_e.enter()),de(ue,_e);for(;X.length;)ue=X.pop(),de(ue);b=!1}function de(ue,_e){try{ue()}catch(tt){if(W)throw _e&&_e.exit(),setTimeout(K,0),_e&&_e.enter(),tt;setTimeout(function(){throw tt},0)}_e&&_e.exit()}if(a=function(ue){g=g.next={task:ue,domain:W&&process.domain,next:null},b||(b=!0,R())},typeof process=="object"&&process.toString()==="[object process]"&&process.nextTick)W=!0,R=function(){process.nextTick(K)};else if(typeof setImmediate=="function")typeof window!="undefined"?R=setImmediate.bind(window,K):R=function(){setImmediate(K)};else if(typeof MessageChannel!="undefined"){var ie=new MessageChannel;ie.port1.onmessage=function(){R=le,ie.port1.onmessage=K,K()};var le=function(){ie.port2.postMessage(0)};R=function(){setTimeout(K,0),le()}}else R=function(){setTimeout(K,0)};return a.runAfter=function(ue){X.push(ue),b||(b=!0,R())},a}(),s=Function.call;function c(f){return function(){return s.apply(f,arguments)}}var h=c(Array.prototype.slice),S=c(Array.prototype.reduce||function(f,g){var b=0,R=this.length;if(arguments.length===1)do{if(b in this){g=this[b++];break}if(++b>=R)throw new TypeError}while(1);for(;b<R;b++)b in this&&(g=f(g,this[b],b));return g}),I=c(Array.prototype.indexOf||function(f){for(var g=0;g<this.length;g++)if(this[g]===f)return g;return-1}),E=c(Array.prototype.map||function(f,g){var b=this,R=[];return S(b,function(W,X,K){R.push(f.call(g,X,K,b))},void 0),R}),_=Object.create||function(f){function g(){}return g.prototype=f,new g},i=c(Object.prototype.hasOwnProperty),r=Object.keys||function(f){var g=[];for(var b in f)i(f,b)&&g.push(b);return g},p=c(Object.prototype.toString);function l(f){return f===Object(f)}function d(f){return p(f)==="[object StopIteration]"||f instanceof v}var v;typeof ReturnValue!="undefined"?v=ReturnValue:v=function(f){this.value=f};var y="From previous event:";function w(f,g){if(e&&g.stack&&typeof f=="object"&&f!==null&&f.stack&&f.stack.indexOf(y)===-1){for(var b=[],R=g;R;R=R.source)R.stack&&b.unshift(R.stack);b.unshift(f.stack);var W=b.join(`
`+y+`
`);f.stack=P(W)}}function P(f){for(var g=f.split(`
`),b=[],R=0;R<g.length;++R){var W=g[R];!V(W)&&!B(W)&&W&&b.push(W)}return b.join(`
`)}function B(f){return f.indexOf("(module.js:")!==-1||f.indexOf("(node.js:")!==-1}function $(f){var g=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(f);if(g)return[g[1],Number(g[2])];var b=/at ([^ ]+):(\d+):(?:\d+)$/.exec(f);if(b)return[b[1],Number(b[2])];var R=/.*@(.+):(\d+)$/.exec(f);if(R)return[R[1],Number(R[2])]}function V(f){var g=$(f);if(!g)return!1;var b=g[0],R=g[1];return b===n&&R>=t&&R<=to}function L(){if(!!e)try{throw new Error}catch(R){var f=R.stack.split(`
`),g=f[0].indexOf("@")>0?f[1]:f[2],b=$(g);return b?(n=b[0],b[1]):void 0}}function F(f,g,b){return function(){return typeof console!="undefined"&&typeof console.warn=="function"&&console.warn(g+" is deprecated, use "+b+" instead.",new Error("").stack),f.apply(f,arguments)}}function m(f){return f instanceof U?f:Se(f)?Ue(f):be(f)}m.resolve=m,m.nextTick=a,m.longStackSupport=!1,typeof process=="object"&&process&&process.env&&{}.Q_DEBUG&&(m.longStackSupport=!0),m.defer=A;function A(){var f=[],g=[],b,R=_(A.prototype),W=_(U.prototype);if(W.promiseDispatch=function(K,de,ie){var le=h(arguments);f?(f.push(le),de==="when"&&ie[1]&&g.push(ie[1])):m.nextTick(function(){b.promiseDispatch.apply(b,le)})},W.valueOf=function(){if(f)return W;var K=Y(b);return J(K)&&(b=K),K},W.inspect=function(){return b?b.inspect():{state:"pending"}},m.longStackSupport&&e)try{throw new Error}catch(K){W.stack=K.stack.substring(K.stack.indexOf(`
`)+1)}function X(K){b=K,W.source=K,S(f,function(de,ie){m.nextTick(function(){K.promiseDispatch.apply(K,ie)})},void 0),f=void 0,g=void 0}return R.promise=W,R.resolve=function(K){b||X(m(K))},R.fulfill=function(K){b||X(be(K))},R.reject=function(K){b||X(ve(K))},R.notify=function(K){b||S(g,function(de,ie){m.nextTick(function(){ie(K)})},void 0)},R}A.prototype.makeNodeResolver=function(){var f=this;return function(g,b){g?f.reject(g):arguments.length>2?f.resolve(h(arguments,1)):f.resolve(b)}},m.Promise=N,m.promise=N;function N(f){if(typeof f!="function")throw new TypeError("resolver must be a function.");var g=A();try{f(g.resolve,g.reject,g.notify)}catch(b){g.reject(b)}return g.promise}N.race=q,N.all=fe,N.reject=ve,N.resolve=m,m.passByCopy=function(f){return f},U.prototype.passByCopy=function(){return this},m.join=function(f,g){return m(f).join(g)},U.prototype.join=function(f){return m([this,f]).spread(function(g,b){if(g===b)return g;throw new Error("Q can't join: not the same: "+g+" "+b)})},m.race=q;function q(f){return N(function(g,b){for(var R=0,W=f.length;R<W;R++)m(f[R]).then(g,b)})}U.prototype.race=function(){return this.then(m.race)},m.makePromise=U;function U(f,g,b){g===void 0&&(g=function(X){return ve(new Error("Promise does not support operation: "+X))}),b===void 0&&(b=function(){return{state:"unknown"}});var R=_(U.prototype);if(R.promiseDispatch=function(X,K,de){var ie;try{f[K]?ie=f[K].apply(R,de):ie=g.call(R,K,de)}catch(le){ie=ve(le)}X&&X(ie)},R.inspect=b,b){var W=b();W.state==="rejected"&&(R.exception=W.reason),R.valueOf=function(){var X=b();return X.state==="pending"||X.state==="rejected"?R:X.value}}return R}U.prototype.toString=function(){return"[object Promise]"},U.prototype.then=function(f,g,b){var R=this,W=A(),X=!1;function K(le){try{return typeof f=="function"?f(le):le}catch(ue){return ve(ue)}}function de(le){if(typeof g=="function"){w(le,R);try{return g(le)}catch(ue){return ve(ue)}}return ve(le)}function ie(le){return typeof b=="function"?b(le):le}return m.nextTick(function(){R.promiseDispatch(function(le){X||(X=!0,W.resolve(K(le)))},"when",[function(le){X||(X=!0,W.resolve(de(le)))}])}),R.promiseDispatch(void 0,"when",[void 0,function(le){var ue,_e=!1;try{ue=ie(le)}catch(tt){if(_e=!0,m.onerror)m.onerror(tt);else throw tt}_e||W.notify(ue)}]),W.promise},m.tap=function(f,g){return m(f).tap(g)},U.prototype.tap=function(f){return f=m(f),this.then(function(g){return f.fcall(g).thenResolve(g)})},m.when=G;function G(f,g,b,R){return m(f).then(g,b,R)}U.prototype.thenResolve=function(f){return this.then(function(){return f})},m.thenResolve=function(f,g){return m(f).thenResolve(g)},U.prototype.thenReject=function(f){return this.then(function(){throw f})},m.thenReject=function(f,g){return m(f).thenReject(g)},m.nearer=Y;function Y(f){if(J(f)){var g=f.inspect();if(g.state==="fulfilled")return g.value}return f}m.isPromise=J;function J(f){return f instanceof U}m.isPromiseAlike=Se;function Se(f){return l(f)&&typeof f.then=="function"}m.isPending=ge;function ge(f){return J(f)&&f.inspect().state==="pending"}U.prototype.isPending=function(){return this.inspect().state==="pending"},m.isFulfilled=ne;function ne(f){return!J(f)||f.inspect().state==="fulfilled"}U.prototype.isFulfilled=function(){return this.inspect().state==="fulfilled"},m.isRejected=oe;function oe(f){return J(f)&&f.inspect().state==="rejected"}U.prototype.isRejected=function(){return this.inspect().state==="rejected"};var D=[],ee=[],ce=[],re=!0;function se(){D.length=0,ee.length=0,re||(re=!0)}function ye(f,g){!re||(typeof process=="object"&&typeof process.emit=="function"&&m.nextTick.runAfter(function(){I(ee,f)!==-1&&(process.emit("unhandledRejection",g,f),ce.push(f))}),ee.push(f),g&&typeof g.stack!="undefined"?D.push(g.stack):D.push("(no stack) "+g))}function Te(f){if(!!re){var g=I(ee,f);g!==-1&&(typeof process=="object"&&typeof process.emit=="function"&&m.nextTick.runAfter(function(){var b=I(ce,f);b!==-1&&(process.emit("rejectionHandled",D[g],f),ce.splice(b,1))}),ee.splice(g,1),D.splice(g,1))}}m.resetUnhandledRejections=se,m.getUnhandledReasons=function(){return D.slice()},m.stopUnhandledRejectionTracking=function(){se(),re=!1},se(),m.reject=ve;function ve(f){var g=U({when:function(b){return b&&Te(this),b?b(f):this}},function(){return this},function(){return{state:"rejected",reason:f}});return ye(g,f),g}m.fulfill=be;function be(f){return U({when:function(){return f},get:function(g){return f[g]},set:function(g,b){f[g]=b},delete:function(g){delete f[g]},post:function(g,b){return g==null?f.apply(void 0,b):f[g].apply(f,b)},apply:function(g,b){return f.apply(g,b)},keys:function(){return r(f)}},void 0,function(){return{state:"fulfilled",value:f}})}function Ue(f){var g=A();return m.nextTick(function(){try{f.then(g.resolve,g.reject,g.notify)}catch(b){g.reject(b)}}),g.promise}m.master=x;function x(f){return U({isDef:function(){}},function(b,R){return te(f,b,R)},function(){return m(f).inspect()})}m.spread=C;function C(f,g,b){return m(f).spread(g,b)}U.prototype.spread=function(f,g){return this.all().then(function(b){return f.apply(void 0,b)},g)},m.async=k;function k(f){return function(){function g(X,K){var de;if(typeof StopIteration=="undefined"){try{de=b[X](K)}catch(ie){return ve(ie)}return de.done?m(de.value):G(de.value,R,W)}else{try{de=b[X](K)}catch(ie){return d(ie)?m(ie.value):ve(ie)}return G(de,R,W)}}var b=f.apply(this,arguments),R=g.bind(g,"next"),W=g.bind(g,"throw");return R()}}m.spawn=H;function H(f){m.done(m.async(f)())}m.return=T;function T(f){throw new v(f)}m.promised=z;function z(f){return function(){return C([this,fe(arguments)],function(g,b){return f.apply(g,b)})}}m.dispatch=te;function te(f,g,b){return m(f).dispatch(g,b)}U.prototype.dispatch=function(f,g){var b=this,R=A();return m.nextTick(function(){b.promiseDispatch(R.resolve,f,g)}),R.promise},m.get=function(f,g){return m(f).dispatch("get",[g])},U.prototype.get=function(f){return this.dispatch("get",[f])},m.set=function(f,g,b){return m(f).dispatch("set",[g,b])},U.prototype.set=function(f,g){return this.dispatch("set",[f,g])},m.del=m.delete=function(f,g){return m(f).dispatch("delete",[g])},U.prototype.del=U.prototype.delete=function(f){return this.dispatch("delete",[f])},m.mapply=m.post=function(f,g,b){return m(f).dispatch("post",[g,b])},U.prototype.mapply=U.prototype.post=function(f,g){return this.dispatch("post",[f,g])},m.send=m.mcall=m.invoke=function(f,g){return m(f).dispatch("post",[g,h(arguments,2)])},U.prototype.send=U.prototype.mcall=U.prototype.invoke=function(f){return this.dispatch("post",[f,h(arguments,1)])},m.fapply=function(f,g){return m(f).dispatch("apply",[void 0,g])},U.prototype.fapply=function(f){return this.dispatch("apply",[void 0,f])},m.try=m.fcall=function(f){return m(f).dispatch("apply",[void 0,h(arguments,1)])},U.prototype.fcall=function(){return this.dispatch("apply",[void 0,h(arguments)])},m.fbind=function(f){var g=m(f),b=h(arguments,1);return function(){return g.dispatch("apply",[this,b.concat(h(arguments))])}},U.prototype.fbind=function(){var f=this,g=h(arguments);return function(){return f.dispatch("apply",[this,g.concat(h(arguments))])}},m.keys=function(f){return m(f).dispatch("keys",[])},U.prototype.keys=function(){return this.dispatch("keys",[])},m.all=fe;function fe(f){return G(f,function(g){var b=0,R=A();return S(g,function(W,X,K){var de;J(X)&&(de=X.inspect()).state==="fulfilled"?g[K]=de.value:(++b,G(X,function(ie){g[K]=ie,--b===0&&R.resolve(g)},R.reject,function(ie){R.notify({index:K,value:ie})}))},void 0),b===0&&R.resolve(g),R.promise})}U.prototype.all=function(){return fe(this)},m.any=Ce;function Ce(f){if(f.length===0)return m.resolve();var g=m.defer(),b=0;return S(f,function(R,W,X){var K=f[X];b++,G(K,de,ie,le);function de(ue){g.resolve(ue)}function ie(){b--,b===0&&g.reject(new Error("Q can't get fulfillment value from any promise, all promises were rejected."))}function le(ue){g.notify({index:X,value:ue})}},void 0),g.promise}U.prototype.any=function(){return Ce(this)},m.allResolved=F(Ie,"allResolved","allSettled");function Ie(f){return G(f,function(g){return g=E(g,m),G(fe(E(g,function(b){return G(b,o,o)})),function(){return g})})}U.prototype.allResolved=function(){return Ie(this)},m.allSettled=ae;function ae(f){return m(f).allSettled()}U.prototype.allSettled=function(){return this.then(function(f){return fe(E(f,function(g){g=m(g);function b(){return g.inspect()}return g.then(b,b)}))})},m.fail=m.catch=function(f,g){return m(f).then(void 0,g)},U.prototype.fail=U.prototype.catch=function(f){return this.then(void 0,f)},m.progress=Zn;function Zn(f,g){return m(f).then(void 0,void 0,g)}U.prototype.progress=function(f){return this.then(void 0,void 0,f)},m.fin=m.finally=function(f,g){return m(f).finally(g)},U.prototype.fin=U.prototype.finally=function(f){if(!f||typeof f.apply!="function")throw new Error("Q can't apply finally callback");return f=m(f),this.then(function(g){return f.fcall().then(function(){return g})},function(g){return f.fcall().then(function(){throw g})})},m.done=function(f,g,b,R){return m(f).done(g,b,R)},U.prototype.done=function(f,g,b){var R=function(X){m.nextTick(function(){if(w(X,W),m.onerror)m.onerror(X);else throw X})},W=f||g||b?this.then(f,g,b):this;typeof process=="object"&&process&&process.domain&&(R=process.domain.bind(R)),W.then(void 0,R)},m.timeout=function(f,g,b){return m(f).timeout(g,b)},U.prototype.timeout=function(f,g){var b=A(),R=setTimeout(function(){(!g||typeof g=="string")&&(g=new Error(g||"Timed out after "+f+" ms"),g.code="ETIMEDOUT"),b.reject(g)},f);return this.then(function(W){clearTimeout(R),b.resolve(W)},function(W){clearTimeout(R),b.reject(W)},b.notify),b.promise},m.delay=function(f,g){return g===void 0&&(g=f,f=void 0),m(f).delay(g)},U.prototype.delay=function(f){return this.then(function(g){var b=A();return setTimeout(function(){b.resolve(g)},f),b.promise})},m.nfapply=function(f,g){return m(f).nfapply(g)},U.prototype.nfapply=function(f){var g=A(),b=h(f);return b.push(g.makeNodeResolver()),this.fapply(b).fail(g.reject),g.promise},m.nfcall=function(f){var g=h(arguments,1);return m(f).nfapply(g)},U.prototype.nfcall=function(){var f=h(arguments),g=A();return f.push(g.makeNodeResolver()),this.fapply(f).fail(g.reject),g.promise},m.nfbind=m.denodeify=function(f){if(f===void 0)throw new Error("Q can't wrap an undefined function");var g=h(arguments,1);return function(){var b=g.concat(h(arguments)),R=A();return b.push(R.makeNodeResolver()),m(f).fapply(b).fail(R.reject),R.promise}},U.prototype.nfbind=U.prototype.denodeify=function(){var f=h(arguments);return f.unshift(this),m.denodeify.apply(void 0,f)},m.nbind=function(f,g){var b=h(arguments,2);return function(){var R=b.concat(h(arguments)),W=A();R.push(W.makeNodeResolver());function X(){return f.apply(g,arguments)}return m(X).fapply(R).fail(W.reject),W.promise}},U.prototype.nbind=function(){var f=h(arguments,0);return f.unshift(this),m.nbind.apply(void 0,f)},m.nmapply=m.npost=function(f,g,b){return m(f).npost(g,b)},U.prototype.nmapply=U.prototype.npost=function(f,g){var b=h(g||[]),R=A();return b.push(R.makeNodeResolver()),this.dispatch("post",[f,b]).fail(R.reject),R.promise},m.nsend=m.nmcall=m.ninvoke=function(f,g){var b=h(arguments,2),R=A();return b.push(R.makeNodeResolver()),m(f).dispatch("post",[g,b]).fail(R.reject),R.promise},U.prototype.nsend=U.prototype.nmcall=U.prototype.ninvoke=function(f){var g=h(arguments,1),b=A();return g.push(b.makeNodeResolver()),this.dispatch("post",[f,g]).fail(b.reject),b.promise},m.nodeify=eo;function eo(f,g){return m(f).nodeify(g)}U.prototype.nodeify=function(f){if(f)this.then(function(g){m.nextTick(function(){f(null,g)})},function(g){m.nextTick(function(){f(g)})});else return this},m.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var to=L();return m});var u=u||{};u.STUConstructor=function(){var e,t=65535,n=0,o=0,a={},s={};function c(i){return typeof i!="undefined"}function h(){return n++}function S(){return o++}function I(i){var r=9e3,p=this;c(i)||(i=r),this.onDCAtimeout=null,e=new WebSocket("wss://localhost:"+i.toString()+"/ws"),e.onopen=function(){console.log("connected")},e.onmessage=E,e.onclose=function(){console.log("disconnected"),typeof p.onDCAtimeout=="function"&&p.onDCAtimeout()}}I.prototype.Reinitialize=function(){u.STU=new u.STUConstructor},I.prototype.isServiceReady=function(){return e.readyState==1},I.prototype.isDCAReady=function(){var i=Q.defer();return u.STU.isServiceReady()?(setTimeout(function(){i.promise.isPending()&&(u.STU.isServiceReady()&&u.STU.close(),i.resolve(!1))},1e3),u.STU.getUsbDevices().then(function(r){i.promise.isPending()&&i.resolve(!0)}).fail(function(r){i.promise.isPending()&&i.resolve(!0)})):i.resolve(!1),i.promise},I.prototype.close=function(){e.close()};function E(i){if(typeof i.data!="undefined"&&i.data!=""){var r=JSON.parse(i.data);if(c(r.ticket)&&c(a[r.ticket]))c(r.success)&&r.success==!0&&c(r.data)?a[r.ticket].resolve(r.data):a[r.ticket].reject(new Error(c(r.error)?r.error:"")),delete a[r.ticket];else if(c(r.stream)&&c(s[r.stream])&&c(r.data))s[r.stream].stream(r.data);else throw new Error("websocket invalid message: "+i.data)}else console.log("Unexpected message type "+typeof i+" = "+JSON.stringify(i))}function _(i){for(var r=i.length,p=0;p<r;){var l=p+t<r?"0":"1",d=i.substr(p,t);e.send(l+d),p+=t}}return I.prototype.VendorId={VendorId_Wacom:1386},I.prototype.ProductId={ProductId_500:161,ProductId_300:162,ProductId_520A:163,ProductId_430:164,ProductId_530:165,ProductId_430V:166,ProductId_540:168,ProductId_541:169},I.prototype.ProductId_min=161,I.prototype.ProductId_max=175,I.prototype.send=function(i){var r=Q.defer();try{var p=h();i.ticket=p;var l=JSON.stringify(i);_(l),a[p]=r}catch(d){r.reject(d)}return r.promise},I.prototype.sendNoReturn=function(i){var r=JSON.stringify(i);_(r)},I.prototype.setStream=function(i){var r=S();return s[r]=i,r},I.prototype.removeStream=function(i){delete s[i]},I.prototype.getUsbDevices=function(){return u.STU.send({scope:"WacomGSS.STU.GetUsbDevices",function:"getUsbDevices"})},I.prototype.getTlsDevices=function(){return u.STU.send({scope:"WacomGSS.STU.GetTlsDevices",function:"getTlsDevices"})},I.prototype.isSupportedUsbDevice=function(i,r){return u.STU.send({scope:"WacomGSS.STU.GetUsbDevices",function:"isSupportedUsbDevice",idVendor:i,idProduct:r})},I.prototype.getStringUsbDevice=function(i){function r(p){return("0000"+p.toString(16)).substr(-4)}return r(i.idVendor)+":"+r(i.idProduct)+":"+r(i.bcdDevice)},I.prototype.SerialPort={Type:{Unknown:0,Physical:1,Virtual:2,Remote:3}},I.prototype.getSerialPorts=function(){return u.STU.send({scope:"WacomGSS.STU.GetSerialPorts",function:"getSerialPorts"})},I.prototype.UsbInterface=function(){var i="WacomGSS.STU.UsbInterface",r="";function p(){}return p.prototype.Constructor=function(){return u.STU.send({scope:i,function:"Constructor"}).then(function(l){return r=l.id,l})},p.prototype.connect=function(l,d){return u.STU.send({scope:i,id:r,function:"connect",usbDevice:l,exclusiveLock:d})},p.prototype.toJSON=function(){return{id:r,scope:i}},p.prototype.disconnect=function(){return u.STU.send({scope:i,id:r,function:"disconnect"})},p.prototype.isConnected=function(){return u.STU.send({scope:i,id:r,function:"isConnected"})},p.prototype.queueNotifyAll=function(){return u.STU.send({scope:i,id:r,function:"queueNotifyAll"})},p.prototype.queueSetPredicateAll=function(l){return u.STU.send({scope:i,id:r,function:"queueSetPredicateAll",predicate:l})},p.prototype.get=function(l){return u.STU.send({scope:i,id:r,function:"get_",length:l})},p.prototype.set=function(l){return u.STU.send({scope:i,id:r,function:"set",base64Data:l})},p.prototype.supportsWrite=function(){return u.STU.send({scope:i,id:r,function:"supportsWrite"})},p.prototype.write=function(l){return u.STU.send({scope:i,id:r,function:"write",base64Data:l})},p.prototype.getReportCountLengths=function(){return u.STU.send({scope:i,id:r,function:"getReportCountLengths"})},p.prototype.getProductId=function(){return u.STU.send({scope:i,id:r,function:"getProductId"})},p}(),I.prototype.Protocol=function(){var i="WacomGSS.STU.Protocol",r="",p={};function l(){}return l.prototype.PenDataOptionMode={PenDataOptionMode_None:0,PenDataOptionMode_TimeCount:1,PenDataOptionMode_SequenceNumber:2,PenDataOptionMode_TimeCountSequence:3},l.prototype.InkingMode={InkingMode_Off:0,InkingMode_On:1},l.prototype.ReportId={ReportId_PenData:1,ReportId_Status:3,ReportId_Reset:4,ReportId_HidInformation:6,ReportId_Information:8,ReportId_Capability:9,ReportId_Uid:10,ReportId_Uid2:11,ReportId_DefaultMode:12,ReportId_ReportRate:13,ReportId_RenderingMode:14,ReportId_Eserial:15,ReportId_PenDataEncrypted:16,ReportId_HostPublicKey:19,ReportId_DevicePublicKey:20,ReportId_StartCapture:21,ReportId_EndCapture:22,ReportId_DHprime:26,ReportId_DHbase:27,ReportId_ClearScreen:32,ReportId_InkingMode:33,ReportId_InkThreshold:34,ReportId_ClearScreenArea:35,ReportId_StartImageDataArea:36,ReportId_StartImageData:37,ReportId_ImageDataBlock:38,ReportId_EndImageData:39,ReportId_HandwritingThicknessColor:40,ReportId_BackgroundColor:41,ReportId_HandwritingDisplayArea:42,ReportId_BacklightBrightness:43,ReportId_ScreenContrast:44,ReportId_HandwritingThicknessColor24:45,ReportId_BackgroundColor24:46,ReportId_BootScreen:47,ReportId_PenDataOption:48,ReportId_PenDataEncryptedOption:49,ReportId_PenDataOptionMode:50,ReportId_PenDataTimeCountSequenceEncrypted:51,ReportId_PenDataTimeCountSequence:52,ReportId_EncryptionCommand:64,ReportId_EncryptionStatus:80,ReportId_GetReport:128,ReportId_SetResult:129,ReportId_PinPadData:144,ReportId_PinPadDataEncrypted:145,ReportId_PinOperationMode:146,ReportId_OperationMode:147,ReportId_RomStartImageData:148,ReportId_RomImageOccupancy:149,ReportId_RomImageHash:150,ReportId_RomImageDelete:151,ReportId_CurrentImageArea:152,ReportId_EventData:153,ReportId_EventDataEncrypted:154,ReportId_RomImageDisplay:155,ReportId_ReportSizeCollection:255,Decrypt:256,SigCaptX_Decrypt:256,SigCaptX_TabletDisconnected:257},l.prototype.DefaultMode={DefaultMode_HID:1,DefaultMode_Serial:2},l.prototype.StatusCode={StatusCode_Ready:0,StatusCode_Image:1,StatusCode_Capture:2,StatusCode_Calculation:3,StatusCode_Image_Boot:4,StatusCode_RomBusy:5,StatusCode_SystemReset:255},l.prototype.ErrorCode={ErrorCode_None:0,ErrorCode_WrongReportId:1,ErrorCode_WrongState:2,ErrorCode_CRC:3,ErrorCode_GraphicsWrongEncodingType:16,ErrorCode_GraphicsImageTooLong:17,ErrorCode_GraphicsZlibError:18,ErrorCode_GraphicsWrongParameters:21,ErrorCode_PadNotExist:32,ErrorCode_RomSizeOverflow:51,ErrorCode_RomInvalidParameter:52,ErrorCode_RomErrorCRC:53},l.prototype.Rectangle={upperLeftXpixel:0,upperLeftYpixel:0,lowerRightXpixel:0,lowerRightYpixel:0},l.prototype.InkThreshold={onPressureMark:0,offPressureMark:0},l.prototype.HandwritingThicknessColor={penColor:0,penThickness:0},l.prototype.HandwritingThicknessColor24={penColor:0,penThickness:0},l.prototype.EncryptionCommandNumber={EncryptionCommandNumber_SetEncryptionType:1,EncryptionCommandNumber_SetParameterBlock:2,EncryptionCommandNumber_GetStatusBlock:3,EncryptionCommandNumber_GetParameterBlock:4,EncryptionCommandNumber_GenerateSymmetricKey:5},l.prototype.EncodingMode={EncodingMode_1bit:0,EncodingMode_1bit_Zlib:1,EncodingMode_16bit:2,EncodingMode_24bit:4,EncodingMode_1bit_Bulk:16,EncodingMode_16bit_Bulk:18,EncodingMode_24bit_Bulk:20},l.prototype.EndImageDataFlag={EndImageDataFlag_Commit:0,EndImageDataFlag_Abandon:1},l.prototype.ResetFlag={ResetFlag_Software:0,ResetFlag_Hardware:1},l.prototype.EncodingFlag={EncodingFlag_Zlib:1,EncodingFlag_1bit:2,EncodingFlag_16bit:4,EncodingFlag_24bit:8},l.prototype.StatusCodeRSA={StatusCodeRSA_Ready:0,StatusCodeRSA_Calculating:250,StatusCodeRSA_Even:251,StatusCodeRSA_Long:252,StatusCodeRSA_Short:253,StatusCodeRSA_Invalid:254,StatusCodeRSA_NotReady:255},l.prototype.ErrorCodeRSA={ErrorCodeRSA_None:0,ErrorCodeRSA_BadParameter:1,ErrorCodeRSA_ParameterTooLong:2,ErrorCodeRSA_PublicKeyNotReady:3,ErrorCodeRSA_PublicExponentNotReady:4,ErrorCodeRSA_SpecifiedKeyInUse:5,ErrorCodeRSA_SpecifiedKeyNotInUse:6,ErrorCodeRSA_BadCommandCode:7,ErrorCodeRSA_CommandPending:8,ErrorCodeRSA_SpecifiedKeyExists:9,ErrorCodeRSA_SpecifiedKeyNotExist:10,ErrorCodeRSA_NotInitialized:11},l.prototype.SymmetricKeyType={SymmetricKeyType_AES128:0,SymmetricKeyType_AES192:1,SymmetricKeyType_AES256:2},l.prototype.AsymmetricKeyType={AsymmetricKeyType_RSA1024:0,AsymmetricKeyType_RSA1536:1,AsymmetricKeyType_RSA2048:2},l.prototype.AsymmetricPaddingType={AsymmetricPaddingType_None:0,AsymmetricPaddingType_PKCS1:1,AsymmetricPaddingType_OAEP:2},l.prototype.AsymmetricPaddingType={EncryptionCommandParameterBlockIndex_RSAe:0,EncryptionCommandParameterBlockIndex_RSAn:1,EncryptionCommandParameterBlockIndex_RSAc:2,EncryptionCommandParameterBlockIndex_RSAm:3},l.prototype.RomImageDeleteMode={RomImageDeleteMode_All:0,RomImageDeleteMode_PinPad_All:1,RomImageDeleteMode_SlideShow_All:2,RomImageDeleteMode_KeyPad_All:3,RomImageDeleteMode_Signature_All:4,RomImageDeleteMode_MessageBox_All:5,RomImageDeleteMode_PinPad_Number:6,RomImageDeleteMode_SlideShow_Number:7,RomImageDeleteMode_KeyPad_Number:8,RomImageDeleteMode_Signature_Number:9,RomImageDeleteMode_MessageBox_Number:10},l.prototype.OperationModeType={OperationModeType_Normal:0,OperationModeType_PinPad:1,OperationModeType_SlideShow:2,OperationModeType_KeyPad:3,OperationModeType_Signature:4,OperationModeType_MessageBox:5},l.prototype.ImageDataBlock_maxLengthHID=253,l.prototype.ImageDataBlock_maxLengthSerial=2557,l.prototype.ImageDataBlock_maxLength540=2557,l.prototype.toJSON=function(){return{id:r,scope:i}},l.prototype.Constructor=function(d){return p=d,u.STU.send({scope:i,function:"Constructor",intf:p.toJSON()}).then(function(v){return r=v.id,v})},l.prototype.getInterface=function(){return p},l.prototype.getInformation=function(){return u.STU.send({scope:i,id:r,function:"getInformation"})},l.prototype.getPenDataOptionMode=function(){return u.STU.send({scope:i,id:r,function:"getPenDataOptionMode"})},l.prototype.setPenDataOptionMode=function(d){return u.STU.send({scope:i,id:r,function:"setPenDataOptionMode",penDataOptionMode:d})},l.prototype.OperationMode_Normal=function(){function d(){this.operationMode=0,this.data=[]}return d}(),l.prototype.OperationMode_PinPad=function(){function d(v,y,w,P,B,$,V){this.operationMode=1,this.data=[],this.data[0]=v,this.data[1]=Number(y),this.data[2]=w,this.data[3]=P,this.data[4]=Number(B),this.data[5]=$,this.data[6]=V}return d}(),l.prototype.OperationMode_SlideShow=function(){function d(v,y,w,P){this.operationMode=2,this.data=[],this.data[0]=v,this.data[1]=y,this.data[2]=(w[0]&15)<<4|w[1]&15,this.data[3]=(w[2]&15)<<4|w[3]&15,this.data[4]=(w[4]&15)<<4|w[5]&15,this.data[5]=(w[6]&15)<<4|w[7]&15,this.data[6]=(w[8]&15)<<4|w[9]&15,this.data[7]=P>>24&255,this.data[8]=P>>16&255,this.data[9]=P>>8&255,this.data[10]=P&255}return d}(),l.prototype.OperationMode_KeyPad=function(){function d(v,y){this.operationMode=3,this.data=[],this.data[0]=v,this.data[1]=y}return d}(),l.prototype.OperationMode_Signature=function(){function d(v,y,w,P){this.operationMode=4,this.data=[],this.data[0]=v,this.data[1]=y[0],this.data[2]=y[1],this.data[3]=y[2],this.data[4]=w}return d}(),l.prototype.setOperationMode=function(d){return u.STU.send({scope:i,id:r,function:"setOperationMode",operationMode:d})},l.prototype.getOperationMode=function(){return u.STU.send({scope:i,id:r,function:"getOperationMode"})},l.prototype.RomStartImageData_PinPad=function(){function d(v,y,w,P,B){this.encodingMode=v,this.operationMode=1,this.imageType=y,this.imageNumber=w,this.data=[P,B,0]}return d}(),l.prototype.RomStartImageData_SlideShow=function(){function d(v,y,w){this.encodingMode=v,this.operationMode=2,this.imageType=y,this.imageNumber=w,this.data=[0,0,0]}return d}(),l.prototype.RomStartImageData_KeyPad=function(){function d(v,y,w,P,B){this.encodingMode=v,this.operationMode=3,this.imageType=y,this.imageNumber=w,this.data=[],this.data[0]=P,this.data[1]=B.length>8&&B[8]?1:0,this.data[2]=(B.length>7&&B[7]?128:0)|(B.length>6&&B[6]?64:0)|(B.length>5&&B[5]?32:0)|(B.length>4&&B[4]?16:0)|(B.length>3&&B[3]?8:0)|(B.length>2&&B[2]?4:0)|(B.length>1&&B[1]?2:0)|(B.length>0&&B[0]?1:0)}return d}(),l.prototype.RomStartImageData_Signature=function(){function d(v,y,w,P){this.encodingMode=v,this.operationMode=4,this.imageType=y,this.imageNumber=w,this.data=[],this.data[0]=(P[2]?4:0)|(P[1]?2:0)|(P[0]?1:0)}return d}(),l.prototype.RomStartImageData_MessageBox=function(){function d(v,y){this.encodingMode=v,this.operationMode=5,this.imageType=!1,this.imageNumber=y,this.data=[0,0,0]}return d}(),l.prototype.setRomStartImageData=function(d){return u.STU.send({scope:i,id:r,function:"setRomStartImageData",romStartImage:d})},l.prototype.setRomImageHash=function(d,v,y){return u.STU.send({scope:i,id:r,function:"setRomImageHash",operationModeType:d,imageType:v,imageNumber:y})},l.prototype.getRomImageHash=function(){return u.STU.send({scope:i,id:r,function:"getRomImageHash"})},l.prototype.setRomImageDelete=function(d,v,y){return u.STU.send({scope:i,id:r,function:"setRomImageDelete",romImageDeleteMode:d,imageType:v,imageNumber:y})},l.prototype.getCurrentImageArea=function(){return u.STU.send({scope:i,id:r,function:"getCurrentImageArea"})},l.prototype.setRomImageDisplay=function(d,v,y){return u.STU.send({scope:i,id:r,function:"setRomImageDisplay",operationModeType:d,imageType:v,imageNumber:y})},l.prototype.getEserial=function(){return u.STU.send({scope:i,id:r,function:"getEserial"})},l.prototype.setClearScreen=function(){return u.STU.send({scope:i,id:r,function:"setClearScreen"})},l.prototype.setInkingMode=function(d){return u.STU.send({scope:i,id:r,function:"setInkingMode",inkingMode:d})},l.prototype.rebind=function(d){var v=d;return u.STU.send({scope:i,id:r,function:"rebind",intf:d.toJSON()}).then(function(y){y===null&&(p=v)})},l.prototype.getStatus=function(){return u.STU.send({scope:i,id:r,function:"getStatus"})},l.prototype.setReset=function(d){return u.STU.send({scope:i,id:r,function:"setReset",flag:d})},l.prototype.getHidInformation=function(){return u.STU.send({scope:i,id:r,function:"getHidInformation"})},l.prototype.getCapability=function(){return u.STU.send({scope:i,id:r,function:"getCapability"})},l.prototype.getUid=function(){return u.STU.send({scope:i,id:r,function:"getUid"})},l.prototype.setUid=function(d){return u.STU.send({scope:i,id:r,function:"setUid",uid:d})},l.prototype.getUid2=function(){return u.STU.send({scope:i,id:r,function:"getUid2"})},l.prototype.setDefaultMode=function(d){return u.STU.send({scope:i,id:r,function:"setDefaultMode",defaultMode:d})},l.prototype.getDefaultMode=function(){return u.STU.send({scope:i,id:r,function:"getDefaultMode"})},l.prototype.getHostPublicKey=function(){return u.STU.send({scope:i,id:r,function:"getHostPublicKey"})},l.prototype.setHostPublicKey=function(d){return u.STU.send({scope:i,id:r,function:"setHostPublicKey",hostPublicKey:d})},l.prototype.getDevicePublicKey=function(){return u.STU.send({scope:i,id:r,function:"getDevicePublicKey"})},l.prototype.setStartCapture=function(d){return u.STU.send({scope:i,id:r,function:"setStartCapture",sessionId:d})},l.prototype.setEndCapture=function(){return u.STU.send({scope:i,id:r,function:"setEndCapture"})},l.prototype.getDHprime=function(){return u.STU.send({scope:i,id:r,function:"getDHprime"})},l.prototype.setDHprime=function(d){return u.STU.send({scope:i,id:r,function:"setDHprime",prime:d})},l.prototype.getDHbase=function(){return u.STU.send({scope:i,id:r,function:"getDHbase"})},l.prototype.setDHbase=function(d){return u.STU.send({scope:i,id:r,function:"setDHbase",base})},l.prototype.setClearScreenArea=function(d){return u.STU.send({scope:i,id:r,function:"setClearScreenArea",area:d})},l.prototype.getInkingMode=function(){return u.STU.send({scope:i,id:r,function:"getInkingMode"})},l.prototype.getInkThreshold=function(){return u.STU.send({scope:i,id:r,function:"getInkThreshold"})},l.prototype.setInkThreshold=function(d){return u.STU.send({scope:i,id:r,function:"setInkThreshold",inkThreshold:d})},l.prototype.setStartImageData=function(d){return u.STU.send({scope:i,id:r,function:"setStartImageData",encodingMode:d})},l.prototype.setStartImageDataArea=function(d,v){return u.STU.send({scope:i,id:r,function:"setStartImageDataArea",encodingMode:d,area:v})},l.prototype.setImageDataBlock=function(d){return u.STU.send({scope:i,id:r,function:"setEndImageData",imageDataBlock:d})},l.prototype.setEndImageData=function(d){return u.STU.send({scope:i,id:r,function:"setEndImageData",endImageDataFlag})},l.prototype.getHandwritingThicknessColor=function(){return u.STU.send({scope:i,id:r,function:"getHandwritingThicknessColor"})},l.prototype.setHandwritingThicknessColor=function(d){return u.STU.send({scope:i,id:r,function:"setHandwritingThicknessColor",handwritingThicknessColor:d})},l.prototype.getHandwritingThicknessColor24=function(){return u.STU.send({scope:i,id:r,function:"getHandwritingThicknessColor24"})},l.prototype.setHandwritingThicknessColor24=function(d){return u.STU.send({scope:i,id:r,function:"setHandwritingThicknessColor24",handwritingThicknessColor24:d})},l.prototype.getBackgroundColor=function(){return u.STU.send({scope:i,id:r,function:"getBackgroundColor"})},l.prototype.setBackgroundColor=function(d){return u.STU.send({scope:i,id:r,function:"setBackgroundColor",backgroundColor:d})},l.prototype.getBackgroundColor24=function(){return u.STU.send({scope:i,id:r,function:"getBackgroundColor24"})},l.prototype.setBackgroundColor24=function(d){return u.STU.send({scope:i,id:r,function:"setBackgroundColor24",backgroundColor24:d})},l.prototype.BootScreenFlag={Disable:0,Enable:1},l.prototype.setBootScreen=function(d){return u.STU.send({scope:i,id:r,function:"setBootScreen",bootScreenFlag:d})},l.prototype.getBootScreen=function(){return u.STU.send({scope:i,id:r,function:"getBootScreen"})},l.prototype.getHandwritingDisplayArea=function(){return u.STU.send({scope:i,id:r,function:"getHandwritingDisplayArea"})},l.prototype.setHandwritingDisplayArea=function(d){return u.STU.send({scope:i,id:r,function:"setHandwritingDisplayArea",handwritingDisplayArea:d})},l.prototype.getBacklightBrightness=function(){return u.STU.send({scope:i,id:r,function:"getBacklightBrightness"})},l.prototype.setBacklightBrightness=function(d){return u.STU.send({scope:i,id:r,function:"setBacklightBrightness",backlightBrightness:d})},l.prototype.getScreenContrast=function(){return u.STU.send({scope:i,id:r,function:"getScreenContrast"})},l.prototype.setScreenContrast=function(d){return u.STU.send({scope:i,id:r,function:"setScreenContrast",screenContrast:d})},l.prototype.getEncryptionStatus=function(){return u.STU.send({scope:i,id:r,function:"getEncryptionStatus"})},l.prototype.EncryptionCommand=function(){var d="WacomGSS.STU.Protocol";function v(w){this.encryptionCommandNumber=w.encryptionCommandNumber,this.parameter=w.parameter,this.lengthOrIndex=w.lengthOrIndex,this.data=w.data}function y(){this.encryptionCommandNumber=0,this.parameter=0,this.lengthOrIndex=0,this.data=[]}return y.prototype.initializeSetEncryptionType=function(w,P,B){return u.STU.send({scope:d,function:"EncryptionCommand_initializeSetEncryptionType",symmetricKeyType:w,asymmetricPaddingType:P,asymmetricKeyType:B}).then(function($){return v.call(this,$),this})},y.prototype.initializeSetParameterBlock=function(w,P){return u.STU.send({scope:d,function:"EncryptionCommand_initializeSetParameterBlock",index:w,data:P}).then(function(B){return v.call(this,B),this})},y.prototype.initializeGenerateSymmetricKey=function(){return u.STU.send({scope:d,function:"EncryptionCommand_initializeGenerateSymmetricKey"}).then(function(w){return v.call(this,w),this})},y.prototype.initializeGetParameterBlock=function(w,P){return u.STU.send({scope:d,function:"EncryptionCommand_initializeGetParameterBlock"}).then(function(B){return v.call(this,B),this})},y}(),l.prototype.getEncryptionCommand=function(d){return u.STU.send({scope:i,id:r,function:"getEncryptionCommand",encryptionCommandNumber:d})},l.prototype.getReportSizeCollection=function(){return u.STU.send({scope:i,id:r,function:"getReportSizeCollection"})},l.prototype.setReportRate=function(d){return u.STU.send({scope:i,id:r,function:"setReportRate",reportRate:d})},l.prototype.getReportRate=function(){return u.STU.send({scope:i,id:r,function:"getReportRate"})},l.prototype.RenderingMode={RenderingMode_Legacy:0,RenderingMode_WILL:1},l.prototype.setRenderingMode=function(d){return u.STU.send({scope:i,id:r,function:"setRenderingMode",renderingMode:d})},l.prototype.getRenderingMode=function(){return u.STU.send({scope:i,id:r,function:"getRenderingMode"})},l}(),I.prototype.ProtocolHelper={ReportHandler:function(){var i="WacomGSS.STU.ProtocolHelper.ReportHandler",r=null,p=null;function l(){this.onReportPenData=function(d){},this.onReportPenDataOption=function(d){},this.onReportPenDataTimeCountSequence=function(d){},this.onReportPenDataEncrypted=function(d){},this.onReportPenDataEncryptedOption=function(d){},this.onReportPenDataTimeCountSequenceEncrypted=function(d){},this.onReportDevicePublicKey=function(d){},this.onReportEncryptionStatus=function(d){},this.onReportEventDataPinPad=function(d){},this.onReportEventDataKeyPad=function(d){},this.onReportEventDataSignature=function(d){},this.onReportEventDataPinPadEncrypted=function(d){},this.onReportEventDataKeyPadEncrypted=function(d){},this.onReportEventDataSignatureEncrypted=function(d){},this.decrypt=function(d){},this.tabletDisconnected=function(d){},this.stream=function(d){var v=new u.STU.Protocol;switch(d.reportId){case v.ReportId.ReportId_PenData:this.onReportPenData(d);break;case v.ReportId.ReportId_PenDataOption:this.onReportPenDataOption(d);break;case v.ReportId.ReportId_PenDataTimeCountSequence:this.onReportPenDataTimeCountSequence(d);break;case v.ReportId.ReportId_PenDataEncrypted:this.onReportPenDataEncrypted(d);break;case v.ReportId.ReportId_PenDataEncryptedOption:this.onReportPenDataEncryptedOption(d);break;case v.ReportId.ReportId_PenDataTimeCountSequenceEncrypted:this.onReportPenDataTimeCountSequenceEncrypted(d);break;case v.ReportId.ReportId_DevicePublicKey:this.onReportDevicePublicKey(d);break;case v.ReportId.ReportId_EncryptionStatus:this.onReportEncryptionStatus(d);break;case v.ReportId.ReportId_EventData:this.onEventData(v,d);break;case v.ReportId.ReportId_EventDataEncrypted:this.onEventDataEncrypted(v,d);break;case v.ReportId.SigCaptX_Decrypt:this.decrypt(d);break;case v.ReportId.SigCaptX_TabletDisconnected:this.tabletDisconnected(d);break}}}return l.prototype.startReporting=function(d,v){return r=u.STU.setStream(this),u.STU.send({interfaceQueueHolder:d.toJSON(),scope:i,function:"startReporting",streamId:r,tabletDecrypt:v===!0}).then(function(y){return p=y.id,y})},l.prototype.stopReporting=function(){if(r===null)throw"Error: trying to stop reporting before starting";return u.STU.send({id:p,scope:i,function:"stopReporting"}).then(function(d){return u.STU.removeStream(r),d})},l.prototype.onEventData=function(d,v){switch(v.operationModeType){case d.OperationModeType.OperationModeType_PinPad:this.onReportEventDataPinPad(v);break;case d.OperationModeType.OperationModeType_KeyPad:this.onReportEventDataKeyPad(v);break;case d.OperationModeType.OperationModeType_Signature:this.onReportEventDataSignature(v);break}},l.prototype.onEventDataEncrypted=function(d,v){switch(v.operationModeType){case d.OperationModeType.OperationModeType_PinPad:this.onReportEventDataPinPadEncrypted(v);break;case d.OperationModeType.OperationModeType_KeyPad:this.onReportEventDataKeyPadEncrypted(v);break;case d.OperationModeType.OperationModeType_Signature:this.onReportEventDataSignatureEncrypted(v);break}},l}(),InkState_isOff:1,InkState_isOn:2,InkState_isInk:4,InkState_isFirst:8,InkState_isLast:16,InkState:{InkState_Up:1,InkState_Down:2,InkState_Inking:6,InkState_First:14,InkState_Last:17},OpDirection:{OpDirection_Get:256,OpDirection_Set:512},statusCanSend:function(i,r,p){return u.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"statusCanSend",statusCode:i,reportId:r,opDirection:p})},waitForStatusToSend:function(i,r,p,l,d){var v=Q.defer();function y(){i.getStatus().then(function(w){return u.STU.ProtocolHelper.statusCanSend(w.statusCode,r,p)}).then(function(w){if(w===!0){v.resolve();return}if(l<=0){v.reject(new Error("timeout error"));return}l--,setTimeout(y,d)})}return setTimeout(y,0),v.promise},waitForStatus:function(i,r,p,l){var d=Q.defer();function v(){i.getStatus().then(function(y){if(y.statusCode===r){d.resolve();return}if(p<=0){d.reject(new Error("timeout error"));return}p--,setTimeout(v,l)})}return setTimeout(v,0),d.promise},supportsEncryption:function(i){var r=u.STU.ProtocolHelper.OpDirection.OpDirection_Get;return u.STU.ProtocolHelper.waitForStatusToSend(i,u.STU.Protocol.ReportId.ReportId_DHprime,r,25,50).then(function(p){return u.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"supportsEncryption",protocol:i})})},supportsEncryption_DHprime:function(i){return u.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"supportsEncryption_DHprime",dhPrime:i})},setHostPublicKeyAndPollForDevicePublicKey:function(i,r,p,l){return i.setHostPublicKey(r).then(function(d){var v=u.STU.ProtocolHelper.OpDirection.OpDirection_Get;return u.STU.ProtocolHelper.waitForStatusToSend(i,u.STU.Protocol.ReportId.ReportId_DevicePublicKey,v,p,l)}).then(function(d){return i.getDevicePublicKey()}).then(function(d){if(d.length!==r.length)throw new Error("Unexpected key size");return d})},writeImage:function(i,r,p,l,d){l=typeof l=="undefined"?25:l,d=typeof d=="undefined"?25:d;var v=u.STU.ProtocolHelper.OpDirection.OpDirection_Set;return u.STU.ProtocolHelper.waitForStatusToSend(i,u.STU.Protocol.ReportId.ReportId_StartImageData,v,l,d).then(function(y){return i.setStartImageData(r)}).then(function(y){var w=i.ImageDataBlock_maxLengthHID;return u.STU.ProtocolHelper.writeImageCommon(i,r,w,p,l,d)})},writeImageCommon:function(i,r,p,l,d,v){if(p>i.ImageDataBlock_maxLengthSerial)throw new Error("Invalid maxImageBlockSize");var y=u.STU.ProtocolHelper.OpDirection.OpDirection_Set;return u.STU.ProtocolHelper.waitForStatusToSend(i,u.STU.Protocol.ReportId.ReportId_ImageDataBlock,y,d,v).then(function(w){return u.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"writeImageCommon",protocol:i.toJSON(),intf:i.getInterface().toJSON(),encodingMode:r,imageData:l,maxImageBlockSize:p})})},flattenMonochrome:function(i,r,p,l){return u.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"flattenMonochrome",b64Data:i,screenWidth:r,screenHeight:p,dataStore:l===!0}).then(function(d){if(typeof d=="string")return d;var v=new u.STU.DataStore;return v.setId(d.id),v})},flatten:function(i,r,p,l,d){var v=new u.STU.Protocol;switch(i){case v.EncodingMode.EncodingMode_24bit:case v.EncodingMode.EncodingMode_24bit_Bulk:return u.STU.ProtocolHelper.flattenColor24(r,p,l,d);case v.EncodingMode.EncodingMode_16bit:case v.EncodingMode.EncodingMode_16bit_Bulk:return u.STU.ProtocolHelper.flattenColor16(r,p,l,d);case v.EncodingMode.EncodingMode_1bit:case v.EncodingMode.EncodingMode_1bit_Bulk:return u.STU.ProtocolHelper.flattenMonochrome(r,p,l,d)}},resizeAndFlatten:function(i,r,p,l,d,v,y,w,P,B,$,V){return u.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"resizeAndFlatten",b64Data:i,offsetX:r,offsetY:p,bitmapWidth:l,bitmapHeight:d,screenWidth:v,screenHeight:y,encodingMode:w,scale:P,backgroundColor:B,clip:$,dataStore:V===!0}).then(function(L){if(typeof L=="string")return L;var F=new u.STU.DataStore;return F.setId(L.id),F})},encodingFlagSupportsColor:function(i){return u.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"encodingFlagSupportsColor",screenWidth:i})},flattenColor16:function(i,r,p,l){return u.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"flattenColor16",b64Data:i,screenWidth:r,screenHeight:p,dataStore:l===!0}).then(function(d){if(typeof d=="string")return d;var v=new u.STU.DataStore;return v.setId(d.id),v})},flattenColor24:function(i,r,p,l){return u.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"flattenColor24",b64Data:i,screenWidth:r,screenHeight:p,dataStore:l===!0}).then(function(d){if(typeof d=="string")return d;var v=new u.STU.DataStore;return v.setId(d.id),v})},generateSymmetricKeyAndWaitForEncryptionStatus:function(i,r,p,l){var d=u.STU.ProtocolHelper.OpDirection.OpDirection_Set,v=Q.defer(),y=h();return a[y]=v,u.STU.ProtocolHelper.waitForStatusToSend(i,u.STU.Protocol.ReportId.ReportId_EncryptionCommand,d,r,p).then(function(w){return u.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"generateSymmetricKeyAndWaitForEncryptionStatus",protocol:i.toJSON(),intf:i.getInterface().toJSON(),timeout:l,sleepBetweenRetries:p,ticket2:y}).then(function(P){return v.promise})})},simulateEncodingFlag:function(i,r){return u.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"simulateEncodingFlag",idProduct:i,encodingFlag:typeof obj=="undefined"?0:r})},writeImageArea:function(i,r,p,l,d,v){d=typeof d=="undefined"?25:d,v=typeof v=="undefined"?25:v;var y=u.STU.ProtocolHelper.OpDirection.OpDirection_Set;return u.STU.ProtocolHelper.waitForStatusToSend(i,u.STU.Protocol.ReportId.ReportId_StartImageDataArea,y,d,v).then(function(w){return i.setStartImageDataArea(r,p)}).then(function(w){var P=i.ImageDataBlock_maxLengthHID;return u.STU.ProtocolHelper.writeImageCommon(i,r,P,l,d,v)})},writeRomImage:function(i,r,p,l,d,v){return u.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"writeRomImage",protocol:i,romStartImageData:r,maxImageBlockSize:p,imageData:l,retries:d,sleepBetweenRetries:v})}},I.prototype.Tablet=function(){var i="WacomGSS.STU.Tablet",r=null;function p(){}return p.prototype.toJSON=function(){return{id:r,scope:i}},p.prototype.Constructor=function(l,d,v){return u.STU.send({scope:i,function:"Constructor",hasIntf:typeof l!="undefined",intf:typeof l=="undefined"?null:l.toJSON(),encryptionHandler:typeof d=="undefined"||d===null?null:d.toJSON(),encryptionHandler2:typeof v=="undefined"||v===null?null:v.toJSON()}).then(function(y){return r=y.id,y})},p.prototype.attach=function(l){return u.STU.send({scope:i,id:r,function:"attach",intf:typeof l=="undefined"?null:l.toJSON()})},p.prototype.detach=function(l){return u.STU.send({scope:i,id:r,function:"detach"}).then(function(d){var v;return c(d.scope)&&c(d.id)&&(d.scope==="WacomGSS.STU.UsbInterface"?(v=new I.UsbInterface,v.id=d.id):d.scope==="WacomGSS.STU.SerialInterface"&&(v=new I.SerialInterface,v.id=d.id)),v})},p.prototype.getInformation=function(){return u.STU.send({scope:i,id:r,function:"getInformation"})},p.prototype.setClearScreen=function(){return u.STU.send({scope:i,id:r,function:"setClearScreen"})},p.prototype.isSupported=function(l){return u.STU.send({scope:i,id:r,function:"isSupported",reportId:l})},p.prototype.getProductId=function(l){return u.STU.send({scope:i,id:r,function:"getProductId"})},p.prototype.setPenDataOptionMode=function(l){return u.STU.send({scope:i,id:r,function:"setPenDataOptionMode",penDataOptionMode:l})},p.prototype.getDHprime=function(){return u.STU.send({scope:i,id:r,function:"getDHprime"})},p.prototype.startCapture=function(l){return u.STU.send({scope:i,id:r,function:"startCapture",sessionId:l})},p.prototype.setInkingMode=function(l){return u.STU.send({scope:i,id:r,function:"setInkingMode",inkingMode:l})},p.prototype.queueSetPredicateAll=function(l){return u.STU.send({scope:i,id:r,function:"queueSetPredicateAll",predicate:l})},p.prototype.endCapture=function(){return u.STU.send({scope:i,id:r,function:"endCapture"})},p.prototype.disconnect=function(){return u.STU.send({scope:i,id:r,function:"disconnect"})},p.prototype.empty=function(){return u.STU.send({scope:i,id:r,function:"empty"})},p.prototype.isConnected=function(){return u.STU.send({scope:i,id:r,function:"isConnected"})},p.prototype.supportsWrite=function(){return u.STU.send({scope:i,id:r,function:"supportsWrite"})},p.prototype.getReportCountLengths=function(){return u.STU.send({scope:i,id:r,function:"getReportCountLengths"})},p.prototype.getStatus=function(){return u.STU.send({scope:i,id:r,function:"getStatus"})},p.prototype.reset=function(){return u.STU.send({scope:i,id:r,function:"reset"})},p.prototype.getHidInformation=function(){return u.STU.send({scope:i,id:r,function:"getHidInformation"})},p.prototype.getCapability=function(){return u.STU.send({scope:i,id:r,function:"getCapability"})},p.prototype.getUid=function(){return u.STU.send({scope:i,id:r,function:"getUid"})},p.prototype.setUid=function(l){return u.STU.send({scope:i,id:r,function:"setUid",uid:l})},p.prototype.getUid2=function(){return u.STU.send({scope:i,id:r,function:"getUid2"})},p.prototype.setDefaultMode=function(l){return u.STU.send({scope:i,id:r,function:"setDefaultMode",defaultMode:l})},p.prototype.getDefaultMode=function(){return u.STU.send({scope:i,id:r,function:"getDefaultMode"})},p.prototype.getHostPublicKey=function(){return u.STU.send({scope:i,id:r,function:"getHostPublicKey"})},p.prototype.getDevicePublicKey=function(){return u.STU.send({scope:i,id:r,function:"getDevicePublicKey"})},p.prototype.setDHprime=function(l){return u.STU.send({scope:i,id:r,function:"setDHprime",prime:l})},p.prototype.getDHbase=function(){return u.STU.send({scope:i,id:r,function:"getDHbase"})},p.prototype.setDHbase=function(l){return u.STU.send({scope:i,id:r,function:"setDHbase",base})},p.prototype.setClearScreenArea=function(l){return u.STU.send({scope:i,id:r,function:"setClearScreenArea",area:l})},p.prototype.getInkingMode=function(){return u.STU.send({scope:i,id:r,function:"getInkingMode"})},p.prototype.getInkThreshold=function(){return u.STU.send({scope:i,id:r,function:"getInkThreshold"})},p.prototype.setInkThreshold=function(l){return u.STU.send({scope:i,id:r,function:"setInkThreshold",inkThreshold:l})},p.prototype.writeImage=function(l,d){var v=null;return typeof d=="string"?v=d:v=d.toJSON(),u.STU.send({scope:i,id:r,function:"writeImage",encodingMode:l,b64Data:v})},p.prototype.writeImageArea=function(l,d,v){var y=null;return typeof v=="string"?y=v:y=v.toJSON(),u.STU.send({scope:i,id:r,function:"writeImageArea",encodingMode:l,area:d,b64Data:y})},p.prototype.endImageData=function(l){return u.STU.send({scope:i,id:r,function:"endImageData"})},p.prototype.getHandwritingThicknessColor=function(){return u.STU.send({scope:i,id:r,function:"getHandwritingThicknessColor"})},p.prototype.setHandwritingThicknessColor=function(l){return u.STU.send({scope:i,id:r,function:"setHandwritingThicknessColor",handwritingThicknessColor:l})},p.prototype.getHandwritingThicknessColor24=function(){return u.STU.send({scope:i,id:r,function:"getHandwritingThicknessColor24"})},p.prototype.setHandwritingThicknessColor24=function(l){return u.STU.send({scope:i,id:r,function:"setHandwritingThicknessColor24",handwritingThicknessColor24:l})},p.prototype.getBackgroundColor=function(){return u.STU.send({scope:i,id:r,function:"getBackgroundColor"})},p.prototype.setBackgroundColor=function(l){return u.STU.send({scope:i,id:r,function:"setBackgroundColor",backgroundColor:l})},p.prototype.getBackgroundColor24=function(){return u.STU.send({scope:i,id:r,function:"getBackgroundColor24"})},p.prototype.setBackgroundColor24=function(l){return u.STU.send({scope:i,id:r,function:"setBackgroundColor24",backgroundColor24:l})},p.prototype.getHandwritingDisplayArea=function(){return u.STU.send({scope:i,id:r,function:"getHandwritingDisplayArea"})},p.prototype.setHandwritingDisplayArea=function(l){return u.STU.send({scope:i,id:r,function:"setHandwritingDisplayArea",handwritingDisplayArea:l})},p.prototype.getBacklightBrightness=function(){return u.STU.send({scope:i,id:r,function:"getBacklightBrightness"})},p.prototype.setBacklightBrightness=function(l){return u.STU.send({scope:i,id:r,function:"setBacklightBrightness",backlightBrightness:l})},p.prototype.getScreenContrast=function(){return u.STU.send({scope:i,id:r,function:"getScreenContrast"})},p.prototype.setScreenContrast=function(l){return u.STU.send({scope:i,id:r,function:"setScreenContrast",screenContrast:l})},p.prototype.getPenDataOptionMode=function(){return u.STU.send({scope:i,id:r,function:"getPenDataOptionMode"})},p.prototype.getEncryptionStatus=function(){return u.STU.send({scope:i,id:r,function:"getEncryptionStatus"})},p.prototype.getEncryptionCommand=function(l){return u.STU.send({scope:i,id:r,function:"getEncryptionCommand",encryptionCommandNumber:l})},p.prototype.decrypt=function(l){return u.STU.send({scope:i,id:r,decrypt:"decrypt",data:l})},p.prototype.setReportRate=function(l){return u.STU.send({scope:i,id:r,function:"setReportRate",reportRate:l})},p.prototype.getReportRate=function(){return u.STU.send({scope:i,id:r,function:"getReportRate"})},p.prototype.setRenderingMode=function(l){return u.STU.send({scope:i,id:r,function:"setRenderingMode",renderingMode:l})},p.prototype.getRenderingMode=function(){return u.STU.send({scope:i,id:r,function:"getRenderingMode"})},p.prototype.setOperationMode=function(l){return u.STU.send({scope:i,id:r,function:"setOperationMode",operationMode:l})},p.prototype.getOperationMode=function(){return u.STU.send({scope:i,id:r,function:"getOperationMode"})},p.prototype.writeRomImage=function(l,d){return u.STU.send({scope:i,id:r,function:"writeRomImage",romStartImageData:l,imageData:d})},p.prototype.setRomImageHash=function(l,d,v){return u.STU.send({scope:i,id:r,function:"setRomImageHash",operationModeType:l,imageType:d,imageNumber:v})},p.prototype.getRomImageHash=function(){return u.STU.send({scope:i,id:r,function:"getRomImageHash"})},p.prototype.setRomImageDelete=function(l,d,v){return u.STU.send({scope:i,id:r,function:"setRomImageDelete",romImageDeleteMode:l,imageType:d,imageNumber:v})},p.prototype.getCurrentImageArea=function(){return u.STU.send({scope:i,id:r,function:"getCurrentImageArea"})},p.prototype.setRomImageDisplay=function(l,d,v){return u.STU.send({scope:i,id:r,function:"setRomImageDisplay",operationModeType:l,imageType:d,imageNumber:v})},p.prototype.getEserial=function(){return u.STU.send({scope:i,id:r,function:"getEserial"})},p}(),I.prototype.SerialInterface=function(){var i="WacomGSS.STU.SerialInterface",r="";function p(){}return p.prototype.Constructor=function(){return u.STU.send({scope:i,function:"Constructor"}).then(function(l){return r=l.id,l})},p.prototype.BaudRate_STU500=115200,p.prototype.BaudRate_STU430_530_prerelease=460800,p.prototype.BaudRate_STU430_530=3e6,p.prototype.connect=function(l,d,v){return u.STU.send({scope:i,id:r,function:"connect",fileName:l,baudRate:d,useCrc:v})},p.prototype.toJSON=function(){return{id:r,scope:i}},p.prototype.disconnect=function(){return u.STU.send({scope:i,id:r,function:"disconnect"})},p.prototype.isConnected=function(){return u.STU.send({scope:i,id:r,function:"isConnected"})},p.prototype.queueNotifyAll=function(){return u.STU.send({scope:i,id:r,function:"queueNotifyAll"})},p.prototype.queueSetPredicateAll=function(l){return u.STU.send({scope:i,id:r,function:"queueSetPredicateAll",predicate:l})},p.prototype.get=function(l){return u.STU.send({scope:i,id:r,function:"get_",length:l})},p.prototype.set=function(l){return u.STU.send({scope:i,id:r,function:"set",base64Data:l})},p.prototype.supportsWrite=function(){return u.STU.send({scope:i,id:r,function:"supportsWrite"})},p.prototype.write=function(l){return u.STU.send({scope:i,id:r,function:"write",base64Data:l})},p.prototype.getReportCountLengths=function(){return u.STU.send({scope:i,id:r,function:"getReportCountLengths"})},p.prototype.getProductId=function(){return u.STU.send({scope:i,id:r,function:"getProductId"})},p}(),I.prototype.TlsInterface=function(){var i="WacomGSS.STU.TlsInterface",r="";function p(){}return p.prototype.Constructor=function(){return u.STU.send({scope:i,function:"Constructor"}).then(function(l){return r=l.id,l})},p.prototype.ConnectOption={ConnectOption_OOB:1,ConnectOption_SSL:2},p.prototype.connect=function(l,d){return u.STU.send({scope:i,id:r,function:"connect",fileName:l,connectOption:d})},p.prototype.toJSON=function(){return{id:r,scope:i}},p.prototype.disconnect=function(){return u.STU.send({scope:i,id:r,function:"disconnect"})},p.prototype.isConnected=function(){return u.STU.send({scope:i,id:r,function:"isConnected"})},p.prototype.get=function(l){return u.STU.send({scope:i,id:r,function:"get_",length:l})},p.prototype.set=function(l){return u.STU.send({scope:i,id:r,function:"set",base64Data:l})},p.prototype.supportsWrite=function(){return u.STU.send({scope:i,id:r,function:"supportsWrite"})},p.prototype.write=function(l){return u.STU.send({scope:i,id:r,function:"write",base64Data:l})},p.prototype.getReportCountLengths=function(){return u.STU.send({scope:i,id:r,function:"getReportCountLengths"})},p.prototype.getProductId=function(){return u.STU.send({scope:i,id:r,function:"getProductId"})},p}(),I.prototype.DataStore=function(){var i="WacomGSS.STU.DataStore",r=null;function p(){}return p.prototype.setId=function(l){r=l},p.prototype.toJSON=function(){return{id:r,scope:i}},p.prototype.Constructor=function(l){return u.STU.send({scope:i,function:"Constructor",b64Data:l})},p.prototype.getData=function(){return u.STU.send({scope:i,id:r,function:"getData"})},p.prototype.getRemove=function(){return u.STU.send({scope:i,id:r,function:"getRemove"}).then(function(l){return r=null,l})},p.prototype.remove=function(){return u.STU.send({scope:i,id:r,function:"remove"}).then(function(l){return r=null,l})},p.prototype.setData=function(l){return u.STU.send({scope:i,id:r,function:"setData",b64Data:l})},p}(),I.prototype.SerialProtocol={getHeaderLength:function(){return u.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"getHeaderLength"})},isStartReport:function(i){return u.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"isStartReport",byte:i})},decodeHasCrc:function(i){return u.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"decodeHasCrc",header1:i})},decodeEncodedDataLength:function(i,r){return u.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"decodeEncodedDataLength",header1:i,header2:r})},calcEncodedDataLength:function(i,r){return u.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"calcEncodedDataLength",useCrc:i,length:r})},encodeHeader:function(i,r,p){return u.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"encodeHeader",encodedData:i,useCrc:r,encodedDataLength:p})},encodeReport:function(i,r){return u.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"encodeReport",report:i,useCrc:r})},decodeData:function(i){return u.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"decodeData",data:i})},checkCrcAndRemove:function(i){return u.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"checkCrcAndRemove",container:i})}},I.prototype.EncryptionHandler=function(){var i="WacomGSS.STU.EncryptionHandler",r=null,p=null,l=null,d=new Object;function v(y){l=y,this.stream=function(w){try{d[w.function](w)}catch(P){throw new Error("EncryptionHandler."+w.function+" : "+P+`
message was:
`+JSON.stringify(w))}}}return v.prototype.Constructor=function(){return r=u.STU.setStream(this),u.STU.send({scope:i,function:"Constructor",streamId:r}).then(function(y){return p=y.id,y})},v.prototype.toJSON=function(){return{id:p,scope:i}},d.reset=function(y){l.reset(),u.STU.sendNoReturn({scope:i,function:"set_value",promiseId:y.promiseId,data:null})},d.clearKeys=function(y){l.clearKeys(),u.STU.sendNoReturn({scope:i,function:"set_value",promiseId:y.promiseId,data:null})},d.requireDH=function(y){var w=l.requireDH();u.STU.sendNoReturn({scope:i,function:"set_value",promiseId:y.promiseId,data:w})},d.setDH=function(y){l.setDH(y.data.dhPrime,y.data.dhBase),u.STU.sendNoReturn({scope:i,function:"set_value",promiseId:y.promiseId,data:null})},d.generateHostPublicKey=function(y){var w=l.generateHostPublicKey();u.STU.sendNoReturn({scope:i,function:"set_value",promiseId:y.promiseId,data:w})},d.computeSharedKey=function(y){l.computeSharedKey(y.data),u.STU.sendNoReturn({scope:i,function:"set_value",promiseId:y.promiseId,data:null})},d.decrypt=function(y){var w=l.decrypt(y.data);u.STU.sendNoReturn({scope:i,function:"set_value",promiseId:y.promiseId,data:w})},v}(),I.prototype.EncryptionHandler2=function(){var i="WacomGSS.STU.EncryptionHandler2",r=null,p=null,l=null,d=new Object;function v(y){l=y,this.stream=function(w){try{d[w.function](w)}catch(P){throw new Error("EncryptionHandler2."+w.function+" : "+P+`
message was:
`+JSON.stringify(w))}}}return v.prototype.Constructor=function(){return r=u.STU.setStream(this),u.STU.send({scope:i,function:"Constructor",streamId:r}).then(function(y){return p=y.id,y})},v.prototype.toJSON=function(){return{id:p,scope:i}},d.reset=function(y){l.reset(),u.STU.sendNoReturn({scope:i,function:"set_value",promiseId:y.promiseId,data:null})},d.clearKeys=function(y){l.clearKeys(),u.STU.sendNoReturn({scope:i,function:"set_value",promiseId:y.promiseId,data:null})},d.getParameters=function(y){var w=l.getParameters(y.data.symmetricKeyType,y.data.asymmetricPaddingType,y.data.asymmetricKeyType),P=w[0],B=w[1],$=w[2];u.STU.sendNoReturn({scope:i,function:"set_value",promiseId:y.promiseId,data:{symmetricKeyType:P,asymmetricPaddingType:B,asymmetricKeyType:$}})},d.getPublicExponent=function(y){var w=l.getPublicExponent();u.STU.sendNoReturn({scope:i,function:"set_value",promiseId:y.promiseId,data:w})},d.generatePublicKey=function(y){var w=l.generatePublicKey();u.STU.sendNoReturn({scope:i,function:"set_value",promiseId:y.promiseId,data:w})},d.computeSessionKey=function(y){l.computeSessionKey(y.data),u.STU.sendNoReturn({scope:i,function:"set_value",promiseId:y.promiseId,data:null})},d.decrypt=function(y){var w=l.decrypt(y.data);u.STU.sendNoReturn({scope:i,function:"set_value",promiseId:y.promiseId,data:w})},v}(),I}();u.STU=new u.STUConstructor;var et={},ni=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Pn={},De={};let Nt;const oi=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];De.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};De.getSymbolTotalCodewords=function(t){return oi[t]};De.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};De.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Nt=t};De.isKanjiModeEnabled=function(){return typeof Nt!="undefined"};De.toSJIS=function(t){return Nt(t)};var vt={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(o){return o&&typeof o.bit!="undefined"&&o.bit>=0&&o.bit<4},e.from=function(o,a){if(e.isValid(o))return o;try{return t(o)}catch{return a}}})(vt);function kn(){this.buffer=[],this.length=0}kn.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var ii=kn;function st(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}st.prototype.set=function(e,t,n,o){const a=e*this.size+t;this.data[a]=n,o&&(this.reservedBit[a]=!0)};st.prototype.get=function(e,t){return this.data[e*this.size+t]};st.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n};st.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var ri=st,En={};(function(e){const t=De.getSymbolSize;e.getRowColCoords=function(o){if(o===1)return[];const a=Math.floor(o/7)+2,s=t(o),c=s===145?26:Math.ceil((s-13)/(2*a-2))*2,h=[s-7];for(let S=1;S<a-1;S++)h[S]=h[S-1]-c;return h.push(6),h.reverse()},e.getPositions=function(o){const a=[],s=e.getRowColCoords(o),c=s.length;for(let h=0;h<c;h++)for(let S=0;S<c;S++)h===0&&S===0||h===0&&S===c-1||h===c-1&&S===0||a.push([s[h],s[S]]);return a}})(En);var Rn={};const ai=De.getSymbolSize,Yt=7;Rn.getPositions=function(t){const n=ai(t);return[[0,0],[n-Yt,0],[0,n-Yt]]};var Dn={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(a){return a!=null&&a!==""&&!isNaN(a)&&a>=0&&a<=7},e.from=function(a){return e.isValid(a)?parseInt(a,10):void 0},e.getPenaltyN1=function(a){const s=a.size;let c=0,h=0,S=0,I=null,E=null;for(let _=0;_<s;_++){h=S=0,I=E=null;for(let i=0;i<s;i++){let r=a.get(_,i);r===I?h++:(h>=5&&(c+=t.N1+(h-5)),I=r,h=1),r=a.get(i,_),r===E?S++:(S>=5&&(c+=t.N1+(S-5)),E=r,S=1)}h>=5&&(c+=t.N1+(h-5)),S>=5&&(c+=t.N1+(S-5))}return c},e.getPenaltyN2=function(a){const s=a.size;let c=0;for(let h=0;h<s-1;h++)for(let S=0;S<s-1;S++){const I=a.get(h,S)+a.get(h,S+1)+a.get(h+1,S)+a.get(h+1,S+1);(I===4||I===0)&&c++}return c*t.N2},e.getPenaltyN3=function(a){const s=a.size;let c=0,h=0,S=0;for(let I=0;I<s;I++){h=S=0;for(let E=0;E<s;E++)h=h<<1&2047|a.get(I,E),E>=10&&(h===1488||h===93)&&c++,S=S<<1&2047|a.get(E,I),E>=10&&(S===1488||S===93)&&c++}return c*t.N3},e.getPenaltyN4=function(a){let s=0;const c=a.data.length;for(let S=0;S<c;S++)s+=a.data[S];return Math.abs(Math.ceil(s*100/c/5)-10)*t.N4};function n(o,a,s){switch(o){case e.Patterns.PATTERN000:return(a+s)%2===0;case e.Patterns.PATTERN001:return a%2===0;case e.Patterns.PATTERN010:return s%3===0;case e.Patterns.PATTERN011:return(a+s)%3===0;case e.Patterns.PATTERN100:return(Math.floor(a/2)+Math.floor(s/3))%2===0;case e.Patterns.PATTERN101:return a*s%2+a*s%3===0;case e.Patterns.PATTERN110:return(a*s%2+a*s%3)%2===0;case e.Patterns.PATTERN111:return(a*s%3+(a+s)%2)%2===0;default:throw new Error("bad maskPattern:"+o)}}e.applyMask=function(a,s){const c=s.size;for(let h=0;h<c;h++)for(let S=0;S<c;S++)s.isReserved(S,h)||s.xor(S,h,n(a,S,h))},e.getBestMask=function(a,s){const c=Object.keys(e.Patterns).length;let h=0,S=1/0;for(let I=0;I<c;I++){s(I),e.applyMask(I,a);const E=e.getPenaltyN1(a)+e.getPenaltyN2(a)+e.getPenaltyN3(a)+e.getPenaltyN4(a);e.applyMask(I,a),E<S&&(S=E,h=I)}return h}})(Dn);var St={};const Oe=vt,lt=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],dt=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];St.getBlocksCount=function(t,n){switch(n){case Oe.L:return lt[(t-1)*4+0];case Oe.M:return lt[(t-1)*4+1];case Oe.Q:return lt[(t-1)*4+2];case Oe.H:return lt[(t-1)*4+3];default:return}};St.getTotalCodewordsCount=function(t,n){switch(n){case Oe.L:return dt[(t-1)*4+0];case Oe.M:return dt[(t-1)*4+1];case Oe.Q:return dt[(t-1)*4+2];case Oe.H:return dt[(t-1)*4+3];default:return}};var Un={},wt={};const nt=new Uint8Array(512),pt=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)nt[n]=t,pt[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)nt[n]=nt[n-255]})();wt.log=function(t){if(t<1)throw new Error("log("+t+")");return pt[t]};wt.exp=function(t){return nt[t]};wt.mul=function(t,n){return t===0||n===0?0:nt[pt[t]+pt[n]]};(function(e){const t=wt;e.mul=function(o,a){const s=new Uint8Array(o.length+a.length-1);for(let c=0;c<o.length;c++)for(let h=0;h<a.length;h++)s[c+h]^=t.mul(o[c],a[h]);return s},e.mod=function(o,a){let s=new Uint8Array(o);for(;s.length-a.length>=0;){const c=s[0];for(let S=0;S<a.length;S++)s[S]^=t.mul(a[S],c);let h=0;for(;h<s.length&&s[h]===0;)h++;s=s.slice(h)}return s},e.generateECPolynomial=function(o){let a=new Uint8Array([1]);for(let s=0;s<o;s++)a=e.mul(a,new Uint8Array([1,t.exp(s)]));return a}})(Un);const Mn=Un;function At(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}At.prototype.initialize=function(t){this.degree=t,this.genPoly=Mn.generateECPolynomial(this.degree)};At.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const o=Mn.mod(n,this.genPoly),a=this.degree-o.length;if(a>0){const s=new Uint8Array(this.degree);return s.set(o,a),s}return o};var si=At,Bn={},$e={},Ot={};Ot.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var Ne={};const Fn="[0-9]+",li="[A-Z $%*+\\-./:]+";let rt="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";rt=rt.replace(/u/g,"\\u");const di="(?:(?![A-Z0-9 $%*+\\-./:]|"+rt+`)(?:.|[\r
]))+`;Ne.KANJI=new RegExp(rt,"g");Ne.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Ne.BYTE=new RegExp(di,"g");Ne.NUMERIC=new RegExp(Fn,"g");Ne.ALPHANUMERIC=new RegExp(li,"g");const ui=new RegExp("^"+rt+"$"),ci=new RegExp("^"+Fn+"$"),fi=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Ne.testKanji=function(t){return ui.test(t)};Ne.testNumeric=function(t){return ci.test(t)};Ne.testAlphanumeric=function(t){return fi.test(t)};(function(e){const t=Ot,n=Ne;e.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(s,c){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!t.isValid(c))throw new Error("Invalid version: "+c);return c>=1&&c<10?s.ccBits[0]:c<27?s.ccBits[1]:s.ccBits[2]},e.getBestModeForData=function(s){return n.testNumeric(s)?e.NUMERIC:n.testAlphanumeric(s)?e.ALPHANUMERIC:n.testKanji(s)?e.KANJI:e.BYTE},e.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},e.isValid=function(s){return s&&s.bit&&s.ccBits};function o(a){if(typeof a!="string")throw new Error("Param is not a string");switch(a.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+a)}}e.from=function(s,c){if(e.isValid(s))return s;try{return o(s)}catch{return c}}})($e);(function(e){const t=De,n=St,o=vt,a=$e,s=Ot,c=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,h=t.getBCHDigit(c);function S(i,r,p){for(let l=1;l<=40;l++)if(r<=e.getCapacity(l,p,i))return l}function I(i,r){return a.getCharCountIndicator(i,r)+4}function E(i,r){let p=0;return i.forEach(function(l){p+=I(l.mode,r)+l.getBitsLength()}),p}function _(i,r){for(let p=1;p<=40;p++)if(E(i,p)<=e.getCapacity(p,r,a.MIXED))return p}e.from=function(r,p){return s.isValid(r)?parseInt(r,10):p},e.getCapacity=function(r,p,l){if(!s.isValid(r))throw new Error("Invalid QR Code version");typeof l=="undefined"&&(l=a.BYTE);const d=t.getSymbolTotalCodewords(r),v=n.getTotalCodewordsCount(r,p),y=(d-v)*8;if(l===a.MIXED)return y;const w=y-I(l,r);switch(l){case a.NUMERIC:return Math.floor(w/10*3);case a.ALPHANUMERIC:return Math.floor(w/11*2);case a.KANJI:return Math.floor(w/13);case a.BYTE:default:return Math.floor(w/8)}},e.getBestVersionForData=function(r,p){let l;const d=o.from(p,o.M);if(Array.isArray(r)){if(r.length>1)return _(r,d);if(r.length===0)return 1;l=r[0]}else l=r;return S(l.mode,l.getLength(),d)},e.getEncodedBits=function(r){if(!s.isValid(r)||r<7)throw new Error("Invalid QR Code version");let p=r<<12;for(;t.getBCHDigit(p)-h>=0;)p^=c<<t.getBCHDigit(p)-h;return r<<12|p}})(Bn);var Nn={};const Dt=De,An=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,pi=1<<14|1<<12|1<<10|1<<4|1<<1,Xt=Dt.getBCHDigit(An);Nn.getEncodedBits=function(t,n){const o=t.bit<<3|n;let a=o<<10;for(;Dt.getBCHDigit(a)-Xt>=0;)a^=An<<Dt.getBCHDigit(a)-Xt;return(o<<10|a)^pi};var On={};const hi=$e;function Qe(e){this.mode=hi.NUMERIC,this.data=e.toString()}Qe.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Qe.prototype.getLength=function(){return this.data.length};Qe.prototype.getBitsLength=function(){return Qe.getBitsLength(this.data.length)};Qe.prototype.write=function(t){let n,o,a;for(n=0;n+3<=this.data.length;n+=3)o=this.data.substr(n,3),a=parseInt(o,10),t.put(a,10);const s=this.data.length-n;s>0&&(o=this.data.substr(n),a=parseInt(o,10),t.put(a,s*3+1))};var mi=Qe;const gi=$e,Tt=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function Ye(e){this.mode=gi.ALPHANUMERIC,this.data=e}Ye.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};Ye.prototype.getLength=function(){return this.data.length};Ye.prototype.getBitsLength=function(){return Ye.getBitsLength(this.data.length)};Ye.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let o=Tt.indexOf(this.data[n])*45;o+=Tt.indexOf(this.data[n+1]),t.put(o,11)}this.data.length%2&&t.put(Tt.indexOf(this.data[n]),6)};var yi=Ye;const vi=$e;function Xe(e){this.mode=vi.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}Xe.getBitsLength=function(t){return t*8};Xe.prototype.getLength=function(){return this.data.length};Xe.prototype.getBitsLength=function(){return Xe.getBitsLength(this.data.length)};Xe.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var Si=Xe;const wi=$e,bi=De;function Ze(e){this.mode=wi.KANJI,this.data=e}Ze.getBitsLength=function(t){return t*13};Ze.prototype.getLength=function(){return this.data.length};Ze.prototype.getBitsLength=function(){return Ze.getBitsLength(this.data.length)};Ze.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=bi.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}};var xi=Ze,Ln={exports:{}};(function(e){var t={single_source_shortest_paths:function(n,o,a){var s={},c={};c[o]=0;var h=t.PriorityQueue.make();h.push(o,0);for(var S,I,E,_,i,r,p,l,d;!h.empty();){S=h.pop(),I=S.value,_=S.cost,i=n[I]||{};for(E in i)i.hasOwnProperty(E)&&(r=i[E],p=_+r,l=c[E],d=typeof c[E]=="undefined",(d||l>p)&&(c[E]=p,h.push(E,p),s[E]=I))}if(typeof a!="undefined"&&typeof c[a]=="undefined"){var v=["Could not find a path from ",o," to ",a,"."].join("");throw new Error(v)}return s},extract_shortest_path_from_predecessor_list:function(n,o){for(var a=[],s=o;s;)a.push(s),n[s],s=n[s];return a.reverse(),a},find_path:function(n,o,a){var s=t.single_source_shortest_paths(n,o,a);return t.extract_shortest_path_from_predecessor_list(s,a)},PriorityQueue:{make:function(n){var o=t.PriorityQueue,a={},s;n=n||{};for(s in o)o.hasOwnProperty(s)&&(a[s]=o[s]);return a.queue=[],a.sorter=n.sorter||o.default_sorter,a},default_sorter:function(n,o){return n.cost-o.cost},push:function(n,o){var a={value:n,cost:o};this.queue.push(a),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(Ln);(function(e){const t=$e,n=mi,o=yi,a=Si,s=xi,c=Ne,h=De,S=Ln.exports;function I(v){return unescape(encodeURIComponent(v)).length}function E(v,y,w){const P=[];let B;for(;(B=v.exec(w))!==null;)P.push({data:B[0],index:B.index,mode:y,length:B[0].length});return P}function _(v){const y=E(c.NUMERIC,t.NUMERIC,v),w=E(c.ALPHANUMERIC,t.ALPHANUMERIC,v);let P,B;return h.isKanjiModeEnabled()?(P=E(c.BYTE,t.BYTE,v),B=E(c.KANJI,t.KANJI,v)):(P=E(c.BYTE_KANJI,t.BYTE,v),B=[]),y.concat(w,P,B).sort(function(V,L){return V.index-L.index}).map(function(V){return{data:V.data,mode:V.mode,length:V.length}})}function i(v,y){switch(y){case t.NUMERIC:return n.getBitsLength(v);case t.ALPHANUMERIC:return o.getBitsLength(v);case t.KANJI:return s.getBitsLength(v);case t.BYTE:return a.getBitsLength(v)}}function r(v){return v.reduce(function(y,w){const P=y.length-1>=0?y[y.length-1]:null;return P&&P.mode===w.mode?(y[y.length-1].data+=w.data,y):(y.push(w),y)},[])}function p(v){const y=[];for(let w=0;w<v.length;w++){const P=v[w];switch(P.mode){case t.NUMERIC:y.push([P,{data:P.data,mode:t.ALPHANUMERIC,length:P.length},{data:P.data,mode:t.BYTE,length:P.length}]);break;case t.ALPHANUMERIC:y.push([P,{data:P.data,mode:t.BYTE,length:P.length}]);break;case t.KANJI:y.push([P,{data:P.data,mode:t.BYTE,length:I(P.data)}]);break;case t.BYTE:y.push([{data:P.data,mode:t.BYTE,length:I(P.data)}])}}return y}function l(v,y){const w={},P={start:{}};let B=["start"];for(let $=0;$<v.length;$++){const V=v[$],L=[];for(let F=0;F<V.length;F++){const m=V[F],A=""+$+F;L.push(A),w[A]={node:m,lastCount:0},P[A]={};for(let N=0;N<B.length;N++){const q=B[N];w[q]&&w[q].node.mode===m.mode?(P[q][A]=i(w[q].lastCount+m.length,m.mode)-i(w[q].lastCount,m.mode),w[q].lastCount+=m.length):(w[q]&&(w[q].lastCount=m.length),P[q][A]=i(m.length,m.mode)+4+t.getCharCountIndicator(m.mode,y))}}B=L}for(let $=0;$<B.length;$++)P[B[$]].end=0;return{map:P,table:w}}function d(v,y){let w;const P=t.getBestModeForData(v);if(w=t.from(y,P),w!==t.BYTE&&w.bit<P.bit)throw new Error('"'+v+'" cannot be encoded with mode '+t.toString(w)+`.
 Suggested mode is: `+t.toString(P));switch(w===t.KANJI&&!h.isKanjiModeEnabled()&&(w=t.BYTE),w){case t.NUMERIC:return new n(v);case t.ALPHANUMERIC:return new o(v);case t.KANJI:return new s(v);case t.BYTE:return new a(v)}}e.fromArray=function(y){return y.reduce(function(w,P){return typeof P=="string"?w.push(d(P,null)):P.data&&w.push(d(P.data,P.mode)),w},[])},e.fromString=function(y,w){const P=_(y,h.isKanjiModeEnabled()),B=p(P),$=l(B,w),V=S.find_path($.map,"start","end"),L=[];for(let F=1;F<V.length-1;F++)L.push($.table[V[F]].node);return e.fromArray(r(L))},e.rawSplit=function(y){return e.fromArray(_(y,h.isKanjiModeEnabled()))}})(On);const bt=De,Ct=vt,Ti=ii,Ci=ri,Ii=En,_i=Rn,Ut=Dn,Mt=St,Pi=si,ht=Bn,ki=Nn,Ei=$e,It=On;function Ri(e,t){const n=e.size,o=_i.getPositions(t);for(let a=0;a<o.length;a++){const s=o[a][0],c=o[a][1];for(let h=-1;h<=7;h++)if(!(s+h<=-1||n<=s+h))for(let S=-1;S<=7;S++)c+S<=-1||n<=c+S||(h>=0&&h<=6&&(S===0||S===6)||S>=0&&S<=6&&(h===0||h===6)||h>=2&&h<=4&&S>=2&&S<=4?e.set(s+h,c+S,!0,!0):e.set(s+h,c+S,!1,!0))}}function Di(e){const t=e.size;for(let n=8;n<t-8;n++){const o=n%2===0;e.set(n,6,o,!0),e.set(6,n,o,!0)}}function Ui(e,t){const n=Ii.getPositions(t);for(let o=0;o<n.length;o++){const a=n[o][0],s=n[o][1];for(let c=-2;c<=2;c++)for(let h=-2;h<=2;h++)c===-2||c===2||h===-2||h===2||c===0&&h===0?e.set(a+c,s+h,!0,!0):e.set(a+c,s+h,!1,!0)}}function Mi(e,t){const n=e.size,o=ht.getEncodedBits(t);let a,s,c;for(let h=0;h<18;h++)a=Math.floor(h/3),s=h%3+n-8-3,c=(o>>h&1)===1,e.set(a,s,c,!0),e.set(s,a,c,!0)}function _t(e,t,n){const o=e.size,a=ki.getEncodedBits(t,n);let s,c;for(s=0;s<15;s++)c=(a>>s&1)===1,s<6?e.set(s,8,c,!0):s<8?e.set(s+1,8,c,!0):e.set(o-15+s,8,c,!0),s<8?e.set(8,o-s-1,c,!0):s<9?e.set(8,15-s-1+1,c,!0):e.set(8,15-s-1,c,!0);e.set(o-8,8,1,!0)}function Bi(e,t){const n=e.size;let o=-1,a=n-1,s=7,c=0;for(let h=n-1;h>0;h-=2)for(h===6&&h--;;){for(let S=0;S<2;S++)if(!e.isReserved(a,h-S)){let I=!1;c<t.length&&(I=(t[c]>>>s&1)===1),e.set(a,h-S,I),s--,s===-1&&(c++,s=7)}if(a+=o,a<0||n<=a){a-=o,o=-o;break}}}function Fi(e,t,n){const o=new Ti;n.forEach(function(S){o.put(S.mode.bit,4),o.put(S.getLength(),Ei.getCharCountIndicator(S.mode,e)),S.write(o)});const a=bt.getSymbolTotalCodewords(e),s=Mt.getTotalCodewordsCount(e,t),c=(a-s)*8;for(o.getLengthInBits()+4<=c&&o.put(0,4);o.getLengthInBits()%8!==0;)o.putBit(0);const h=(c-o.getLengthInBits())/8;for(let S=0;S<h;S++)o.put(S%2?17:236,8);return Ni(o,e,t)}function Ni(e,t,n){const o=bt.getSymbolTotalCodewords(t),a=Mt.getTotalCodewordsCount(t,n),s=o-a,c=Mt.getBlocksCount(t,n),h=o%c,S=c-h,I=Math.floor(o/c),E=Math.floor(s/c),_=E+1,i=I-E,r=new Pi(i);let p=0;const l=new Array(c),d=new Array(c);let v=0;const y=new Uint8Array(e.buffer);for(let V=0;V<c;V++){const L=V<S?E:_;l[V]=y.slice(p,p+L),d[V]=r.encode(l[V]),p+=L,v=Math.max(v,L)}const w=new Uint8Array(o);let P=0,B,$;for(B=0;B<v;B++)for($=0;$<c;$++)B<l[$].length&&(w[P++]=l[$][B]);for(B=0;B<i;B++)for($=0;$<c;$++)w[P++]=d[$][B];return w}function Ai(e,t,n,o){let a;if(Array.isArray(e))a=It.fromArray(e);else if(typeof e=="string"){let I=t;if(!I){const E=It.rawSplit(e);I=ht.getBestVersionForData(E,n)}a=It.fromString(e,I||40)}else throw new Error("Invalid data");const s=ht.getBestVersionForData(a,n);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=s;else if(t<s)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+s+`.
`);const c=Fi(t,n,a),h=bt.getSymbolSize(t),S=new Ci(h);return Ri(S,t),Di(S),Ui(S,t),_t(S,n,0),t>=7&&Mi(S,t),Bi(S,c),isNaN(o)&&(o=Ut.getBestMask(S,_t.bind(null,S,n))),Ut.applyMask(o,S),_t(S,n,o),{modules:S,version:t,errorCorrectionLevel:n,maskPattern:o,segments:a}}Pn.create=function(t,n){if(typeof t=="undefined"||t==="")throw new Error("No input text");let o=Ct.M,a,s;return typeof n!="undefined"&&(o=Ct.from(n.errorCorrectionLevel,Ct.M),a=ht.from(n.version),s=Ut.from(n.maskPattern),n.toSJISFunc&&bt.setToSJISFunction(n.toSJISFunc)),Ai(t,a,o,s)};var $n={},Lt={};(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let o=n.slice().replace("#","").split("");if(o.length<3||o.length===5||o.length>8)throw new Error("Invalid hex color: "+n);(o.length===3||o.length===4)&&(o=Array.prototype.concat.apply([],o.map(function(s){return[s,s]}))),o.length===6&&o.push("F","F");const a=parseInt(o.join(""),16);return{r:a>>24&255,g:a>>16&255,b:a>>8&255,a:a&255,hex:"#"+o.slice(0,6).join("")}}e.getOptions=function(o){o||(o={}),o.color||(o.color={});const a=typeof o.margin=="undefined"||o.margin===null||o.margin<0?4:o.margin,s=o.width&&o.width>=21?o.width:void 0,c=o.scale||4;return{width:s,scale:s?4:c,margin:a,color:{dark:t(o.color.dark||"#000000ff"),light:t(o.color.light||"#ffffffff")},type:o.type,rendererOpts:o.rendererOpts||{}}},e.getScale=function(o,a){return a.width&&a.width>=o+a.margin*2?a.width/(o+a.margin*2):a.scale},e.getImageWidth=function(o,a){const s=e.getScale(o,a);return Math.floor((o+a.margin*2)*s)},e.qrToImageData=function(o,a,s){const c=a.modules.size,h=a.modules.data,S=e.getScale(c,s),I=Math.floor((c+s.margin*2)*S),E=s.margin*S,_=[s.color.light,s.color.dark];for(let i=0;i<I;i++)for(let r=0;r<I;r++){let p=(i*I+r)*4,l=s.color.light;if(i>=E&&r>=E&&i<I-E&&r<I-E){const d=Math.floor((i-E)/S),v=Math.floor((r-E)/S);l=_[h[d*c+v]?1:0]}o[p++]=l.r,o[p++]=l.g,o[p++]=l.b,o[p]=l.a}}})(Lt);(function(e){const t=Lt;function n(a,s,c){a.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=c,s.width=c,s.style.height=c+"px",s.style.width=c+"px"}function o(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(s,c,h){let S=h,I=c;typeof S=="undefined"&&(!c||!c.getContext)&&(S=c,c=void 0),c||(I=o()),S=t.getOptions(S);const E=t.getImageWidth(s.modules.size,S),_=I.getContext("2d"),i=_.createImageData(E,E);return t.qrToImageData(i.data,s,S),n(_,I,E),_.putImageData(i,0,0),I},e.renderToDataURL=function(s,c,h){let S=h;typeof S=="undefined"&&(!c||!c.getContext)&&(S=c,c=void 0),S||(S={});const I=e.render(s,c,S),E=S.type||"image/png",_=S.rendererOpts||{};return I.toDataURL(E,_.quality)}})($n);var Hn={};const Oi=Lt;function Zt(e,t){const n=e.a/255,o=t+'="'+e.hex+'"';return n<1?o+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':o}function Pt(e,t,n){let o=e+t;return typeof n!="undefined"&&(o+=" "+n),o}function Li(e,t,n){let o="",a=0,s=!1,c=0;for(let h=0;h<e.length;h++){const S=Math.floor(h%t),I=Math.floor(h/t);!S&&!s&&(s=!0),e[h]?(c++,h>0&&S>0&&e[h-1]||(o+=s?Pt("M",S+n,.5+I+n):Pt("m",a,0),a=0,s=!1),S+1<t&&e[h+1]||(o+=Pt("h",c),c=0)):a++}return o}Hn.render=function(t,n,o){const a=Oi.getOptions(n),s=t.modules.size,c=t.modules.data,h=s+a.margin*2,S=a.color.light.a?"<path "+Zt(a.color.light,"fill")+' d="M0 0h'+h+"v"+h+'H0z"/>':"",I="<path "+Zt(a.color.dark,"stroke")+' d="'+Li(c,s,a.margin)+'"/>',E='viewBox="0 0 '+h+" "+h+'"',_=a.width?'width="'+a.width+'" height="'+a.width+'" ':"",i='<svg xmlns="http://www.w3.org/2000/svg" '+_+E+' shape-rendering="crispEdges">'+S+I+`</svg>
`;return typeof o=="function"&&o(null,i),i};const $i=ni,Bt=Pn,Vn=$n,Hi=Hn;function $t(e,t,n,o,a){const s=[].slice.call(arguments,1),c=s.length,h=typeof s[c-1]=="function";if(!h&&!$i())throw new Error("Callback required as last argument");if(h){if(c<2)throw new Error("Too few arguments provided");c===2?(a=n,n=t,t=o=void 0):c===3&&(t.getContext&&typeof a=="undefined"?(a=o,o=void 0):(a=o,o=n,n=t,t=void 0))}else{if(c<1)throw new Error("Too few arguments provided");return c===1?(n=t,t=o=void 0):c===2&&!t.getContext&&(o=n,n=t,t=void 0),new Promise(function(S,I){try{const E=Bt.create(n,o);S(e(E,t,o))}catch(E){I(E)}})}try{const S=Bt.create(n,o);a(null,e(S,t,o))}catch(S){a(S)}}et.create=Bt.create;et.toCanvas=$t.bind(null,Vn.render);et.toDataURL=$t.bind(null,Vn.renderToDataURL);et.toString=$t.bind(null,function(e,t,n){return Hi.render(e,n)});const Vi={id:"IdCardBack",style:{width:"640px",height:"1014px","font-size":"7pt",position:"relative","background-image":"url('/images/REG_ID_Back_Temp.jpg')","background-position":"center","background-size":"contain","font-family":"sans-serif",transform:"scale(0.5)",top:"-200px",left:"185px"}},zi=["hidden"],ji={class:"detail",style:{position:"absolute",top:"283px",left:"42px","font-size":"22pt"}},qi={class:"detail",style:{position:"absolute",top:"363px",left:"42px","font-size":"22pt"}},Ki={class:"detail",style:{position:"absolute",top:"442px",left:"42px","font-size":"22pt"}},Wi={class:"detail",style:{position:"absolute",top:"521px",left:"42px","font-size":"22pt"}},Ji={style:{width:"100%","text-align":"left",position:"absolute",bottom:"376px",left:"53px","font-size":"22pt"}},Gi={style:{width:"100%","text-align":"left",position:"absolute",bottom:"344px",left:"53px","font-size":"22pt"}},Qi={class:"detail",style:{position:"absolute",top:"671px",left:"204px","font-size":"19pt"}},Yi={class:"detail",style:{position:"absolute",top:"705px",left:"204px","font-size":"19pt"}},Xi=["hidden"],Zi=["hidden"],en=Object.assign({name:"IdCardBack"},{__name:"IdCardBack",props:{details:{type:Object,required:!0}},emits:["onPenDataSave"],setup(e,{emit:t}){const n=async x=>{try{var C=document.getElementById("qr-img");C.src=await et.toDataURL(x)}catch(k){console.error(k)}},o=e,a=t;function s(){a("onPenDataSave",$)}var c=Ae(!1),h="Cancel",S="Clear",I="OK",E=1e3,_,i,r,p,l,d,v=-1,y,w,P,B,$,V,L;Be(()=>o.details,(x,C)=>{x.sig_src&&($=x.sig_src,y={encodingFlag:3,maxReportRate:200,resolution:64e3,screenHeight:227,screenWidth:359,tabletMaxPressure:1023,tabletMaxX:9600,tabletMaxY:6e3},B={offPressureMark:16,onPressureMark:21},ve()),n("https://ihris.hrmdo-lgubayawan.link/verify/index.php?id="+o.details.employees_id)},{deep:!0});function F(){console.log("DCA disconnected"),setTimeout(be,0)}function m(x,C,k,H){this.x=x,this.y=C,this.width=k,this.height=H,this.Contains=function(T){return T.x>=this.x&&T.x<=this.x+this.width&&T.y>=this.y&&T.y<=this.y+this.height}}function A(){this.Bounds,this.Text,this.Click}function N(x,C){this.x=x,this.y=C}function q(x,C){r=document.createElement("div"),r.id="signatureWindow",r.className="active",r.style.position="relative",r.style.top=0+"px",r.style.left=0+"px",r.style.width=x+"px",r.style.height=C+"px",document.getElementById("sigPreviewContainer").appendChild(r),_=document.createElement("canvas"),_.id="myCanvas",_.height=r.offsetHeight,_.width=r.offsetWidth,_.style.zIndex=999,r.appendChild(_),i=_.getContext("2d"),console.log("canvas.addEventListener:",_.addEventListener),_.addEventListener?(_.addEventListener("click",Ue,!1),console.log("onCanvasClick 0")):_.attachEvent?(_.attachEvent("onClick",Ue),console.log("onCanvasClick 1")):(_.onClick=Ue,console.log("onCanvasClick 2"))}function U(){var x=Q.defer();if(L!=null){var C=new u.STU.Protocol;L.setInkingMode(C.InkingMode.InkingMode_Off).then(function(k){return console.log("received: "+JSON.stringify(k)),L.endCapture()}).then(function(k){return console.log("received: "+JSON.stringify(k)),P!==null?P.remove():k}).then(function(k){return console.log("received: "+JSON.stringify(k)),P=null,L.setClearScreen()}).then(function(k){return console.log("received: "+JSON.stringify(k)),L.disconnect()}).then(function(k){console.log("received: "+JSON.stringify(k)),L=null,re(_,i)}).then(function(k){x.resolve()}).fail(function(k){console.log("disconnect error: "+k),x.resolve()})}else x.resolve();return x.promise}window.addEventListener("beforeunload",function(x){var C="";return u.STU.close(),(x||window.event).returnValue=C,C});function G(){}G.prototype=new Error;function Y(){c.value=!0,J()}function J(){var x=new u.STU.Protocol,C,k,H;u.STU.isDCAReady().then(function(T){if(!T)throw new G;return u.STU.onDCAtimeout=F,u.STU.getUsbDevices()}).then(function(T){if(T==null||T.length==0)throw new Error("No STU devices found");return console.log("received: "+JSON.stringify(T)),V=T,u.STU.isSupportedUsbDevice(V[0].idVendor,V[0].idProduct)}).then(function(T){return console.log("received: "+JSON.stringify(T)),C=new u.STU.UsbInterface,C.Constructor()}).then(function(T){return console.log("received: "+JSON.stringify(T)),C.connect(V[0],!0)}).then(function(T){return console.log("received: "+JSON.stringify(T)),L=new u.STU.Tablet,L.Constructor(C,k,H)}).then(function(T){return console.log("received: "+JSON.stringify(T)),C=null,L.getInkThreshold()}).then(function(T){return console.log("m_inkThreshold received: "+JSON.stringify(T)),B=T,L.getCapability()}).then(function(T){return console.log("m_capability received: "+JSON.stringify(T)),y=T,q(y.screenWidth,y.screenHeight),L.getInformation()}).then(function(T){return console.log("received: "+JSON.stringify(T)),L.getInkThreshold()}).then(function(T){return console.log("received: "+JSON.stringify(T)),L.getProductId()}).then(function(T){return console.log("received: "+JSON.stringify(T)),u.STU.ProtocolHelper.simulateEncodingFlag(T,y.encodingFlag)}).then(function(T){console.log("received: "+JSON.stringify(T));var z=T;if((z&x.EncodingFlag.EncodingFlag_24bit)!=0)return L.supportsWrite().then(function(te){w=te?x.EncodingMode.EncodingMode_24bit_Bulk:x.EncodingMode.EncodingMode_24bit});if((z&x.EncodingFlag.EncodingFlag_16bit)!=0)return L.supportsWrite().then(function(te){w=te?x.EncodingMode.EncodingMode_16bit_Bulk:x.EncodingMode.EncodingMode_16bit});w=x.EncodingMode.EncodingMode_1bit}).then(function(T){return L.setClearScreen()}).then(function(T){return console.log("received from setClearScreen: "+JSON.stringify(T)),T}).then(function(T){return console.log("received: "+JSON.stringify(T)),L.isSupported(x.ReportId.ReportId_PenDataOptionMode)}).then(function(T){return console.log("received: "+JSON.stringify(T)),T?L.getProductId().then(function(z){var te=x.PenDataOptionMode.PenDataOptionMode_None;switch(z){case u.STU.ProductId.ProductId_520A:te=x.PenDataOptionMode.PenDataOptionMode_TimeCount;break;case u.STU.ProductId.ProductId_430:case u.STU.ProductId.ProductId_530:case u.STU.ProductId.ProductId_540:te=x.PenDataOptionMode.PenDataOptionMode_TimeCountSequence;break;default:console.log("Unknown tablet supporting PenDataOptionMode, setting to None.")}return L.setPenDataOptionMode(te)}):(w=x.EncodingMode.EncodingMode_1bit,w)}).then(function(T){console.log("received: "+JSON.stringify(T)),Se();var z=_.toDataURL("image/png");return u.STU.ProtocolHelper.resizeAndFlatten(z,0,0,0,0,y.screenWidth,y.screenHeight,w,1,!1,0,!0)}).then(function(T){return P=T,console.log("received: "+JSON.stringify(T)),L.writeImage(w,T)}).then(function(T){return console.log("received: "+JSON.stringify(T)),L.setInkingMode(x.InkingMode.InkingMode_On)}).then(function(T){console.log("received: "+JSON.stringify(T));var z=new u.STU.ProtocolHelper.ReportHandler;l={x:0,y:0},p=!1,i.lineWidth=1;var te=function(ae){ye(ae,_),Te(ae,_,i),$.push(ae)},fe=function(ae){ye(ae.penData[0],_),Te(ae.penData[0],_,i),ye(ae.penData[1],_),Te(ae.penData[1],_,i),$.push(ae.penData[0],ae.penData[1])},Ce=function(ae){},Ie=function(ae){};return $=new Array,z.onReportPenData=te,z.onReportPenDataOption=te,z.onReportPenDataTimeCountSequence=te,z.onReportPenDataEncrypted=fe,z.onReportPenDataEncryptedOption=fe,z.onReportPenDataTimeCountSequenceEncrypted=te,z.onReportDevicePublicKey=Ce,z.onReportEncryptionStatus=Ce,z.decrypt=Ie,z.startReporting(L,!0)}).fail(function(T){console.log(T),T instanceof G?(u.STU.Reinitialize(),setTimeout(J,E)):(alert(`promptSigDialog failed:
`+T),setTimeout(be(),0))})}function Se(){if(d=new Array(3),d[0]=new A,d[1]=new A,d[2]=new A,V[0].idProduct!=u.STU.ProductId.ProductId_300){var x=y.screenWidth/3,C=y.screenWidth/3,k=y.screenWidth-x-C,H=y.screenHeight*6/7,T=y.screenHeight-H;d[0].Bounds=new m(0,H,k,T),d[1].Bounds=new m(k,H,x,T),d[2].Bounds=new m(k+x,H,C,T)}else{var z=y.screenWidth*3/4,te=y.screenWidth-z,fe=y.screenHeight/3,Ce=y.screenHeight/3,Ie=y.screenHeight-fe-Ce;d[0].Bounds=new m(z,0,te,Ie),d[1].Bounds=new m(z,Ie,te,fe),d[2].Bounds=new m(z,Ie+fe,te,Ce)}d[0].Text=I,d[1].Text=S,d[2].Text=h,d[0].Click=oe,d[1].Click=ee,d[2].Click=D,re(_,i),ge()}function ge(){i.save(),i.setTransform(1,0,0,1,0,0),i.beginPath(),i.lineWidth=1,i.strokeStyle="black",i.font="30px Arial";for(var x=0;x<d.length;++x){i.fillStyle="lightgrey",i.fillRect(d[x].Bounds.x,d[x].Bounds.y,d[x].Bounds.width,d[x].Bounds.height),i.fillStyle="black",i.rect(d[x].Bounds.x,d[x].Bounds.y,d[x].Bounds.width,d[x].Bounds.height);var C=d[x].Bounds.x+(d[x].Bounds.width/2-i.measureText(d[x].Text).width/2),k;V[0].idProduct==u.STU.ProductId.ProductId_300?k=28:V[0].idProduct==u.STU.ProductId.ProductId_430?k=26:k=40,i.fillText(d[x].Text,C,d[x].Bounds.y+k)}i.stroke(),i.closePath(),i.restore()}function ne(){re(_,i),ge(),$=new Array,L.writeImage(w,P)}function oe(){console.log("btnOk_Click: ",this),ve(),setTimeout(be,0)}function D(){setTimeout(be,0)}function ee(){console.log("clear!"),ne()}function ce(x,C){return Math.pow(x.x-C.x,2)+Math.pow(x.y-C.y,2)}function re(x,C){C.save(),C.setTransform(1,0,0,1,0,0),C.fillStyle="white",C.fillRect(0,0,x.width,x.height),C.restore()}function se(x,C){C.save(),C.setTransform(1,0,0,1,0,0),C.fillStyle="#ffffff00",C.fillRect(0,0,x.width,x.height),C.restore()}function ye(x,C){var k={};k.x=Math.round(C.width*x.x/y.tabletMaxX),k.y=Math.round(C.height*x.y/y.tabletMaxY);for(var H=p?!(x.pressure<=B.offPressureMark):x.pressure>B.onPressureMark,T=-1,z=0;z<d.length;++z)if(d[z].Bounds.Contains(k)){T=z;break}return p&&!H?(T!=-1&&v===T&&d[T].Click(),v=-1):T!=-1&&!p&&H&&(v=T),T==-1}function Te(x,C,k){var H={};H.x=Math.round(C.width*x.x/y.tabletMaxX),H.y=Math.round(C.height*x.y/y.tabletMaxY);var T=p?!(x.pressure<=B.offPressureMark):x.pressure>B.onPressureMark;!p&&T&&(l=H),(T&&10<ce(l,H)||p&&!T)&&(k.beginPath(),k.moveTo(l.x,l.y),k.lineTo(H.x,H.y),k.stroke(),k.closePath(),l=H),p=T}function ve(){console.log("generateImage");var x=document.getElementById("signatureImage"),C=document.createElement("canvas");C.id="signatureCanvas",C.height=227,C.width=359;var k=C.getContext("2d");k.lineWidth=2.5,k.strokeStyle="black",se(C,k),l={x:0,y:0},p=!1;for(var H=0;H<$.length;H++)Te($[H],C,k);s(),x.src=C.toDataURL("image/png")}function be(){c.value=!1,u.STU.onDCAtimeout=null,U(),document.getElementById("sigPreviewContainer").removeChild(r)}function Ue(x){for(var C=x.pageX-r.offsetLeft,k=x.pageY-r.offsetTop,H=0;H<d.length;H++)if(d[H].Bounds.Contains(new N(C,k))){d[H].Click();break}}return(x,C)=>(me(),we(Je,null,[M("div",Vi,[M("div",{hidden:!e.details.address_res_barangay,class:"detail",style:{position:"absolute",top:"170px",left:"35px",overflow:"hidden",width:"559px",height:"59px","font-size":"22pt","line-height":"23pt"}}," BRGY. "+j(e.details.address_res_barangay?e.details.address_res_barangay+", ":"")+" "+j(e.details.address_res_city)+", "+j(e.details.address_res_zip_code)+", "+j(e.details.address_res_province)+", "+j(e.details.address_res_country),9,zi),C[3]||(C[3]=M("div",{style:{position:"absolute",top:"242px",left:"347px"}},[M("img",{id:"qr-img",style:{height:"300px",width:"300px"},alt:""})],-1)),M("div",ji,j(e.details.gender),1),M("div",qi,j(e.details.date_of_birth),1),M("div",Ki,j(e.details.blood_type),1),M("div",Wi,j(e.details.contact_number),1),M("div",Ji,j(e.details.emergency_name),1),M("div",Gi,j(e.details.emergency_number),1),M("div",Qi,j(e.details.date_issued_formatted),1),M("div",Yi,j(e.details.date_expire_formatted),1),M("div",{style:{width:"100%",position:"absolute",top:"354px","text-align":"center"},id:"signatureDiv",onClick:C[0]||(C[0]=k=>Y())},[M("img",{hidden:!e.details.sig_src,id:"signatureImage",class:"signatureImage",style:{height:"227px",width:"359px",position:"absolute",bottom:"-584px",left:"151px"}},null,8,Xi),M("img",{hidden:e.details.sig_src,src:_n,style:{height:"227px",width:"359px",position:"absolute",bottom:"-584px",left:"151px"}},null,8,Zi)])]),O(ot,{modelValue:bn(c),"onUpdate:modelValue":C[2]||(C[2]=k=>xn(c)?c.value=k:c=k),"backdrop-filter":"sepia(90%)",persistent:""},{default:Z(()=>[O(it,null,{default:Z(()=>[O(Ge,{class:"row items-center q-pb-none text-h6"},{default:Z(()=>C[4]||(C[4]=[Me(" Signature ")])),_:1,__:[4]}),O(Ge,null,{default:Z(()=>[C[5]||(C[5]=M("div",{id:"sigPreviewContainer",style:{position:"relative"}},null,-1)),M("div",{style:{width:"107px",height:"29px",position:"absolute",bottom:"16px",left:"16px"},onClick:C[1]||(C[1]=k=>oe())}),M("div",{style:{width:"107px",height:"29px",position:"absolute",bottom:"16px",left:"125px"},onClick:ee}),M("div",{style:{width:"107px",height:"29px",position:"absolute",bottom:"16px",right:"12px"},onClick:D})]),_:1,__:[5]})]),_:1})]),_:1},8,["modelValue"])],64))}});const er={id:"IdCardBackV2",style:{width:"640px",height:"1014px","font-size":"7pt",position:"relative","background-image":"url('/images/REG_ID_Back_Temp.jpg')","background-position":"center","background-size":"contain","font-family":"sans-serif"}},tr=["hidden"],nr={class:"detail",style:{position:"absolute",top:"283px",left:"42px","font-size":"22pt"}},or={class:"detail",style:{position:"absolute",top:"363px",left:"42px","font-size":"22pt"}},ir={class:"detail",style:{position:"absolute",top:"442px",left:"42px","font-size":"22pt"}},rr={class:"detail",style:{position:"absolute",top:"521px",left:"42px","font-size":"22pt"}},ar={style:{width:"100%","text-align":"left",position:"absolute",bottom:"376px",left:"53px","font-size":"22pt"}},sr={style:{width:"100%","text-align":"left",position:"absolute",bottom:"344px",left:"53px","font-size":"22pt"}},lr={class:"detail",style:{position:"absolute",top:"671px",left:"204px","font-size":"19pt"}},dr={class:"detail",style:{position:"absolute",top:"705px",left:"204px","font-size":"19pt"}},tn=Object.assign({name:"IdCardBack"},{__name:"IdCardBackV2",props:{details:{type:Object,required:!0}},emits:["onPenDataSave"],setup(e,{emit:t}){const n=async x=>{try{var C=document.getElementById("qr-img-v2");C.src=await et.toDataURL(x)}catch(k){console.error(k)}},o=e,a=t;function s(){a("onPenDataSave",$)}var c=Ae(!1),h="Cancel",S="Clear",I="OK",E=1e3,_,i,r,p,l,d,v=-1,y,w,P,B,$,V,L;Be(()=>o.details,(x,C)=>{x.sig_src&&($=x.sig_src,y={encodingFlag:3,maxReportRate:200,resolution:64e3,screenHeight:227,screenWidth:359,tabletMaxPressure:1023,tabletMaxX:9600,tabletMaxY:6e3},B={offPressureMark:16,onPressureMark:21},ve()),n("https://ihris.hrmdo-lgubayawan.link/verify/index.php?id="+o.details.employees_id)},{deep:!0});function F(){console.log("DCA disconnected"),setTimeout(be,0)}function m(x,C,k,H){this.x=x,this.y=C,this.width=k,this.height=H,this.Contains=function(T){return T.x>=this.x&&T.x<=this.x+this.width&&T.y>=this.y&&T.y<=this.y+this.height}}function A(){this.Bounds,this.Text,this.Click}function N(x,C){this.x=x,this.y=C}function q(x,C){r=document.createElement("div"),r.id="signatureWindow",r.className="active",r.style.position="relative",r.style.top=0+"px",r.style.left=0+"px",r.style.width=x+"px",r.style.height=C+"px",document.getElementById("sigPreviewContainer").appendChild(r),_=document.createElement("canvas"),_.id="myCanvas",_.height=r.offsetHeight,_.width=r.offsetWidth,_.style.zIndex=999,r.appendChild(_),i=_.getContext("2d"),console.log("canvas.addEventListener:",_.addEventListener),_.addEventListener?(_.addEventListener("click",Ue,!1),console.log("onCanvasClick 0")):_.attachEvent?(_.attachEvent("onClick",Ue),console.log("onCanvasClick 1")):(_.onClick=Ue,console.log("onCanvasClick 2"))}function U(){var x=Q.defer();if(L!=null){var C=new u.STU.Protocol;L.setInkingMode(C.InkingMode.InkingMode_Off).then(function(k){return console.log("received: "+JSON.stringify(k)),L.endCapture()}).then(function(k){return console.log("received: "+JSON.stringify(k)),P!==null?P.remove():k}).then(function(k){return console.log("received: "+JSON.stringify(k)),P=null,L.setClearScreen()}).then(function(k){return console.log("received: "+JSON.stringify(k)),L.disconnect()}).then(function(k){console.log("received: "+JSON.stringify(k)),L=null,re(_,i)}).then(function(k){x.resolve()}).fail(function(k){console.log("disconnect error: "+k),x.resolve()})}else x.resolve();return x.promise}window.addEventListener("beforeunload",function(x){var C="";return u.STU.close(),(x||window.event).returnValue=C,C});function G(){}G.prototype=new Error;function Y(){c.value=!0,J()}function J(){var x=new u.STU.Protocol,C,k,H;u.STU.isDCAReady().then(function(T){if(!T)throw new G;return u.STU.onDCAtimeout=F,u.STU.getUsbDevices()}).then(function(T){if(T==null||T.length==0)throw new Error("No STU devices found");return console.log("received: "+JSON.stringify(T)),V=T,u.STU.isSupportedUsbDevice(V[0].idVendor,V[0].idProduct)}).then(function(T){return console.log("received: "+JSON.stringify(T)),C=new u.STU.UsbInterface,C.Constructor()}).then(function(T){return console.log("received: "+JSON.stringify(T)),C.connect(V[0],!0)}).then(function(T){return console.log("received: "+JSON.stringify(T)),L=new u.STU.Tablet,L.Constructor(C,k,H)}).then(function(T){return console.log("received: "+JSON.stringify(T)),C=null,L.getInkThreshold()}).then(function(T){return console.log("m_inkThreshold received: "+JSON.stringify(T)),B=T,L.getCapability()}).then(function(T){return console.log("m_capability received: "+JSON.stringify(T)),y=T,q(y.screenWidth,y.screenHeight),L.getInformation()}).then(function(T){return console.log("received: "+JSON.stringify(T)),L.getInkThreshold()}).then(function(T){return console.log("received: "+JSON.stringify(T)),L.getProductId()}).then(function(T){return console.log("received: "+JSON.stringify(T)),u.STU.ProtocolHelper.simulateEncodingFlag(T,y.encodingFlag)}).then(function(T){console.log("received: "+JSON.stringify(T));var z=T;if((z&x.EncodingFlag.EncodingFlag_24bit)!=0)return L.supportsWrite().then(function(te){w=te?x.EncodingMode.EncodingMode_24bit_Bulk:x.EncodingMode.EncodingMode_24bit});if((z&x.EncodingFlag.EncodingFlag_16bit)!=0)return L.supportsWrite().then(function(te){w=te?x.EncodingMode.EncodingMode_16bit_Bulk:x.EncodingMode.EncodingMode_16bit});w=x.EncodingMode.EncodingMode_1bit}).then(function(T){return L.setClearScreen()}).then(function(T){return console.log("received from setClearScreen: "+JSON.stringify(T)),T}).then(function(T){return console.log("received: "+JSON.stringify(T)),L.isSupported(x.ReportId.ReportId_PenDataOptionMode)}).then(function(T){return console.log("received: "+JSON.stringify(T)),T?L.getProductId().then(function(z){var te=x.PenDataOptionMode.PenDataOptionMode_None;switch(z){case u.STU.ProductId.ProductId_520A:te=x.PenDataOptionMode.PenDataOptionMode_TimeCount;break;case u.STU.ProductId.ProductId_430:case u.STU.ProductId.ProductId_530:case u.STU.ProductId.ProductId_540:te=x.PenDataOptionMode.PenDataOptionMode_TimeCountSequence;break;default:console.log("Unknown tablet supporting PenDataOptionMode, setting to None.")}return L.setPenDataOptionMode(te)}):(w=x.EncodingMode.EncodingMode_1bit,w)}).then(function(T){console.log("received: "+JSON.stringify(T)),Se();var z=_.toDataURL("image/png");return u.STU.ProtocolHelper.resizeAndFlatten(z,0,0,0,0,y.screenWidth,y.screenHeight,w,1,!1,0,!0)}).then(function(T){return P=T,console.log("received: "+JSON.stringify(T)),L.writeImage(w,T)}).then(function(T){return console.log("received: "+JSON.stringify(T)),L.setInkingMode(x.InkingMode.InkingMode_On)}).then(function(T){console.log("received: "+JSON.stringify(T));var z=new u.STU.ProtocolHelper.ReportHandler;l={x:0,y:0},p=!1,i.lineWidth=1;var te=function(ae){ye(ae,_),Te(ae,_,i),$.push(ae)},fe=function(ae){ye(ae.penData[0],_),Te(ae.penData[0],_,i),ye(ae.penData[1],_),Te(ae.penData[1],_,i),$.push(ae.penData[0],ae.penData[1])},Ce=function(ae){},Ie=function(ae){};return $=new Array,z.onReportPenData=te,z.onReportPenDataOption=te,z.onReportPenDataTimeCountSequence=te,z.onReportPenDataEncrypted=fe,z.onReportPenDataEncryptedOption=fe,z.onReportPenDataTimeCountSequenceEncrypted=te,z.onReportDevicePublicKey=Ce,z.onReportEncryptionStatus=Ce,z.decrypt=Ie,z.startReporting(L,!0)}).fail(function(T){console.log(T),T instanceof G?(u.STU.Reinitialize(),setTimeout(J,E)):(alert(`promptSigDialog failed:
`+T),setTimeout(be(),0))})}function Se(){if(d=new Array(3),d[0]=new A,d[1]=new A,d[2]=new A,V[0].idProduct!=u.STU.ProductId.ProductId_300){var x=y.screenWidth/3,C=y.screenWidth/3,k=y.screenWidth-x-C,H=y.screenHeight*6/7,T=y.screenHeight-H;d[0].Bounds=new m(0,H,k,T),d[1].Bounds=new m(k,H,x,T),d[2].Bounds=new m(k+x,H,C,T)}else{var z=y.screenWidth*3/4,te=y.screenWidth-z,fe=y.screenHeight/3,Ce=y.screenHeight/3,Ie=y.screenHeight-fe-Ce;d[0].Bounds=new m(z,0,te,Ie),d[1].Bounds=new m(z,Ie,te,fe),d[2].Bounds=new m(z,Ie+fe,te,Ce)}d[0].Text=I,d[1].Text=S,d[2].Text=h,d[0].Click=oe,d[1].Click=ee,d[2].Click=D,re(_,i),ge()}function ge(){i.save(),i.setTransform(1,0,0,1,0,0),i.beginPath(),i.lineWidth=1,i.strokeStyle="black",i.font="30px Arial";for(var x=0;x<d.length;++x){i.fillStyle="lightgrey",i.fillRect(d[x].Bounds.x,d[x].Bounds.y,d[x].Bounds.width,d[x].Bounds.height),i.fillStyle="black",i.rect(d[x].Bounds.x,d[x].Bounds.y,d[x].Bounds.width,d[x].Bounds.height);var C=d[x].Bounds.x+(d[x].Bounds.width/2-i.measureText(d[x].Text).width/2),k;V[0].idProduct==u.STU.ProductId.ProductId_300?k=28:V[0].idProduct==u.STU.ProductId.ProductId_430?k=26:k=40,i.fillText(d[x].Text,C,d[x].Bounds.y+k)}i.stroke(),i.closePath(),i.restore()}function ne(){re(_,i),ge(),$=new Array,L.writeImage(w,P)}function oe(){console.log("btnOk_Click: ",this),ve(),setTimeout(be,0)}function D(){setTimeout(be,0)}function ee(){console.log("clear!"),ne()}function ce(x,C){return Math.pow(x.x-C.x,2)+Math.pow(x.y-C.y,2)}function re(x,C){C.save(),C.setTransform(1,0,0,1,0,0),C.fillStyle="white",C.fillRect(0,0,x.width,x.height),C.restore()}function se(x,C){C.save(),C.setTransform(1,0,0,1,0,0),C.fillStyle="#ffffff00",C.fillRect(0,0,x.width,x.height),C.restore()}function ye(x,C){var k={};k.x=Math.round(C.width*x.x/y.tabletMaxX),k.y=Math.round(C.height*x.y/y.tabletMaxY);for(var H=p?!(x.pressure<=B.offPressureMark):x.pressure>B.onPressureMark,T=-1,z=0;z<d.length;++z)if(d[z].Bounds.Contains(k)){T=z;break}return p&&!H?(T!=-1&&v===T&&d[T].Click(),v=-1):T!=-1&&!p&&H&&(v=T),T==-1}function Te(x,C,k){var H={};H.x=Math.round(C.width*x.x/y.tabletMaxX),H.y=Math.round(C.height*x.y/y.tabletMaxY);var T=p?!(x.pressure<=B.offPressureMark):x.pressure>B.onPressureMark;!p&&T&&(l=H),(T&&10<ce(l,H)||p&&!T)&&(k.beginPath(),k.moveTo(l.x,l.y),k.lineTo(H.x,H.y),k.stroke(),k.closePath(),l=H),p=T}function ve(){var x=document.getElementById("signatureImageV2"),C=document.createElement("canvas");C.id="signatureCanvas",C.height=227,C.width=359;var k=C.getContext("2d");k.lineWidth="2.5",k.strokeStyle="black",se(C,k),l={x:0,y:0},p=!1;for(var H=0;H<$.length;H++)Te($[H],C,k);s(),x.src=C.toDataURL("image/png")}function be(){c.value=!1,u.STU.onDCAtimeout=null,U(),document.getElementById("sigPreviewContainer").removeChild(r)}function Ue(x){for(var C=x.pageX-r.offsetLeft,k=x.pageY-r.offsetTop,H=0;H<d.length;H++)if(d[H].Bounds.Contains(new N(C,k))){d[H].Click();break}}return(x,C)=>(me(),we(Je,null,[M("div",er,[M("div",{hidden:!e.details.address_res_barangay,class:"detail",style:{position:"absolute",top:"170px",left:"35px",overflow:"hidden",width:"559px",height:"59px","font-size":"22pt","line-height":"23pt","z-index":"9999"}}," BRGY. "+j(e.details.address_res_barangay?e.details.address_res_barangay+", ":"")+" "+j(e.details.address_res_city)+", "+j(e.details.address_res_zip_code)+", "+j(e.details.address_res_province)+", "+j(e.details.address_res_country),9,tr),C[4]||(C[4]=M("div",{style:{position:"absolute",top:"242px",left:"347px"}},[M("img",{id:"qr-img-v2",style:{height:"300px",width:"300px"},alt:""})],-1)),M("div",nr,j(e.details.gender),1),M("div",or,j(e.details.date_of_birth),1),M("div",ir,j(e.details.blood_type),1),M("div",rr,j(e.details.contact_number),1),M("div",ar,j(e.details.emergency_name),1),M("div",sr,j(e.details.emergency_number),1),M("div",lr,j(e.details.date_issued_formatted),1),M("div",dr,j(e.details.date_expire_formatted),1),M("div",{style:{width:"100%",position:"absolute",top:"354px","text-align":"center"},id:"signatureDiv",onClick:C[0]||(C[0]=k=>Y())},C[3]||(C[3]=[M("img",{id:"signatureImageV2",class:"signatureImage",src:_n,style:{height:"227px",width:"359px",position:"absolute",bottom:"-584px",left:"151px"}},null,-1)]))]),O(ot,{modelValue:bn(c),"onUpdate:modelValue":C[2]||(C[2]=k=>xn(c)?c.value=k:c=k),"backdrop-filter":"sepia(90%)",persistent:""},{default:Z(()=>[O(it,null,{default:Z(()=>[O(Ge,{class:"row items-center q-pb-none text-h6"},{default:Z(()=>C[5]||(C[5]=[Me(" Signature ")])),_:1,__:[5]}),O(Ge,null,{default:Z(()=>[C[6]||(C[6]=M("div",{id:"sigPreviewContainer",style:{position:"relative"}},null,-1)),M("div",{style:{width:"107px",height:"29px",position:"absolute",bottom:"16px",left:"16px"},onClick:C[1]||(C[1]=k=>oe())}),M("div",{style:{width:"107px",height:"29px",position:"absolute",bottom:"16px",left:"125px"},onClick:ee}),M("div",{style:{width:"107px",height:"29px",position:"absolute",bottom:"16px",right:"12px"},onClick:D})]),_:1,__:[6]})]),_:1})]),_:1},8,["modelValue"])],64))}});var nn=je({name:"QCardActions",props:{...Io,vertical:Boolean},setup(e,{slots:t}){const n=_o(e),o=xe(()=>`q-card__actions ${n.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>Fe("div",{class:o.value},at(t.default))}});function on(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var rn=Po({name:"close-popup",beforeMount(e,{value:t}){const n={depth:on(t),handler(o){n.depth!==0&&setTimeout(()=>{const a=uo(e);a!==void 0&&co(a,o,n.depth)})},handlerKey(o){ko(o,13)===!0&&n.handler(o)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=on(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});var ur=(e,t)=>{const n=e.__vccOpts||e;for(const[o,a]of t)n[o]=a;return n};const cr={props:{image:{type:String,default:""},accept:{type:String,default:"image/*"},placeholderSvg:{type:String,default:'<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 65 65"><defs><style>.cls-1{fill:#000;}</style></defs><title>Upload_Upload</title><path class="cls-1" d="M32.5,1A31.5,31.5,0,1,1,1,32.5,31.54,31.54,0,0,1,32.5,1m0-1A32.5,32.5,0,1,0,65,32.5,32.5,32.5,0,0,0,32.5,0h0Z"/><polygon class="cls-1" points="41.91 28.2 32.59 18.65 23.09 28.39 24.17 29.44 31.87 21.54 31.87 40.05 33.37 40.05 33.37 21.59 40.83 29.25 41.91 28.2"/><polygon class="cls-1" points="40.66 40.35 40.66 44.35 24.34 44.35 24.34 40.35 22.34 40.35 22.34 44.35 22.34 46.35 24.34 46.35 40.66 46.35 42.66 46.35 42.66 44.35 42.66 40.35 40.66 40.35"/></svg>'},border:{type:Number,default:25},borderRadius:{type:Number,default:0},width:{type:Number,default:200},height:{type:Number,default:200},color:{type:Array,default:()=>[0,0,0,.5]},scale:{type:Number,default:1},rotation:{type:Number,default:0}},data(){return{cursor:"cursorPointer",canvas:null,context:null,dragged:!1,imageLoaded:!1,changed:!1,state:{drag:!1,my:null,mx:null,xxx:"ab",image:{x:0,y:0,resource:null}}}},computed:{canvasWidth(){return this.getDimensions().canvas.width},canvasHeight(){return this.getDimensions().canvas.height},rotationRadian(){return this.rotation*Math.PI/180}},mounted(){let e=this;if(this.canvas=this.$refs.avatarEditorCanvas,this.context=this.canvas.getContext("2d"),this.paint(),this.image)this.loadImage(this.image);else{var t=this.svgToImage(this.placeholderSvg);t.onload=function(){var n=e.canvasWidth/2-this.width/2,o=e.canvasHeight/2-this.height/2;e.context.drawImage(t,n,o,this.width,this.height)}}},methods:{drawRoundedRect(e,t,n,o,a,s){if(s===0)e.rect(t,n,o,a);else{const c=o-s,h=a-s;e.translate(t,n),e.arc(s,s,s,Math.PI,Math.PI*1.5),e.lineTo(c,0),e.arc(c,s,s,Math.PI*1.5,Math.PI*2),e.lineTo(o,h),e.arc(c,h,s,Math.PI*2,Math.PI*.5),e.lineTo(s,a),e.arc(s,h,s,Math.PI*.5,Math.PI),e.translate(-t,-n)}},svgToImage(e){let t=new Blob([e],{type:"image/svg+xml;charset=utf-8"}),o=(self.URL||self.webkitURL||self).createObjectURL(t),a=new Image;return a.src=o,a},setState(e){var t=Math.ceil(1),n=Math.floor(1e4);this.state=e,this.state.cnt="HELLO"+Math.floor(Math.random()*(n-t))+t},paint(){this.context.save(),this.context.translate(0,0),this.context.fillStyle="rgba("+this.color.slice(0,4).join(",")+")";let e=this.borderRadius;const t=this.getDimensions(),n=t.border,o=t.canvas.height,a=t.canvas.width;e=Math.max(e,0),e=Math.min(e,a/2-n,o/2-n),this.context.beginPath(),this.drawRoundedRect(this.context,n,n,a-n*2,o-n*2,e),this.context.rect(a,0,-a,o),this.context.fill("evenodd"),this.context.restore()},getDimensions(){return{width:this.width,height:this.height,border:this.border,canvas:{width:this.width+this.border*2,height:this.height+this.border*2}}},onDrop(e){if(e=e||window.event,e.stopPropagation(),e.preventDefault(),e.dataTransfer&&e.dataTransfer.files.length){const t=new FileReader,n=e.dataTransfer.files[0];this.changed=!0,t.onload=o=>this.loadImage(o.target.result),t.readAsDataURL(n)}},onDragStart(e){e=e||window.event,e.preventDefault(),this.state.drag=!0,this.state.mx=null,this.state.my=null,this.cursor="cursorGrabbing";let t=document,n=!1,o=s=>{this.onDragEnd(s),!n&&s.targetTouches&&e.target.click(),t.removeEventListener("mouseup",o),t.removeEventListener("mousemove",a),t.removeEventListener("touchend",o),t.removeEventListener("touchmove",a)},a=s=>{n=!0,this.onMouseMove(s)};t.addEventListener("mouseup",o),t.addEventListener("mousemove",a),t.addEventListener("touchend",o),t.addEventListener("touchmove",a)},onDragEnd(e){this.state.drag&&(this.state.drag=!1,this.cursor="cursorPointer")},onMouseMove(e){if(e=e||window.event,this.state.drag===!1)return;this.dragged=!0,this.changed=!0;let t=this.state.image;const n=t.x,o=t.y,a=e.targetTouches?e.targetTouches[0].pageX:e.clientX,s=e.targetTouches?e.targetTouches[0].pageY:e.clientY,c={mx:a,my:s,image:t};if(this.state.mx&&this.state.my){const h=(this.state.mx-a)/this.scale,S=(this.state.my-s)/this.scale;t.y=this.getBoundedY(o-S,this.scale),t.x=this.getBoundedX(n-h,this.scale)}this.state.mx=c.mx,this.state.my=c.my,this.state.image=t},replaceImageInBounds(){let e=this.state.image;e.y=this.getBoundedY(e.y,this.scale),e.x=this.getBoundedX(e.x,this.scale)},loadImage(e){let t=new Image,n=this;t.onload=()=>{let o=n.getInitialSize(t.width,t.height);n.state.image.x=0,n.state.image.y=0,n.state.image.resource=t,n.state.image.width=o.width,n.state.image.height=o.height,n.state.drag=!1,n.$emit("vue-avatar-editor:image-ready",n.scale),n.imageLoaded=!0,this.$emit("imageLoaded",n.imageLoaded),n.cursor="cursorGrab"},t.onerror=o=>console.log("error loading image: ",o),this.isDataURL(e)||(t.crossOrigin="anonymous"),t.src=e},getInitialSize(e,t){let n,o;const a=this.getDimensions(),s=a.height/a.width,c=t/e;return s>c?(n=this.getDimensions().height,o=e*(n/t)):(o=this.getDimensions().width,n=t*(o/e)),{height:n,width:o}},isDataURL(e){return e===null?!1:!!e.match(/^\s*data:([a-z]+\/[a-z]+(;[a-z\-]+=[a-z\-]+)?)?(;base64)?,[a-z0-9!$&',()*+;=\-._~:@\/?%\s]*\s*$/i)},getBoundedX(e,t){var n=this.state.image,o=this.getDimensions();let a=Math.abs(n.width*Math.cos(this.rotationRadian))+Math.abs(n.height*Math.sin(this.rotationRadian)),s=Math.floor((a-o.width/t)/2);return s=Math.max(0,s),Math.max(-s,Math.min(e,s))},getBoundedY(e,t){var n=this.state.image,o=this.getDimensions();let a=Math.abs(n.width*Math.sin(this.rotationRadian))+Math.abs(n.height*Math.cos(this.rotationRadian)),s=Math.floor((a-o.height/t)/2);return s=Math.max(0,s),Math.max(-s,Math.min(e,s))},paintImage(e,t,n){if(t.resource){var o=this.calculatePosition(t,n);e.save(),e.globalCompositeOperation="destination-over";let a=this.getDimensions();e.translate(a.canvas.width/2,a.canvas.height/2),e.rotate(this.rotationRadian),e.translate(-a.canvas.width/2,-a.canvas.height/2),e.drawImage(t.resource,o.x,o.y,o.width,o.height),e.restore()}},transformDataWithRotation(e,t){let n=-this.rotationRadian,o=e*Math.cos(n)-t*Math.sin(n),a=e*Math.sin(n)+t*Math.cos(n);return[o,a]},calculatePosition(e,t){e=e||this.state.image;var n=this.getDimensions();let o=e.width*this.scale,a=e.height*this.scale;var s=(o-n.width)/2,c=(a-n.height)/2,h=e.x*this.scale,S=e.y*this.scale;return[h,S]=this.transformDataWithRotation(h,S),h+=t-s,S+=t-c,{x:h,y:S,height:a,width:o}},redraw(){this.context.clearRect(0,0,this.getDimensions().canvas.width,this.getDimensions().canvas.height),this.paint(),this.paintImage(this.context,this.state.image,this.border)},getImage(){const e=this.getCroppingRect(),t=this.state.image;e.x*=t.resource.width,e.y*=t.resource.height,e.width*=t.resource.width,e.height*=t.resource.height;const n=document.createElement("canvas");return n.width=e.width,n.height=e.height,n.getContext("2d").drawImage(t.resource,-e.x,-e.y),n},getImageScaled(){const{width:e,height:t}=this.getDimensions(),n=document.createElement("canvas");return n.width=e,n.height=t,this.paintImage(n.getContext("2d"),this.state.image,0),n},imageChanged(){return this.changed},getCroppingRect(){const e=this.getDimensions(),t={x:e.border,y:e.border,width:e.width,height:e.height},n=this.calculatePosition(this.state.image,e.border);return{x:(t.x-n.x)/n.width,y:(t.y-n.y)/n.height,width:t.width/n.width,height:t.height/n.height}},clicked(e){this.dragged===!0?this.dragged=!1:this.$refs.input.click()},fileSelected(e){var t=e.target.files||e.dataTransfer.files;if(this.$emit("select-file",t),!!t.length){var n=new FileReader;this.changed=!0,n.onload=o=>this.loadImage(o.target.result),n.readAsDataURL(t[0])}},resetImage(){let e=this;this.canvas=this.$refs.avatarEditorCanvas,this.context=this.canvas.getContext("2d"),e.imageLoaded=!1,this.$emit("imageLoaded",e.imageLoaded),e.state={drag:!1,my:null,mx:null,xxx:"ab",image:{x:0,y:0,resource:null}},this.context.clearRect(0,0,this.getDimensions().canvas.width,this.getDimensions().canvas.height),this.paint();var t=this.svgToImage(this.placeholderSvg);t.onload=function(){var n=e.canvasWidth/2-this.width/2,o=e.canvasHeight/2-this.height/2;e.context.drawImage(t,n,o,this.width,this.height)}}},watch:{state:{handler(e,t){this.imageLoaded&&this.redraw()},deep:!0},scale(){this.imageLoaded&&(this.replaceImageInBounds(),this.redraw())},rotation(){this.imageLoaded&&(this.replaceImageInBounds(),this.redraw())},borderRadius(){this.redraw()}}},fr=["width","height"],pr=["accept"];function hr(e,t,n,o,a,s){return me(),we("div",null,[M("canvas",{width:s.canvasWidth,height:s.canvasHeight,class:"cursorPointer",id:"avatarEditorCanvas",ref:"avatarEditorCanvas",onDragover:t[0]||(t[0]=ct(()=>{},["prevent"])),onDrop:t[1]||(t[1]=(...c)=>s.onDrop&&s.onDrop(...c)),onMousedown:t[2]||(t[2]=(...c)=>s.onDragStart&&s.onDragStart(...c)),onTouchstart:t[3]||(t[3]=(...c)=>s.onDragStart&&s.onDragStart(...c)),onClick:t[4]||(t[4]=(...c)=>s.clicked&&s.clicked(...c))},null,40,fr),M("input",{type:"file",ref:"input",accept:n.accept,onChange:t[5]||(t[5]=(...c)=>s.fileSelected&&s.fileSelected(...c)),style:{display:"none"}},null,40,pr)])}var mr=ur(cr,[["render",hr]]);const gr={class:"q-mt-sm"},yr={id:"uploadForm",enctype:"multipart/form-data"},an=Object.assign({name:"PhotoGetter",components:{VueAvatar:mr},data(){return{imageIsLoading:"loaded",uploadDialog:!1,prompt:!1,selectedCamDevice:null,camDevices:[],player:null,rotation:0,scale:1,borderRadius:0,imgSrc:null}},watch:{"selected_employee_data.employees_id"(e){e&&(this.imageIsLoading="loading",this.$nextTick(()=>{this.getPhoto().then(()=>{})}))},prompt(e,t){e||window.stream&&window.stream.getTracks().forEach(n=>{n.stop()})},selectedCamDevice(e){this.getStream()}},methods:{imageLoaded(){this.imageIsLoading="loaded"},async getPhoto(){await this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{getPhoto:!0,employees_id:this.selected_employee_data.employees_id}).then(({data:e})=>{this.$refs.uploadedPhotoRef.src=e,e||(this.imageIsLoading="loaded")}).catch(e=>{console.error(e)})},uploadImage(){this.imageIsLoading="loading";var e=document.getElementById("uploadForm"),t=new FormData(e);t.append("employees_id",this.selected_employee_data.employees_id),this.$api.post("http://192.168.50.50:8081/id_photo_upload.php",t,{headers:{"Content-Type":"multipart/form-data"}}).then(({data:n})=>{this.getPhoto(),this.$emit("imageCaptured",t),this.uploadDialog=!this.uploadDialog,this.imageIsLoading="loaded"}).catch(n=>{console.error(n)})},saveClicked:function(){var t=this.$refs.vueavatar.getImageScaled();const n=t.toDataURL("image/jpeg",1),o=document.getElementById("uploadedPhoto");o.src=n;const a=document.getElementById("canvasCapture");a.getContext("2d").drawImage(o,0,0,a.width,a.height),this.$emit("imageCaptured",n),this.uploadDialog=!this.uploadDialog},onImageReady:function(){this.scale=1,this.rotation=0},uploadPhoto(e){const t=document.getElementById("uploadPhotoInput");var n=document.getElementById("uploadedPhoto");t.files&&t.files[0]&&(n.onload=()=>{URL.revokeObjectURL(n.src),document.getElementById("uploadedPhotoEditor");const o=document.getElementById("canvasCapture");o.getContext("2d").drawImage(n,0,0,n.width,n.height,0,0,o.width,o.height);const s=o.toDataURL("image/jpeg",1);this.$emit("imageCaptured",s)},n.src=URL.createObjectURL(t.files[0]))},promptDialog(){this.camDevices=[],this.getDevices().then(this.gotDevices),this.prompt=!this.prompt,this.$nextTick(()=>{this.player=document.getElementById("player");const e=document.getElementById("canvasCapture"),t=e.getContext("2d");document.getElementById("capture").addEventListener("click",()=>{t.drawImage(this.player,0,0,e.width,e.height);const o=e.toDataURL("image/jpeg",1),a=document.getElementById("uploadedPhoto");a.src=o,this.prompt=!this.prompt,this.$emit("imageCaptured",o),window.stream&&window.stream.getTracks().forEach(s=>{s.stop()})}),this.getStream()})},getStream(){window.stream&&window.stream.getTracks().forEach(n=>{n.stop()});const e=this.selectedCamDevice.value,t={video:{deviceId:e?{exact:e}:void 0}};return navigator.mediaDevices.getUserMedia(t).then(this.gotStream)},gotStream(e){window.stream=e,this.player.srcObject=e},async getDevices(){return await navigator.mediaDevices.enumerateDevices()},async gotDevices(e){window.deviceInfos=e;for(const t of e){const n={label:"",value:""};n.value=t.deviceId,t.kind==="videoinput"&&(n.label=t.label||`Camera ${videoSelect.length+1}`,this.camDevices.push(n))}this.selectedCamDevice==null&&(this.selectedCamDevice=this.camDevices[0])}},created(){}},{__name:"PhotoGetter",props:{selected_employee_data:{type:Object}},emits:["imageCaptured"],setup(e){return(t,n)=>(me(),we(Je,null,[M("div",gr,[O(ke,{unelevated:"",icon:"file_upload",onClick:n[0]||(n[0]=o=>t.uploadDialog=!t.uploadDialog),disable:!e.selected_employee_data.employees_id},{default:Z(()=>n[5]||(n[5]=[Me("Upload Photo")])),_:1,__:[5]},8,["disable"]),Tn(t.$slots,"buttons")]),O(ot,{modelValue:t.prompt,"onUpdate:modelValue":n[2]||(n[2]=o=>t.prompt=o),persistent:""},{default:Z(()=>[O(it,{style:{"min-width":"1500px","text-align":"center"}},{default:Z(()=>[O(Ge,{class:"q-pt-none q-ma-lg"},{default:Z(()=>[O(Et,{modelValue:t.selectedCamDevice,"onUpdate:modelValue":n[1]||(n[1]=o=>t.selectedCamDevice=o),options:t.camDevices,label:"Device"},null,8,["modelValue","options"]),n[7]||(n[7]=M("video",{id:"player",autoplay:"",style:{width:"1000px"}},null,-1)),n[8]||(n[8]=M("br",null,null,-1)),O(ke,{id:"capture"},{default:Z(()=>n[6]||(n[6]=[Me("Capture")])),_:1,__:[6]})]),_:1,__:[7,8]}),O(nn,{align:"right",class:"text-primary"},{default:Z(()=>[Kt(O(ke,{flat:"",label:"Cancel"},null,512),[[rn]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),O(ot,{modelValue:t.uploadDialog,"onUpdate:modelValue":n[4]||(n[4]=o=>t.uploadDialog=o),persistent:""},{default:Z(()=>[O(it,{style:{"_min-width":"1500px","text-align":"center"}},{default:Z(()=>[O(Ge,{class:"q-pt-none q-ma-lg"},{default:Z(()=>[M("form",yr,[n[9]||(n[9]=M("input",{type:"file",id:"fileInput",name:"image",accept:"image/jpeg"},null,-1)),M("button",{type:"button",onClick:n[3]||(n[3]=o=>t.uploadImage())},"Upload")])]),_:1}),O(nn,{align:"right",class:"text-primary"},{default:Z(()=>[Kt(O(ke,{flat:"",label:"Cancel"},null,512),[[rn]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}}),vr={style:{position:"relative",display:"inline"},ref:"clickBox"},Sr=["hidden"],wr={style:{"font-size":"12pt"}},br={style:{"font-size":"12pt"}},xr={style:{"font-size":"12pt"}},sn=Object.assign({name:"PhotoAdjuster",data:function(){return{displayModal:!1,photoFormat:this.photoProps,photoFormatDefault:Object.assign({},this.photoProps),interval:null,count:0,horizontalDir:null}},methods:{mousedown(e){this.horizontalDir=e,this.increment(),this.interval=setInterval(this.increment,100)},mouseup(){clearInterval(this.interval)},increment(){this.horizontalDir=="left"?this.photoFormat.left+=1:this.photoFormat.left-=1},promptDialog(){this.displayModal=!this.displayModal},reset(){this.photoFormat.top=this.photoFormatDefault.top,this.photoFormat.left=this.photoFormatDefault.left,this.photoFormat.scale=this.photoFormatDefault.scale},handleClickOutside(e){this.$refs.clickBox&&!this.$refs.clickBox.contains(e.target)&&(this.displayModal=!1)}},mounted(){window.addEventListener("click",this.handleClickOutside)},beforeUnmount(){window.removeEventListener("click",this.handleClickOutside)}},{__name:"PhotoAdjuster",props:{photoProps:{type:Object,required:!0},selected_employee_data:{type:Object}},setup(e){return(t,n)=>(me(),we("div",vr,[O(ke,{unelevated:"",icon:"format_shapes",onClick:n[0]||(n[0]=o=>t.promptDialog()),disable:!e.selected_employee_data.employees_id},null,8,["disable"]),M("div",{class:"q-pa-md",hidden:t.displayModal==!1,style:{position:"absolute","z-index":"999","background-color":"white",width:"250px","box-shadow":"10px 19px 60px -27px","border-radius":"5px",right:"-210px","padding-right":"20px"}},[O(ke,{size:"xs",style:{position:"absolute",top:"10px",right:"10px"},onClick:n[1]||(n[1]=o=>t.reset())},{default:Z(()=>n[6]||(n[6]=[Me("Reset")])),_:1,__:[6]}),M("label",wr,"Horizontal: "+j(t.photoFormat.left)+"px",1),O(he,{type:"number",dense:"",modelValue:t.photoFormat.left,"onUpdate:modelValue":n[2]||(n[2]=o=>t.photoFormat.left=o),min:-6e3,max:440,step:1},null,8,["modelValue"]),M("label",br,"Vertical: "+j(t.photoFormat.top)+"px",1),O(he,{type:"number",dense:"",modelValue:t.photoFormat.top,"onUpdate:modelValue":n[3]||(n[3]=o=>t.photoFormat.top=o)},null,8,["modelValue"]),M("label",xr,"Scale: "+j(t.photoFormat.scale)+"px",1),O(he,{type:"number",dense:"",modelValue:t.photoFormat.scale,"onUpdate:modelValue":n[4]||(n[4]=o=>t.photoFormat.scale=o),min:0,max:1e3,step:1},null,8,["modelValue"]),O(ke,{size:"xs",onClick:n[5]||(n[5]=o=>t.displayModal=!t.displayModal)},{default:Z(()=>n[7]||(n[7]=[Me("Close")])),_:1,__:[7]})],8,Sr)],512))}}),Tr={style:{position:"relative"},ref:"clickBox"},Cr=["hidden"],Ir={for:"",style:{"font-size":"12pt"}},_r={for:"",style:{"font-size":"12pt"}},Pr={for:"",style:{"font-size":"12pt"}},He=Object.assign({name:"TextFormatter",data:function(){return{displayModal:!1,text:this.textProps,textDefault:Object.assign({},this.textProps)}},methods:{adjustLastName(){this.displayModal=!this.displayModal},reset(){this.text.font_size=this.textDefault.font_size,this.text.bottom=this.textDefault.bottom,this.text.left=this.textDefault.left,this.text.line_height!==void 0&&(this.text.line_height=this.textDefault.line_height)},handleClickOutside(e){this.$refs.clickBox&&!this.$refs.clickBox.contains(e.target)&&(this.displayModal=!1)}},mounted(){window.addEventListener("click",this.handleClickOutside)},beforeUnmount(){window.removeEventListener("click",this.handleClickOutside)}},{__name:"TextFormatter",props:{textProps:{type:Object},textFor:{type:String},customIcon:{type:String,default:"format_shapes"}},setup(e){return(t,n)=>(me(),we("div",Tr,[O(ke,{round:"",dense:"",flat:"",icon:e.customIcon,onClick:n[0]||(n[0]=o=>t.adjustLastName())},null,8,["icon"]),M("div",{class:"q-pa-md",hidden:t.displayModal==!1,style:{position:"absolute","z-index":"999","background-color":"white",width:"250px","box-shadow":"10px 10px 20px 10px","border-radius":"5px",right:"0px"}},[O(ke,{flat:"",round:"",size:"sm",style:{position:"absolute",top:"10px",right:"60px"},onClick:n[1]||(n[1]=o=>t.reset()),icon:"restart_alt"}),O(ke,{round:"",size:"sm",style:{position:"absolute",top:"10px",right:"10px"},onClick:n[2]||(n[2]=o=>t.displayModal=!t.displayModal),icon:"close"}),n[8]||(n[8]=M("div",{class:"q-mb-md"},null,-1)),e.textFor!="horizontalLine"?(me(),we(Je,{key:0},[M("label",Ir,"Font-size: "+j(t.text.font_size)+"px",1),O(he,{type:"number",modelValue:t.text.font_size,"onUpdate:modelValue":n[3]||(n[3]=o=>t.text.font_size=o),min:8,max:60,step:1},null,8,["modelValue"])],64)):ut("",!0),M("label",_r,"Vertical Position: "+j(t.text.bottom)+"px",1),O(he,{type:"number",modelValue:t.text.bottom,"onUpdate:modelValue":n[4]||(n[4]=o=>t.text.bottom=o),min:0,max:300,step:1},null,8,["modelValue"]),e.textFor=="position"||e.textFor=="department"||e.textFor=="section"?(me(),we(Je,{key:1},[M("label",Pr,"Line Height: "+j(t.text.line_height)+"px",1),O(he,{type:"number",modelValue:t.text.line_height,"onUpdate:modelValue":n[5]||(n[5]=o=>t.text.line_height=o),min:0,max:238,step:1},null,8,["modelValue"])],64)):ut("",!0),O(ke,{size:"xs",onClick:n[6]||(n[6]=o=>t.displayModal=!t.displayModal)},{default:Z(()=>n[7]||(n[7]=[Me("Close")])),_:1,__:[7]})],8,Cr)],512))}}),Ve={__name:"AutocompleteInput",props:{isDisabled:Boolean,modelValue:String,inputLabel:String,suggestions:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=t,a=Ae(n.modelValue||""),s=Ae(!1),c=Ae([]);Be(()=>n.modelValue,_=>{_!==a.value&&(a.value=_,S(_))});function h(_){a.value=_,o("update:modelValue",_),S(_)}function S(_){if(!_){c.value=[];return}const i=_.toLowerCase();c.value=n.suggestions.filter(r=>r.toLowerCase().includes(i))}function I(_){a.value=_,o("update:modelValue",_),s.value=!1}function E(){setTimeout(()=>{s.value=!1},200)}return(_,i)=>(me(),we("div",null,[O(he,{disable:e.isDisabled,modelValue:a.value,"onUpdate:modelValue":[i[0]||(i[0]=r=>a.value=r),h],label:e.inputLabel,debounce:"300",onFocus:i[1]||(i[1]=r=>s.value=!0),onBlur:E,filled:""},{append:Z(()=>[Tn(_.$slots,"append")]),_:3},8,["disable","modelValue","label"]),s.value&&c.value.length?(me(),Rt(fo,{key:0,class:"bg-white shadow-2 rounded-b",style:{"max-height":"200px",overflow:"auto"}},{default:Z(()=>[(me(!0),we(Je,null,Eo(c.value,(r,p)=>(me(),Rt(yn,{key:p,clickable:"",onMousedown:ct(l=>I(r),["prevent"])},{default:Z(()=>[O(vn,null,{default:Z(()=>[Me(j(r),1)]),_:2},1024)]),_:2},1032,["onMousedown"]))),128))]),_:1})):ut("",!0)]))}};function kr(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),o=n.createElement("base"),a=n.createElement("a");return n.head.appendChild(o),n.body.appendChild(a),t&&(o.href=t),a.href=e,a.href}const Er=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function Le(e){const t=[];for(let n=0,o=e.length;n<o;n++)t.push(e[n]);return t}let qe=null;function zn(e={}){return qe||(e.includeStyleProperties?(qe=e.includeStyleProperties,qe):(qe=Le(window.getComputedStyle(document.documentElement)),qe))}function mt(e,t){const o=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return o?parseFloat(o.replace("px","")):0}function Rr(e){const t=mt(e,"border-left-width"),n=mt(e,"border-right-width");return e.clientWidth+t+n}function Dr(e){const t=mt(e,"border-top-width"),n=mt(e,"border-bottom-width");return e.clientHeight+t+n}function jn(e,t={}){const n=t.width||Rr(e),o=t.height||Dr(e);return{width:n,height:o}}function Ur(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const Re=16384;function Mr(e){(e.width>Re||e.height>Re)&&(e.width>Re&&e.height>Re?e.width>e.height?(e.height*=Re/e.width,e.width=Re):(e.width*=Re/e.height,e.height=Re):e.width>Re?(e.height*=Re/e.width,e.width=Re):(e.width*=Re/e.height,e.height=Re))}function gt(e){return new Promise((t,n)=>{const o=new Image;o.onload=()=>{o.decode().then(()=>{requestAnimationFrame(()=>t(o))})},o.onerror=n,o.crossOrigin="anonymous",o.decoding="async",o.src=e})}async function Br(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function Fr(e,t,n){const o="http://www.w3.org/2000/svg",a=document.createElementNS(o,"svg"),s=document.createElementNS(o,"foreignObject");return a.setAttribute("width",`${t}`),a.setAttribute("height",`${n}`),a.setAttribute("viewBox",`0 0 ${t} ${n}`),s.setAttribute("width","100%"),s.setAttribute("height","100%"),s.setAttribute("x","0"),s.setAttribute("y","0"),s.setAttribute("externalResourcesRequired","true"),a.appendChild(s),s.appendChild(e),Br(a)}const Ee=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||Ee(n,t)};function Nr(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function Ar(e,t){return zn(t).map(n=>{const o=e.getPropertyValue(n),a=e.getPropertyPriority(n);return`${n}: ${o}${a?" !important":""};`}).join(" ")}function Or(e,t,n,o){const a=`.${e}:${t}`,s=n.cssText?Nr(n):Ar(n,o);return document.createTextNode(`${a}{${s}}`)}function ln(e,t,n,o){const a=window.getComputedStyle(e,n),s=a.getPropertyValue("content");if(s===""||s==="none")return;const c=Er();try{t.className=`${t.className} ${c}`}catch{return}const h=document.createElement("style");h.appendChild(Or(c,n,a,o)),t.appendChild(h)}function Lr(e,t,n){ln(e,t,":before",n),ln(e,t,":after",n)}const dn="application/font-woff",un="image/jpeg",$r={woff:dn,woff2:dn,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:un,jpeg:un,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Hr(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function Ht(e){const t=Hr(e).toLowerCase();return $r[t]||""}function Vr(e){return e.split(/,/)[1]}function Ft(e){return e.search(/^(data:)/)!==-1}function qn(e,t){return`data:${t};base64,${e}`}async function Kn(e,t,n){const o=await fetch(e,t);if(o.status===404)throw new Error(`Resource "${o.url}" not found`);const a=await o.blob();return new Promise((s,c)=>{const h=new FileReader;h.onerror=c,h.onloadend=()=>{try{s(n({res:o,result:h.result}))}catch(S){c(S)}},h.readAsDataURL(a)})}const kt={};function zr(e,t,n){let o=e.replace(/\?.*/,"");return n&&(o=e),/ttf|otf|eot|woff2?/i.test(o)&&(o=o.replace(/.*\//,"")),t?`[${t}]${o}`:o}async function Vt(e,t,n){const o=zr(e,t,n.includeQueryParams);if(kt[o]!=null)return kt[o];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let a;try{const s=await Kn(e,n.fetchRequestInit,({res:c,result:h})=>(t||(t=c.headers.get("Content-Type")||""),Vr(h)));a=qn(s,t)}catch(s){a=n.imagePlaceholder||"";let c=`Failed to fetch resource: ${e}`;s&&(c=typeof s=="string"?s:s.message),c&&console.warn(c)}return kt[o]=a,a}async function jr(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):gt(t)}async function qr(e,t){if(e.currentSrc){const s=document.createElement("canvas"),c=s.getContext("2d");s.width=e.clientWidth,s.height=e.clientHeight,c==null||c.drawImage(e,0,0,s.width,s.height);const h=s.toDataURL();return gt(h)}const n=e.poster,o=Ht(n),a=await Vt(n,o,t);return gt(a)}async function Kr(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await xt(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function Wr(e,t){return Ee(e,HTMLCanvasElement)?jr(e):Ee(e,HTMLVideoElement)?qr(e,t):Ee(e,HTMLIFrameElement)?Kr(e,t):e.cloneNode(Wn(e))}const Jr=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",Wn=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function Gr(e,t,n){var o,a;if(Wn(t))return t;let s=[];return Jr(e)&&e.assignedNodes?s=Le(e.assignedNodes()):Ee(e,HTMLIFrameElement)&&((o=e.contentDocument)===null||o===void 0?void 0:o.body)?s=Le(e.contentDocument.body.childNodes):s=Le(((a=e.shadowRoot)!==null&&a!==void 0?a:e).childNodes),s.length===0||Ee(e,HTMLVideoElement)||await s.reduce((c,h)=>c.then(()=>xt(h,n)).then(S=>{S&&t.appendChild(S)}),Promise.resolve()),t}function Qr(e,t,n){const o=t.style;if(!o)return;const a=window.getComputedStyle(e);a.cssText?(o.cssText=a.cssText,o.transformOrigin=a.transformOrigin):zn(n).forEach(s=>{let c=a.getPropertyValue(s);s==="font-size"&&c.endsWith("px")&&(c=`${Math.floor(parseFloat(c.substring(0,c.length-2)))-.1}px`),Ee(e,HTMLIFrameElement)&&s==="display"&&c==="inline"&&(c="block"),s==="d"&&t.getAttribute("d")&&(c=`path(${t.getAttribute("d")})`),o.setProperty(s,c,a.getPropertyPriority(s))})}function Yr(e,t){Ee(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),Ee(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function Xr(e,t){if(Ee(e,HTMLSelectElement)){const n=t,o=Array.from(n.children).find(a=>e.value===a.getAttribute("value"));o&&o.setAttribute("selected","")}}function Zr(e,t,n){return Ee(t,Element)&&(Qr(e,t,n),Lr(e,t,n),Yr(e,t),Xr(e,t)),t}async function ea(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const o={};for(let s=0;s<n.length;s++){const h=n[s].getAttribute("xlink:href");if(h){const S=e.querySelector(h),I=document.querySelector(h);!S&&I&&!o[h]&&(o[h]=await xt(I,t,!0))}}const a=Object.values(o);if(a.length){const s="http://www.w3.org/1999/xhtml",c=document.createElementNS(s,"svg");c.setAttribute("xmlns",s),c.style.position="absolute",c.style.width="0",c.style.height="0",c.style.overflow="hidden",c.style.display="none";const h=document.createElementNS(s,"defs");c.appendChild(h);for(let S=0;S<a.length;S++)h.appendChild(a[S]);e.appendChild(c)}return e}async function xt(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(o=>Wr(o,t)).then(o=>Gr(e,o,t)).then(o=>Zr(e,o,t)).then(o=>ea(o,t))}const Jn=/url\((['"]?)([^'"]+?)\1\)/g,ta=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,na=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function oa(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function ia(e){const t=[];return e.replace(Jn,(n,o,a)=>(t.push(a),n)),t.filter(n=>!Ft(n))}async function ra(e,t,n,o,a){try{const s=n?kr(t,n):t,c=Ht(t);let h;if(a){const S=await a(s);h=qn(S,c)}else h=await Vt(s,c,o);return e.replace(oa(t),`$1${h}$3`)}catch{}return e}function aa(e,{preferredFontFormat:t}){return t?e.replace(na,n=>{for(;;){const[o,,a]=ta.exec(n)||[];if(!a)return"";if(a===t)return`src: ${o};`}}):e}function Gn(e){return e.search(Jn)!==-1}async function Qn(e,t,n){if(!Gn(e))return e;const o=aa(e,n);return ia(o).reduce((s,c)=>s.then(h=>ra(h,c,t,n)),Promise.resolve(o))}async function Ke(e,t,n){var o;const a=(o=t.style)===null||o===void 0?void 0:o.getPropertyValue(e);if(a){const s=await Qn(a,null,n);return t.style.setProperty(e,s,t.style.getPropertyPriority(e)),!0}return!1}async function sa(e,t){await Ke("background",e,t)||await Ke("background-image",e,t),await Ke("mask",e,t)||await Ke("-webkit-mask",e,t)||await Ke("mask-image",e,t)||await Ke("-webkit-mask-image",e,t)}async function la(e,t){const n=Ee(e,HTMLImageElement);if(!(n&&!Ft(e.src))&&!(Ee(e,SVGImageElement)&&!Ft(e.href.baseVal)))return;const o=n?e.src:e.href.baseVal,a=await Vt(o,Ht(o),t);await new Promise((s,c)=>{e.onload=s,e.onerror=t.onImageErrorHandler?(...S)=>{try{s(t.onImageErrorHandler(...S))}catch(I){c(I)}}:c;const h=e;h.decode&&(h.decode=s),h.loading==="lazy"&&(h.loading="eager"),n?(e.srcset="",e.src=a):e.href.baseVal=a})}async function da(e,t){const o=Le(e.childNodes).map(a=>Yn(a,t));await Promise.all(o).then(()=>e)}async function Yn(e,t){Ee(e,Element)&&(await sa(e,t),await la(e,t),await da(e,t))}function ua(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const o=t.style;return o!=null&&Object.keys(o).forEach(a=>{n[a]=o[a]}),e}const cn={};async function fn(e){let t=cn[e];if(t!=null)return t;const o=await(await fetch(e)).text();return t={url:e,cssText:o},cn[e]=t,t}async function pn(e,t){let n=e.cssText;const o=/url\(["']?([^"')]+)["']?\)/g,s=(n.match(/url\([^)]+\)/g)||[]).map(async c=>{let h=c.replace(o,"$1");return h.startsWith("https://")||(h=new URL(h,e.url).href),Kn(h,t.fetchRequestInit,({result:S})=>(n=n.replace(c,`url(${S})`),[c,S]))});return Promise.all(s).then(()=>n)}function hn(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let o=e.replace(n,"");const a=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const S=a.exec(o);if(S===null)break;t.push(S[0])}o=o.replace(a,"");const s=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,c="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",h=new RegExp(c,"gi");for(;;){let S=s.exec(o);if(S===null){if(S=h.exec(o),S===null)break;s.lastIndex=h.lastIndex}else h.lastIndex=s.lastIndex;t.push(S[0])}return t}async function ca(e,t){const n=[],o=[];return e.forEach(a=>{if("cssRules"in a)try{Le(a.cssRules||[]).forEach((s,c)=>{if(s.type===CSSRule.IMPORT_RULE){let h=c+1;const S=s.href,I=fn(S).then(E=>pn(E,t)).then(E=>hn(E).forEach(_=>{try{a.insertRule(_,_.startsWith("@import")?h+=1:a.cssRules.length)}catch(i){console.error("Error inserting rule from remote css",{rule:_,error:i})}})).catch(E=>{console.error("Error loading remote css",E.toString())});o.push(I)}})}catch(s){const c=e.find(h=>h.href==null)||document.styleSheets[0];a.href!=null&&o.push(fn(a.href).then(h=>pn(h,t)).then(h=>hn(h).forEach(S=>{c.insertRule(S,c.cssRules.length)})).catch(h=>{console.error("Error loading remote stylesheet",h)})),console.error("Error inlining remote css file",s)}}),Promise.all(o).then(()=>(e.forEach(a=>{if("cssRules"in a)try{Le(a.cssRules||[]).forEach(s=>{n.push(s)})}catch(s){console.error(`Error while reading CSS rules from ${a.href}`,s)}}),n))}function fa(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>Gn(t.style.getPropertyValue("src")))}async function pa(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Le(e.ownerDocument.styleSheets),o=await ca(n,t);return fa(o)}function Xn(e){return e.trim().replace(/["']/g,"")}function ha(e){const t=new Set;function n(o){(o.style.fontFamily||getComputedStyle(o).fontFamily).split(",").forEach(s=>{t.add(Xn(s))}),Array.from(o.children).forEach(s=>{s instanceof HTMLElement&&n(s)})}return n(e),t}async function ma(e,t){const n=await pa(e,t),o=ha(e);return(await Promise.all(n.filter(s=>o.has(Xn(s.style.fontFamily))).map(s=>{const c=s.parentStyleSheet?s.parentStyleSheet.href:null;return Qn(s.cssText,c,t)}))).join(`
`)}async function ga(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await ma(e,t);if(n){const o=document.createElement("style"),a=document.createTextNode(n);o.appendChild(a),e.firstChild?e.insertBefore(o,e.firstChild):e.appendChild(o)}}async function ya(e,t={}){const{width:n,height:o}=jn(e,t),a=await xt(e,t,!0);return await ga(a,t),await Yn(a,t),ua(a,t),await Fr(a,n,o)}async function va(e,t={}){const{width:n,height:o}=jn(e,t),a=await ya(e,t),s=await gt(a),c=document.createElement("canvas"),h=c.getContext("2d"),S=t.pixelRatio||Ur(),I=t.canvasWidth||n,E=t.canvasHeight||o;return c.width=I*S,c.height=E*S,t.skipAutoScale||Mr(c),c.style.width=`${I}`,c.style.height=`${E}`,t.backgroundColor&&(h.fillStyle=t.backgroundColor,h.fillRect(0,0,c.width,c.height)),h.drawImage(s,0,0,c.width,c.height),c}async function We(e,t={}){return(await va(e,t)).toDataURL("image/jpeg",t.quality||1)}const Sa={class:"row",style:{position:"inherit"}},wa={class:"col-6",style:{}},ba={class:"flex justify-left; q-mb-md"},xa={class:"q-px-md"},Ta={class:"row justify-end"},Ca={class:"col-10"},Ia={class:"row"},_a={class:"row"},Pa={class:"col"},ka={class:"col q-ml-sm"},Ea={class:"row"},Ra={class:"row"},Da={class:"row"},Ua={class:"row"},Ma={class:"col"},Ba={class:"col q-ml-sm"},Fa={id:"cardFrontAndBack",class:"flex",style:{position:"relative"}},Na={class:"flex flex-center"},Ha=Object.assign({name:"IndexPage",components:{IdCardFront:Gt,IdCardFrontV2:Qt,IdCardBack:en,IdCardBackV2:tn,PhotoGetter:an,PhotoAdjuster:sn,TextFormatter:He,AutocompleteInput:Ve},data:function(){return{id:null,id:null,showLoading:!1,departmentOptions:[],sectionOptions:[],addressOptions:[],$q:Lo(),photoFormat:{top:3,left:17,scale:84},textFormat:{position:{font_size:17,bottom:102,left:40,line_height:20},horizontalLine:{bottom:100,left:40},section:{font_size:18,bottom:80,left:40,line_height:20},department:{font_size:18,bottom:58,left:40,line_height:66},lastName:{font_size:40,bottom:140,left:40},firstName:{font_size:24,bottom:124,left:40}},selected_employee_input:null,selected_employee_data:{empno:null,lastName:null,firstName:null,middleName:null,extName:null,position:null,position_function:null,address:null},selected_employee_image_data:null,employees:[],selections:this.employees,timestamp:0}},methods:{saveImageCaptured(e){this.timestamp=new Date().valueOf()},savePendata(e){this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{savePendata:!0,m_penData:e,employees_id:this.selected_employee_data.employees_id}).then(({data:t})=>{}).catch(t=>{console.error(t)})},adjustLastName(){},downloadAsPdf(){var e=document.getElementById("IdCardFront"),t=document.getElementById("IdCardBack");We(e,{quality:1}).then(n=>{this.$api.post("http://192.168.50.50:8081/id_card_upload.php",{employees_id:this.selected_employee_data.employees_id,side:"front",image:n},{headers:{"Content-Type":"multipart/form-data"}}).then(()=>{We(t,{quality:1}).then(o=>{this.$api.post("http://192.168.50.50:8081/id_card_upload.php",{employees_id:this.selected_employee_data.employees_id,side:"back",image:o},{headers:{"Content-Type":"multipart/form-data"}}).then(()=>{var a=document.createElement("a");a.href="http://192.168.50.50:8081/id_card_print_pdf.php?employee_id="+this.selected_employee_data.employees_id,a.click()})})})})},async setImageData(){var e=document.getElementById("IdCardFrontV2"),t=document.getElementById("IdCardBackV2"),n="",o="";await We(e,{quality:1}).then(a=>{n=a}),await We(t,{quality:1}).then(a=>{o=a}),this.selected_employee_image_data={frontDataUrl:n,backDataUrl:o}},downloadImage(){var e=document.getElementById("IdCardFrontV2"),t=document.getElementById("IdCardBackV2");We(e,{quality:1}).then(n=>{var o=document.createElement("a");o.download=this.selected_employee_data.lastName+"_"+this.selected_employee_data.empno+"_FRONT.jpeg",o.href=n,o.click()}),We(t,{quality:1}).then(n=>{var o=document.createElement("a");o.download=this.selected_employee_data.lastName+"_"+this.selected_employee_data.empno+"_BACK.jpeg",o.href=n,o.click()}),this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{tagAsPrinted:!0,selected_employee_data:this.selected_employee_data}).catch(n=>{console.error(n)})},onClearForm(){this.$router.push({path:"/"}).then(()=>{window.location.reload()})},async onSubmit(){await this.setImageData(),this.showLoading=!0,this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{saveEmployeeData:!0,selected_employee_data:this.selected_employee_data,selected_employee_image_data:this.selected_employee_image_data,textFormat:this.textFormat,photoFormat:this.photoFormat}).then(({data:e})=>{this.saveNotify(),this.getEmployeeData(),setTimeout(()=>{this.showLoading=!1},1e3)})},onReset(){},async getEmployeeData(){!this.selected_employee_input||await this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{getEmployeeData:!0,employeeId:this.selected_employee_input.value}).then(({data:e})=>{var t,n,o,a,s,c,h,S,I,E,_,i,r,p,l,d,v,y,w,P,B,$,V,L,F,m,A,N,q,U,G,Y,J,Se,ge,ne,oe,D,ee,ce,re,se,ye,Te,ve,be,Ue,x;this.selected_employee_data=e,e.text_formatting&&(this.textFormat.position.font_size=(o=(n=(t=e==null?void 0:e.text_formatting)==null?void 0:t.position)==null?void 0:n.font_size)!=null?o:this.textFormat.position.font_size,this.textFormat.position.bottom=(c=(s=(a=e==null?void 0:e.text_formatting)==null?void 0:a.position)==null?void 0:s.bottom)!=null?c:this.textFormat.position.bottom,this.textFormat.position.line_height=(I=(S=(h=e==null?void 0:e.text_formatting)==null?void 0:h.position)==null?void 0:S.line_height)!=null?I:this.textFormat.position.line_height,this.textFormat.horizontalLine.bottom=(i=(_=(E=e==null?void 0:e.text_formatting)==null?void 0:E.horizontalLine)==null?void 0:_.bottom)!=null?i:this.textFormat.horizontalLine.bottom,this.textFormat.department.font_size=(l=(p=(r=e==null?void 0:e.text_formatting)==null?void 0:r.department)==null?void 0:p.font_size)!=null?l:this.textFormat.department.font_size,this.textFormat.department.bottom=(y=(v=(d=e==null?void 0:e.text_formatting)==null?void 0:d.department)==null?void 0:v.bottom)!=null?y:this.textFormat.department.bottom,this.textFormat.department.line_height=(B=(P=(w=e==null?void 0:e.text_formatting)==null?void 0:w.department)==null?void 0:P.line_height)!=null?B:this.textFormat.department.line_height,this.textFormat.section.font_size=(L=(V=($=e==null?void 0:e.text_formatting)==null?void 0:$.section)==null?void 0:V.font_size)!=null?L:this.textFormat.section.font_size,this.textFormat.section.bottom=(A=(m=(F=e==null?void 0:e.text_formatting)==null?void 0:F.section)==null?void 0:m.bottom)!=null?A:this.textFormat.section.bottom,this.textFormat.section.line_height=(U=(q=(N=e==null?void 0:e.text_formatting)==null?void 0:N.section)==null?void 0:q.line_height)!=null?U:this.textFormat.section.line_height,this.textFormat.lastName.font_size=(J=(Y=(G=e==null?void 0:e.text_formatting)==null?void 0:G.lastName)==null?void 0:Y.font_size)!=null?J:this.textFormat.lastName.font_size,this.textFormat.lastName.bottom=(ne=(ge=(Se=e==null?void 0:e.text_formatting)==null?void 0:Se.lastName)==null?void 0:ge.bottom)!=null?ne:this.textFormat.lastName.bottom,this.textFormat.firstName.font_size=(ee=(D=(oe=e==null?void 0:e.text_formatting)==null?void 0:oe.firstName)==null?void 0:D.font_size)!=null?ee:this.textFormat.firstName.font_size,this.textFormat.firstName.bottom=(se=(re=(ce=e==null?void 0:e.text_formatting)==null?void 0:ce.firstName)==null?void 0:re.bottom)!=null?se:this.textFormat.firstName.bottom),e.photo_formatting&&(this.photoFormat.top=(Te=(ye=e==null?void 0:e.photo_formatting)==null?void 0:ye.top)!=null?Te:this.photoFormat.top,this.photoFormat.left=(be=(ve=e==null?void 0:e.photo_formatting)==null?void 0:ve.left)!=null?be:this.photoFormat.left,this.photoFormat.scale=(x=(Ue=e==null?void 0:e.photo_formatting)==null?void 0:Ue.scale)!=null?x:this.photoFormat.scale)}).catch(e=>{console.error(e)})},saveNotify(){this.$q.notify({message:"Saved changes!",color:"green",icon:"save"})},filterFn(e,t){if(e===""){t(()=>{this.selections=this.employees});return}t(()=>{const n=e.toLowerCase();this.selections=this.employees.filter(o=>o.label.toLowerCase().indexOf(n)>-1)})},async getOfficeNamesForAutocomplete(){await this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{getOfficeNamesForAutocomplete:"true"}).then(({data:e})=>{this.departmentOptions=e.departments,this.sectionOptions=e.sections})},async getAddressesForAutocomplete(){await this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{getAddressesForAutocomplete:"true"}).then(({data:e})=>{this.addressOptions=e})}},watch:{selected_employee_input(e){this.$router.push({path:`/${e.value}`})}},async created(){this.id=this.$route.params.id,this.id=this.$route.params.id,await this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{getEmployeeList:"true"}).then(({data:e})=>{if(this.employees=e,this.id){const t=this.employees.find(n=>n.value==this.id);this.selected_employee_input=t,this.getEmployeeData()}}).catch(e=>{console.error(e)}),await this.getOfficeNamesForAutocomplete(),await this.getAddressesForAutocomplete()},mounted(){this.getEmployeeData()}},{__name:"IndexPage",setup(e){return(t,n)=>(me(),Rt(Do,{class:"q-pa-md",style:{position:"relative"}},{default:Z(()=>[M("div",null,[M("div",Sa,[M("div",wa,[O(Et,{clearable:"",class:"q-mb-md",filled:"",modelValue:t.selected_employee_input,"onUpdate:modelValue":[n[0]||(n[0]=o=>t.selected_employee_input=o),n[2]||(n[2]=o=>t.getEmployeeData())],"use-input":"","input-debounce":"0",label:"Select Employee",options:t.selections,"option-value":"value","option-label":"label",onFilter:t.filterFn,onClear:n[1]||(n[1]=o=>t.onClearForm()),behavior:"menu"},{"no-option":Z(()=>[O(yn,null,{default:Z(()=>[O(vn,{class:"text-grey"},{default:Z(()=>n[26]||(n[26]=[Me(" No results ")])),_:1,__:[26]})]),_:1})]),_:1},8,["modelValue","options","onFilter"]),M("div",ba,[O(ke,{label:"Dashboard",to:"dashboard"}),M("div",xa,[O(an,{onImageCaptured:t.saveImageCaptured,selected_employee_data:t.selected_employee_data},{buttons:Z(()=>[O(sn,{photoProps:t.photoFormat,selected_employee_data:t.selected_employee_data},null,8,["photoProps","selected_employee_data"])]),_:1},8,["onImageCaptured","selected_employee_data"])])]),M("div",Ta,[M("div",Ca,[O(No,{onSubmit:ct(t.onSubmit,["prevent"]),onReset:t.onReset,class:"q-gutter-sm_"},{default:Z(()=>[O(he,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.empno,"onUpdate:modelValue":n[3]||(n[3]=o=>t.selected_employee_data.empno=o),label:"ID Number *",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"Please enter the ID number"]},null,8,["disable","modelValue","rules"]),M("div",Ia,[O(he,{disable:!t.selected_employee_input,class:"col",dense:"",filled:"",modelValue:t.selected_employee_data.lastName,"onUpdate:modelValue":n[4]||(n[4]=o=>t.selected_employee_data.lastName=o),label:"Last Name",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Last Name should not be empty!"]},{append:Z(()=>[O(He,{textProps:t.textFormat.lastName,textFor:"lastName"},null,8,["textProps"])]),_:1},8,["disable","modelValue","rules"]),O(he,{disable:!t.selected_employee_input,class:"col q-ml-sm",dense:"",filled:"",modelValue:t.selected_employee_data.firstName,"onUpdate:modelValue":n[5]||(n[5]=o=>t.selected_employee_data.firstName=o),label:"First Name",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* First Name should not be empty!"]},{append:Z(()=>[O(He,{textProps:t.textFormat.firstName,textFor:"firstName"},null,8,["textProps"])]),_:1},8,["disable","modelValue","rules"])]),M("div",_a,[M("div",Pa,[O(he,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.middleName,"onUpdate:modelValue":n[6]||(n[6]=o=>t.selected_employee_data.middleName=o),label:"Middle Name",hint:""},null,8,["disable","modelValue"])]),M("div",ka,[O(he,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.extName,"onUpdate:modelValue":n[7]||(n[7]=o=>t.selected_employee_data.extName=o),label:"Name Extension"},null,8,["disable","modelValue"])])]),O(he,{disable:!t.selected_employee_input,class:"col",dense:"",filled:"",modelValue:t.selected_employee_data.position,"onUpdate:modelValue":n[8]||(n[8]=o=>t.selected_employee_data.position=o),label:"Position",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Position should not be empty!"],type:"textarea",autogrow:"",onKeyup:n[9]||(n[9]=Ro(ct(()=>{},["prevent"]),["enter"]))},{append:Z(()=>[O(He,{textProps:t.textFormat.position,textFor:"position"},null,8,["textProps"]),O(He,{textProps:t.textFormat.horizontalLine,textFor:"horizontalLine",customIcon:"vertical_align_center"},null,8,["textProps"])]),_:1},8,["disable","modelValue","rules"]),O(Ve,{isDisabled:!t.selected_employee_input,"input-label":"Section",modelValue:t.selected_employee_data.section,"onUpdate:modelValue":n[10]||(n[10]=o=>t.selected_employee_data.section=o),suggestions:t.sectionOptions},{append:Z(()=>[O(He,{textProps:t.textFormat.section,textFor:"section"},null,8,["textProps"])]),_:1},8,["isDisabled","modelValue","suggestions"]),O(Ve,{isDisabled:!t.selected_employee_input,"input-label":"Department",modelValue:t.selected_employee_data.department,"onUpdate:modelValue":n[11]||(n[11]=o=>t.selected_employee_data.department=o),suggestions:t.departmentOptions},{append:Z(()=>[O(He,{textProps:t.textFormat.department,textFor:"department"},null,8,["textProps"])]),_:1},8,["isDisabled","modelValue","suggestions"]),O(Ve,{isDisabled:!t.selected_employee_input,"input-label":"Barangay",modelValue:t.selected_employee_data.address_res_barangay,"onUpdate:modelValue":n[12]||(n[12]=o=>t.selected_employee_data.address_res_barangay=o),suggestions:t.addressOptions.res_barangays},null,8,["isDisabled","modelValue","suggestions"]),M("div",Ea,[O(Ve,{class:"col q-mr-sm",isDisabled:!t.selected_employee_input,"input-label":"City/Municipality",modelValue:t.selected_employee_data.address_res_city,"onUpdate:modelValue":n[13]||(n[13]=o=>t.selected_employee_data.address_res_city=o),suggestions:t.addressOptions.res_citys},null,8,["isDisabled","modelValue","suggestions"]),O(Ve,{class:"col q-mr-sm",isDisabled:!t.selected_employee_input,"input-label":"Zipcode",modelValue:t.selected_employee_data.address_res_zip_code,"onUpdate:modelValue":n[14]||(n[14]=o=>t.selected_employee_data.address_res_zip_code=o),suggestions:t.addressOptions.res_zip_codes},null,8,["isDisabled","modelValue","suggestions"])]),O(Ve,{class:"col q-mr-sm",isDisabled:!t.selected_employee_input,"input-label":"Province",modelValue:t.selected_employee_data.address_res_province,"onUpdate:modelValue":n[15]||(n[15]=o=>t.selected_employee_data.address_res_province=o),suggestions:t.addressOptions.res_provinces},null,8,["isDisabled","modelValue","suggestions"]),M("div",Ra,[O(Et,{disable:!t.selected_employee_input,class:"col",dense:"",outlined:"",modelValue:t.selected_employee_data.gender,"onUpdate:modelValue":n[16]||(n[16]=o=>t.selected_employee_data.gender=o),options:["MALE","FEMALE"],label:"Gender"},null,8,["disable","modelValue"]),O(he,{disable:!t.selected_employee_input,class:"col q-ml-sm",dense:"",filled:"",modelValue:t.selected_employee_data.birthdate,"onUpdate:modelValue":n[17]||(n[17]=o=>t.selected_employee_data.birthdate=o),label:"Birthdate",type:"date"},null,8,["disable","modelValue"])]),M("div",Da,[O(he,{disable:!t.selected_employee_input,class:"col",dense:"",filled:"",modelValue:t.selected_employee_data.blood_type,"onUpdate:modelValue":n[18]||(n[18]=o=>t.selected_employee_data.blood_type=o),label:"Blood Type",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"]),O(he,{disable:!t.selected_employee_input,class:"col q-ml-sm",dense:"",filled:"",modelValue:t.selected_employee_data.contact_number,"onUpdate:modelValue":n[19]||(n[19]=o=>t.selected_employee_data.contact_number=o),label:"Contact Number",hint:""},null,8,["disable","modelValue"])]),O(he,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.emergency_name,"onUpdate:modelValue":n[20]||(n[20]=o=>t.selected_employee_data.emergency_name=o),label:"Emergency Contact Person",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"]),O(he,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.emergency_number,"onUpdate:modelValue":n[21]||(n[21]=o=>t.selected_employee_data.emergency_number=o),label:"Emergency Contact Number",hint:""},null,8,["disable","modelValue"]),M("div",Ua,[M("div",Ma,[O(he,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.date_issued,"onUpdate:modelValue":n[22]||(n[22]=o=>t.selected_employee_data.date_issued=o),label:"Date Issued",type:"date"},null,8,["disable","modelValue"])]),M("div",Ba,[O(he,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.date_expire,"onUpdate:modelValue":n[23]||(n[23]=o=>t.selected_employee_data.date_expire=o),label:"Valid Until",type:"date"},null,8,["disable","modelValue"])])]),n[28]||(n[28]=M("div",{class:"q-mt-sm"},null,-1)),O(ke,{disable:!t.selected_employee_input,class:"q-mr-sm",type:"submit"},{default:Z(()=>n[27]||(n[27]=[Me("Save")])),_:1,__:[27]},8,["disable"]),O(ke,{disable:!t.selected_employee_input,label:"Download",onClick:n[24]||(n[24]=o=>t.downloadImage())},null,8,["disable"])]),_:1,__:[28]},8,["onSubmit","onReset"])])])]),M("div",Fa,[O(Gt,{style:{transform:"scale(0.5)",position:"absolute"},details:t.selected_employee_data,timestamp:t.timestamp,textFormat:t.textFormat,photoFormat:t.photoFormat},null,8,["details","timestamp","textFormat","photoFormat"]),O(en,{details:t.selected_employee_data,onOnPenDataSave:t.savePendata},null,8,["details","onOnPenDataSave"])])]),n[29]||(n[29]=M("div",{style:{"margin-bottom":"10px",width:"100%",height:"100px","background-color":"green",color:"wheat","text-align":"center"}},[M("h1",null,"PRE-RENDERED")],-1)),M("div",Na,[O(Qt,{details:t.selected_employee_data,timestamp:t.timestamp,textFormat:t.textFormat,photoFormat:t.photoFormat},null,8,["details","timestamp","textFormat","photoFormat"]),O(tn,{details:t.selected_employee_data,onOnPenDataSave:t.savePendata},null,8,["details","onOnPenDataSave"])])]),O(ot,{modelValue:t.showLoading,"onUpdate:modelValue":n[25]||(n[25]=o=>t.showLoading=o),persistent:""},{default:Z(()=>[O(it,{class:"q-pa-md flex flex-center",style:{}},{default:Z(()=>[O(Oo,{size:"50",color:"green"}),n[30]||(n[30]=M("div",{class:"q-ml-lg"}," Saving please wait...",-1))]),_:1,__:[30]})]),_:1},8,["modelValue"])]),_:1}))}});export{Ha as default};
