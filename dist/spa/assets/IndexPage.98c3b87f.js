import{u as vn,f as Sn,Q as wn,d as bn}from"./QItem.d235fa2f.js";import{u as no,a as oo,b as io,c as ro,d as ao,e as so,f as xn,g as Kt,h as lo,Q as at,i as uo,j as co,k as Ut,l as fo}from"./QList.020f4ded.js";import{r as Oe,w as Me,d as Ke,M as po,j as Se,c as We,a as mo,o as Tn,h as Fe,N as ho,g as wt,O as Wt,p as go,P as yo,R as vo,q as dt,S as So,L as Jt,T as wo,U as bo,V as xo,e as To,W as Co,x as ye,X as ke,F as M,D as j,Y as xe,A as O,C as De,B as pt,z as Z,Z as Cn,_ as In,$ as Ye,a0 as Io,a1 as _o,a2 as Po,K as ko,a3 as mt,a4 as Te,a5 as _n,a6 as Gt,y as Mt,a7 as Eo,a8 as Ro}from"./index.c8458a18.js";import{Q as Do}from"./QPage.d180e7f1.js";const Qt={date:"####/##/##",datetime:"####/##/## ##:##",time:"##:##",fulltime:"##:##:##",phone:"(###) ### - ####",card:"#### #### #### ####"},ht={"#":{pattern:"[\\d]",negate:"[^\\d]"},S:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]"},N:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]"},A:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleUpperCase()},a:{pattern:"[a-zA-Z]",negate:"[^a-zA-Z]",transform:e=>e.toLocaleLowerCase()},X:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleUpperCase()},x:{pattern:"[0-9a-zA-Z]",negate:"[^0-9a-zA-Z]",transform:e=>e.toLocaleLowerCase()}},Pn=Object.keys(ht);Pn.forEach(e=>{ht[e].regex=new RegExp(ht[e].pattern)});const Uo=new RegExp("\\\\([^.*+?^${}()|([\\]])|([.*+?^${}()|[\\]])|(["+Pn.join("")+"])|(.)","g"),Yt=/[.*+?^${}()|[\]\\]/g,pe=String.fromCharCode(1),Mo={mask:String,reverseFillMask:Boolean,fillMask:[Boolean,String],unmaskedValue:Boolean};function Bo(e,t,n,o){let r,a,f,m,S,_;const D=Oe(null),N=Oe(i());function s(){return e.autogrow===!0||["textarea","text","search","url","tel","password"].includes(e.type)}Me(()=>e.type+e.autogrow,l),Me(()=>e.mask,E=>{if(E!==void 0)p(N.value,!0);else{const g=V(N.value);l(),e.modelValue!==g&&t("update:modelValue",g)}}),Me(()=>e.fillMask+e.reverseFillMask,()=>{D.value===!0&&p(N.value,!0)}),Me(()=>e.unmaskedValue,()=>{D.value===!0&&p(N.value)});function i(){if(l(),D.value===!0){const E=B(V(e.modelValue));return e.fillMask!==!1?W(E):E}return e.modelValue}function c(E){if(E<r.length)return r.slice(-E);let g="",P=r;const A=P.indexOf(pe);if(A!==-1){for(let z=E-P.length;z>0;z--)g+=pe;P=P.slice(0,A)+g+P.slice(A)}return P}function l(){if(D.value=e.mask!==void 0&&e.mask.length!==0&&s(),D.value===!1){m=void 0,r="",a="";return}const E=Qt[e.mask]===void 0?e.mask:Qt[e.mask],g=typeof e.fillMask=="string"&&e.fillMask.length!==0?e.fillMask.slice(0,1):"_",P=g.replace(Yt,"\\$&"),A=[],z=[],k=[];let J=e.reverseFillMask===!0,Y="",G="";E.replace(Uo,(oe,F,ee,fe,ae)=>{if(fe!==void 0){const re=ht[fe];k.push(re),G=re.negate,J===!0&&(z.push("(?:"+G+"+)?("+re.pattern+"+)?(?:"+G+"+)?("+re.pattern+"+)?"),J=!1),z.push("(?:"+G+"+)?("+re.pattern+")?")}else if(ee!==void 0)Y="\\"+(ee==="\\"?"":ee),k.push(ee),A.push("([^"+Y+"]+)?"+Y+"?");else{const re=F!==void 0?F:ae;Y=re==="\\"?"\\\\\\\\":re.replace(Yt,"\\\\$&"),k.push(re),A.push("([^"+Y+"]+)?"+Y+"?")}});const he=new RegExp("^"+A.join("")+"("+(Y===""?".":"[^"+Y+"]")+"+)?"+(Y===""?"":"["+Y+"]*")+"$"),de=z.length-1,ne=z.map((oe,F)=>F===0&&e.reverseFillMask===!0?new RegExp("^"+P+"*"+oe):F===de?new RegExp("^"+oe+"("+(G===""?".":G)+"+)?"+(e.reverseFillMask===!0?"$":P+"*")):new RegExp("^"+oe));f=k,m=oe=>{const F=he.exec(e.reverseFillMask===!0?oe:oe.slice(0,k.length+1));F!==null&&(oe=F.slice(1).join(""));const ee=[],fe=ne.length;for(let ae=0,re=oe;ae<fe;ae++){const ge=ne[ae].exec(re);if(ge===null)break;re=re.slice(ge.shift().length),ee.push(...ge)}return ee.length!==0?ee.join(""):oe},r=k.map(oe=>typeof oe=="string"?oe:pe).join(""),a=r.split(pe).join(g)}function p(E,g,P){const A=o.value,z=A.selectionEnd,k=A.value.length-z,J=V(E);g===!0&&l();const Y=B(J),G=e.fillMask!==!1?W(Y):Y,he=N.value!==G;A.value!==G&&(A.value=G),he===!0&&(N.value=G),document.activeElement===A&&Ke(()=>{if(G===a){const ne=e.reverseFillMask===!0?a.length:0;A.setSelectionRange(ne,ne,"forward");return}if(P==="insertFromPaste"&&e.reverseFillMask!==!0){const ne=A.selectionEnd;let oe=z-1;for(let F=S;F<=oe&&F<ne;F++)r[F]!==pe&&oe++;h.right(A,oe);return}if(["deleteContentBackward","deleteContentForward"].indexOf(P)!==-1){const ne=e.reverseFillMask===!0?z===0?G.length>Y.length?1:0:Math.max(0,G.length-(G===a?0:Math.min(Y.length,k)+1))+1:z;A.setSelectionRange(ne,ne,"forward");return}if(e.reverseFillMask===!0)if(he===!0){const ne=Math.max(0,G.length-(G===a?0:Math.min(Y.length,k+1)));ne===1&&z===1?A.setSelectionRange(ne,ne,"forward"):h.rightReverse(A,ne)}else{const ne=G.length-k;A.setSelectionRange(ne,ne,"backward")}else if(he===!0){const ne=Math.max(0,r.indexOf(pe),Math.min(Y.length,z)-1);h.right(A,ne)}else{const ne=z-1;h.right(A,ne)}});const de=e.unmaskedValue===!0?V(G):G;String(e.modelValue)!==de&&(e.modelValue!==null||de!=="")&&n(de,!0)}function v(E,g,P){const A=B(V(E.value));g=Math.max(0,r.indexOf(pe),Math.min(A.length,g)),S=g,E.setSelectionRange(g,P,"forward")}const h={left(E,g){const P=r.slice(g-1).indexOf(pe)===-1;let A=Math.max(0,g-1);for(;A>=0;A--)if(r[A]===pe){g=A,P===!0&&g++;break}if(A<0&&r[g]!==void 0&&r[g]!==pe)return h.right(E,0);g>=0&&E.setSelectionRange(g,g,"backward")},right(E,g){const P=E.value.length;let A=Math.min(P,g+1);for(;A<=P;A++)if(r[A]===pe){g=A;break}else r[A-1]===pe&&(g=A);if(A>P&&r[g-1]!==void 0&&r[g-1]!==pe)return h.left(E,P);E.setSelectionRange(g,g,"forward")},leftReverse(E,g){const P=c(E.value.length);let A=Math.max(0,g-1);for(;A>=0;A--)if(P[A-1]===pe){g=A;break}else if(P[A]===pe&&(g=A,A===0))break;if(A<0&&P[g]!==void 0&&P[g]!==pe)return h.rightReverse(E,0);g>=0&&E.setSelectionRange(g,g,"backward")},rightReverse(E,g){const P=E.value.length,A=c(P),z=A.slice(0,g+1).indexOf(pe)===-1;let k=Math.min(P,g+1);for(;k<=P;k++)if(A[k-1]===pe){g=k,g>0&&z===!0&&g--;break}if(k>P&&A[g-1]!==void 0&&A[g-1]!==pe)return h.leftReverse(E,P);E.setSelectionRange(g,g,"forward")}};function T(E){t("click",E),_=void 0}function C(E){if(t("keydown",E),po(E)===!0||E.altKey===!0)return;const g=o.value,P=g.selectionStart,A=g.selectionEnd;if(E.shiftKey||(_=void 0),E.keyCode===37||E.keyCode===39){E.shiftKey&&_===void 0&&(_=g.selectionDirection==="forward"?P:A);const z=h[(E.keyCode===39?"right":"left")+(e.reverseFillMask===!0?"Reverse":"")];if(E.preventDefault(),z(g,_===P?A:P),E.shiftKey){const k=g.selectionStart;g.setSelectionRange(Math.min(_,k),Math.max(_,k),"forward")}}else E.keyCode===8&&e.reverseFillMask!==!0&&P===A?(h.left(g,P),g.setSelectionRange(g.selectionStart,A,"backward")):E.keyCode===46&&e.reverseFillMask===!0&&P===A&&(h.rightReverse(g,A),g.setSelectionRange(P,g.selectionEnd,"forward"))}function B(E){if(E==null||E==="")return"";if(e.reverseFillMask===!0)return $(E);const g=f;let P=0,A="";for(let z=0;z<g.length;z++){const k=E[P],J=g[z];if(typeof J=="string")A+=J,k===J&&P++;else if(k!==void 0&&J.regex.test(k))A+=J.transform!==void 0?J.transform(k):k,P++;else return A}return A}function $(E){const g=f,P=r.indexOf(pe);let A=E.length-1,z="";for(let k=g.length-1;k>=0&&A!==-1;k--){const J=g[k];let Y=E[A];if(typeof J=="string")z=J+z,Y===J&&A--;else if(Y!==void 0&&J.regex.test(Y))do z=(J.transform!==void 0?J.transform(Y):Y)+z,A--,Y=E[A];while(P===k&&Y!==void 0&&J.regex.test(Y));else return z}return z}function V(E){return typeof E!="string"||m===void 0?typeof E=="number"?m(""+E):E:m(E)}function W(E){return a.length-E.length<=0?E:e.reverseFillMask===!0&&E.length!==0?a.slice(0,-E.length)+E:E+a.slice(E.length)}return{innerValue:N,hasMask:D,moveCursorForPaste:v,updateMaskValue:p,onMaskedKeydown:C,onMaskedClick:T}}function Fo(e,t){function n(){const o=e.modelValue;try{const r="DataTransfer"in window?new DataTransfer:"ClipboardEvent"in window?new ClipboardEvent("").clipboardData:void 0;return Object(o)===o&&("length"in o?Array.from(o):[o]).forEach(a=>{r.items.add(a)}),{files:r.files}}catch{return{files:void 0}}}return t===!0?Se(()=>{if(e.type==="file")return n()}):Se(n)}var me=We({name:"QInput",inheritAttrs:!1,props:{...no,...Mo,...oo,modelValue:[String,Number,FileList],shadowText:String,type:{type:String,default:"text"},debounce:[String,Number],autogrow:Boolean,inputClass:[Array,String,Object],inputStyle:[Array,String,Object]},emits:[...io,"paste","change","keydown","click","animationend"],setup(e,{emit:t,attrs:n}){const{proxy:o}=wt(),{$q:r}=o,a={};let f=NaN,m,S,_=null,D;const N=Oe(null),s=ro(e),{innerValue:i,hasMask:c,moveCursorForPaste:l,updateMaskValue:p,onMaskedKeydown:v,onMaskedClick:h}=Bo(e,t,Y,N),T=Fo(e,!0),C=Se(()=>Kt(i.value)),B=lo(k),$=ao({changeEvent:!0}),V=Se(()=>e.type==="textarea"||e.autogrow===!0),W=Se(()=>V.value===!0||["text","search","url","tel","password"].includes(e.type)),E=Se(()=>{const F={...$.splitAttrs.listeners.value,onInput:k,onPaste:z,onChange:he,onBlur:de,onFocus:Wt};return F.onCompositionstart=F.onCompositionupdate=F.onCompositionend=B,c.value===!0&&(F.onKeydown=v,F.onClick=h),e.autogrow===!0&&(F.onAnimationend=J),F}),g=Se(()=>{const F={tabindex:0,"data-autofocus":e.autofocus===!0||void 0,rows:e.type==="textarea"?6:void 0,"aria-label":e.label,name:s.value,...$.splitAttrs.attributes.value,id:$.targetUid.value,maxlength:e.maxlength,disabled:e.disable===!0,readonly:e.readonly===!0};return V.value===!1&&(F.type=e.type),e.autogrow===!0&&(F.rows=1),F});Me(()=>e.type,()=>{N.value&&(N.value.value=e.modelValue)}),Me(()=>e.modelValue,F=>{if(c.value===!0){if(S===!0&&(S=!1,String(F)===f))return;p(F)}else i.value!==F&&(i.value=F,e.type==="number"&&a.hasOwnProperty("value")===!0&&(m===!0?m=!1:delete a.value));e.autogrow===!0&&Ke(G)}),Me(()=>e.autogrow,F=>{F===!0?Ke(G):N.value!==null&&n.rows>0&&(N.value.style.height="auto")}),Me(()=>e.dense,()=>{e.autogrow===!0&&Ke(G)});function P(){xn(()=>{const F=document.activeElement;N.value!==null&&N.value!==F&&(F===null||F.id!==$.targetUid.value)&&N.value.focus({preventScroll:!0})})}function A(){var F;(F=N.value)==null||F.select()}function z(F){if(c.value===!0&&e.reverseFillMask!==!0){const ee=F.target;l(ee,ee.selectionStart,ee.selectionEnd)}t("paste",F)}function k(F){if(!F||!F.target)return;if(e.type==="file"){t("update:modelValue",F.target.files);return}const ee=F.target.value;if(F.target.qComposing===!0){a.value=ee;return}if(c.value===!0)p(ee,!1,F.inputType);else if(Y(ee),W.value===!0&&F.target===document.activeElement){const{selectionStart:fe,selectionEnd:ae}=F.target;fe!==void 0&&ae!==void 0&&Ke(()=>{F.target===document.activeElement&&ee.indexOf(F.target.value)===0&&F.target.setSelectionRange(fe,ae)})}e.autogrow===!0&&G()}function J(F){t("animationend",F),G()}function Y(F,ee){D=()=>{_=null,e.type!=="number"&&a.hasOwnProperty("value")===!0&&delete a.value,e.modelValue!==F&&f!==F&&(f=F,ee===!0&&(S=!0),t("update:modelValue",F),Ke(()=>{f===F&&(f=NaN)})),D=void 0},e.type==="number"&&(m=!0,a.value=F),e.debounce!==void 0?(_!==null&&clearTimeout(_),a.value=F,_=setTimeout(D,e.debounce)):D()}function G(){requestAnimationFrame(()=>{const F=N.value;if(F!==null){const ee=F.parentNode.style,{scrollTop:fe}=F,{overflowY:ae,maxHeight:re}=r.platform.is.firefox===!0?{}:window.getComputedStyle(F),ge=ae!==void 0&&ae!=="scroll";ge===!0&&(F.style.overflowY="hidden"),ee.marginBottom=F.scrollHeight-1+"px",F.style.height="1px",F.style.height=F.scrollHeight+"px",ge===!0&&(F.style.overflowY=parseInt(re,10)<F.scrollHeight?"auto":"hidden"),ee.marginBottom="",F.scrollTop=fe}})}function he(F){B(F),_!==null&&(clearTimeout(_),_=null),D==null||D(),t("change",F.target.value)}function de(F){F!==void 0&&Wt(F),_!==null&&(clearTimeout(_),_=null),D==null||D(),m=!1,S=!1,delete a.value,e.type!=="file"&&setTimeout(()=>{N.value!==null&&(N.value.value=i.value!==void 0?i.value:"")})}function ne(){return a.hasOwnProperty("value")===!0?a.value:i.value!==void 0?i.value:""}mo(()=>{de()}),Tn(()=>{e.autogrow===!0&&G()}),Object.assign($,{innerValue:i,fieldClass:Se(()=>`q-${V.value===!0?"textarea":"input"}`+(e.autogrow===!0?" q-textarea--autogrow":"")),hasShadow:Se(()=>e.type!=="file"&&typeof e.shadowText=="string"&&e.shadowText.length!==0),inputRef:N,emitValue:Y,hasValue:C,floatingLabel:Se(()=>C.value===!0&&(e.type!=="number"||isNaN(i.value)===!1)||Kt(e.displayValue)),getControl:()=>Fe(V.value===!0?"textarea":"input",{ref:N,class:["q-field__native q-placeholder",e.inputClass],style:e.inputStyle,...g.value,...E.value,...e.type!=="file"?{value:ne()}:T.value}),getShadowControl:()=>Fe("div",{class:"q-field__native q-field__shadow absolute-bottom no-pointer-events"+(V.value===!0?"":" text-no-wrap")},[Fe("span",{class:"invisible"},ne()),Fe("span",e.shadowText)])});const oe=so($);return Object.assign(o,{focus:P,select:A,getNativeElement:()=>N.value}),ho(o,"nativeEl",()=>N.value),oe}}),Ao=We({name:"QForm",props:{autofocus:Boolean,noErrorFocus:Boolean,noResetFocus:Boolean,greedy:Boolean,onSubmit:Function},emits:["reset","validationSuccess","validationError"],setup(e,{slots:t,emit:n}){const o=wt(),r=Oe(null);let a=0;const f=[];function m(i){const c=typeof i=="boolean"?i:e.noErrorFocus!==!0,l=++a,p=(T,C)=>{n(`validation${T===!0?"Success":"Error"}`,C)},v=T=>{const C=T.validate();return typeof C.then=="function"?C.then(B=>({valid:B,comp:T}),B=>({valid:!1,comp:T,err:B})):Promise.resolve({valid:C,comp:T})};return(e.greedy===!0?Promise.all(f.map(v)).then(T=>T.filter(C=>C.valid!==!0)):f.reduce((T,C)=>T.then(()=>v(C).then(B=>{if(B.valid===!1)return Promise.reject(B)})),Promise.resolve()).catch(T=>[T])).then(T=>{if(T===void 0||T.length===0)return l===a&&p(!0),!0;if(l===a){const{comp:C,err:B}=T[0];if(B!==void 0&&console.error(B),p(!1,C),c===!0){const $=T.find(({comp:V})=>typeof V.focus=="function"&&So(V.$)===!1);$!==void 0&&$.comp.focus()}}return!1})}function S(){a++,f.forEach(i=>{typeof i.resetValidation=="function"&&i.resetValidation()})}function _(i){i!==void 0&&Jt(i);const c=a+1;m().then(l=>{c===a&&l===!0&&(e.onSubmit!==void 0?n("submit",i):(i==null?void 0:i.target)!==void 0&&typeof i.target.submit=="function"&&i.target.submit())})}function D(i){i!==void 0&&Jt(i),n("reset"),Ke(()=>{S(),e.autofocus===!0&&e.noResetFocus!==!0&&N()})}function N(){xn(()=>{if(r.value===null)return;const i=r.value.querySelector("[autofocus][tabindex], [data-autofocus][tabindex]")||r.value.querySelector("[autofocus] [tabindex], [data-autofocus] [tabindex]")||r.value.querySelector("[autofocus], [data-autofocus]")||Array.prototype.find.call(r.value.querySelectorAll("[tabindex]"),c=>c.tabIndex!==-1);i==null||i.focus({preventScroll:!0})})}go(wo,{bindComponent(i){f.push(i)},unbindComponent(i){const c=f.indexOf(i);c!==-1&&f.splice(c,1)}});let s=!1;return yo(()=>{s=!0}),vo(()=>{s===!0&&e.autofocus===!0&&N()}),Tn(()=>{e.autofocus===!0&&N()}),Object.assign(o.proxy,{validate:m,resetValidation:S,submit:_,reset:D,focus:N,getValidationComponents:()=>f}),()=>Fe("form",{class:"q-form",ref:r,onSubmit:_,onReset:D},dt(t.default))}});const No='<circle cx="15" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="60" cy="15" r="9" fill-opacity=".3"><animate attributeName="r" from="9" to="9" begin="0s" dur="0.8s" values="9;15;9" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from=".5" to=".5" begin="0s" dur="0.8s" values=".5;1;.5" calcMode="linear" repeatCount="indefinite"></animate></circle><circle cx="105" cy="15" r="15"><animate attributeName="r" from="15" to="15" begin="0s" dur="0.8s" values="15;9;15" calcMode="linear" repeatCount="indefinite"></animate><animate attributeName="fill-opacity" from="1" to="1" begin="0s" dur="0.8s" values="1;.5;1" calcMode="linear" repeatCount="indefinite"></animate></circle>';var Oo=We({name:"QSpinnerDots",props:bo,setup(e){const{cSize:t,classes:n}=xo(e);return()=>Fe("svg",{class:n.value,fill:"currentColor",width:t.value,height:t.value,viewBox:"0 0 120 30",xmlns:"http://www.w3.org/2000/svg",innerHTML:No})}}),st=We({name:"QCard",props:{...vn,tag:{type:String,default:"div"},square:Boolean,flat:Boolean,bordered:Boolean},setup(e,{slots:t}){const{proxy:{$q:n}}=wt(),o=Sn(e,n),r=Se(()=>"q-card"+(o.value===!0?" q-card--dark q-dark":"")+(e.bordered===!0?" q-card--bordered":"")+(e.square===!0?" q-card--square no-border-radius":"")+(e.flat===!0?" q-card--flat no-shadow":""));return()=>Fe(e.tag,{class:r.value},dt(t.default))}});function Lo(){return To(Co)}const $o=["text","rect","circle","QBtn","QBadge","QChip","QToolbar","QCheckbox","QRadio","QToggle","QSlider","QRange","QInput","QAvatar"],Ho=["wave","pulse","pulse-x","pulse-y","fade","blink","none"];var kn=We({name:"QSkeleton",props:{...vn,tag:{type:String,default:"div"},type:{type:String,validator:e=>$o.includes(e),default:"rect"},animation:{type:String,validator:e=>Ho.includes(e),default:"wave"},animationSpeed:{type:[String,Number],default:1500},square:Boolean,bordered:Boolean,size:String,width:String,height:String},setup(e,{slots:t}){const n=wt(),o=Sn(e,n.proxy.$q),r=Se(()=>{const f=e.size!==void 0?[e.size,e.size]:[e.width,e.height];return{"--q-skeleton-speed":`${e.animationSpeed}ms`,width:f[0],height:f[1]}}),a=Se(()=>`q-skeleton q-skeleton--${o.value===!0?"dark":"light"} q-skeleton--type-${e.type}`+(e.animation!=="none"?` q-skeleton--anim q-skeleton--anim-${e.animation}`:"")+(e.square===!0?" q-skeleton--square":"")+(e.bordered===!0?" q-skeleton--bordered":""));return()=>Fe(e.tag,{class:a.value,style:r.value},dt(t.default))}});const Vo={id:"IdCardFront",class:"front-id",style:{"background-color":"white",width:"640px",height:"1014px","font-size":"22pt",position:"absolute","background-image":"url(/images/REG_ID_Front_Temp.jpg)","background-position":"center center","background-repeat":"no-repeat","background-size":"contain",transform:"scale(0.5)",top:"-200px",left:"-142px"}},zo={style:{"writing-mode":"vertical-rl","text-orientation":"upright",position:"absolute",top:"151px",left:"6px","font-size":"26.05pt",color:"white","font-weight":"500","text-shadow":"0px 2px 2px black"}},jo={style:{width:"373px",height:"373px","border-radius":"100%",position:"absolute",top:"160px",left:"159px",overflow:"hidden"}},qo=["hidden","src"],Ko={style:{"text-align":"left",position:"absolute",top:"145mm",left:"45mm","font-size":"22pt","font-weight":"500"}},Wo=["hidden"],Xt=Object.assign({name:"IdCardFront",data(){return{imageIsLoading:"loaded",imgSrcFromServer:null}},watch:{"details.employees_id"(e,t){e&&this.$nextTick(()=>{this.getPhoto()})},timestamp(e){e&&(this.imageIsLoading="loading",this.$nextTick(()=>{this.getPhoto()}))}},methods:{getPhoto(){this.imageIsLoading="loading",this.imgSrcFromServer="#",this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{getPhoto:!0,employees_id:this.details.employees_id}).then(({data:e})=>{this.imgSrcFromServer=e,this.imageIsLoading="loaded"}).catch(e=>{console.error(e)})}}},{__name:"IdCardFront",props:{details:{type:Object,required:!0},timestamp:{type:Number,required:!0},textFormat:{type:Object,required:!0},photoFormat:{type:Object,required:!0}},setup(e){return(t,n)=>(ye(),ke("div",Vo,[M("div",zo,j(e.details.employmentStatus?`${e.details.employmentStatus} EMPLOYEE`:""),1),M("div",jo,[M("img",{hidden:t.imageIsLoading=="loading",onLoad:n[0]||(n[0]=o=>t.imageIsLoading="loaded"),src:t.imgSrcFromServer,style:xe([{position:"relative"},`bottom:${e.photoFormat.top*2}mm; right: ${e.photoFormat.left*2}mm; width: ${e.photoFormat.scale*2.06}mm;`])},null,44,qo),O(kn,{style:{width:"550px",height:"588px"},hidden:t.imageIsLoading=="loaded"},null,8,["hidden"])]),M("div",Ko,[n[1]||(n[1]=M("b",null,"EMPLOYEE NO.",-1)),De(" "+j(e.details.empno?`${e.details.empno.substr(0,1)}-${e.details.empno.substr(-4,4)}`:"_ - ____"),1)]),M("div",{style:xe([`font-size:${e.textFormat.lastName.font_size*2.05}px; bottom: ${e.textFormat.lastName.bottom*2.15}px;
        left: ${e.textFormat.lastName.left*2}px; `,{width:"100%","text-align":"left","font-weight":"500",position:"absolute"}])},j(e.details.lastName)+j(e.details.extName?", "+e.details.extName:""),5),M("div",{style:xe([{width:"100%","text-align":"left","font-weight":"700",position:"absolute"},`font-size:${e.textFormat.firstName.font_size*2.05}px; bottom: ${e.textFormat.firstName.bottom*2.15}px;
        left: ${e.textFormat.firstName.left*2}px; `])},j(e.details.firstName)+" "+j(e.details.middleName?e.details.middleName[0]+". ":""),5),M("div",{style:xe([{width:"539px","text-align":"left","font-stretch":"ultra-expanded",position:"absolute"},`font-size:${e.textFormat.position.font_size*2.05}px; bottom: ${e.textFormat.position.bottom*2.23}px;
        left: ${e.textFormat.position.left*2}px; line-height: ${e.textFormat.position.line_height*2}px;`])},j(e.details.position),5),M("div",{hidden:!e.details.lastName,style:xe([{width:"539px","text-align":"left","font-stretch":"ultra-expanded",position:"absolute"},`bottom: ${e.textFormat.horizontalLine.bottom*2.23}px; left: ${e.textFormat.horizontalLine.left*2}px;`])},n[2]||(n[2]=[M("hr",{style:{width:"90%",height:"3px","background-color":"black",border:"none",margin:"0"}},null,-1)]),12,Wo),M("div",{style:xe([{width:"539px","text-align":"left","font-stretch":"ultra-expanded",position:"absolute"},`font-size:${e.textFormat.department.font_size*2.05}px; bottom: ${e.textFormat.department.bottom*2.23}px;
        left: ${e.textFormat.department.left*2}px; line-height: ${e.textFormat.department.line_height*2}px;`])},j(e.details.department),5),M("div",{style:xe([{width:"539px","text-align":"left","font-stretch":"ultra-expanded",position:"absolute"},`font-size:${e.textFormat.section.font_size*2.05}px; bottom: ${e.textFormat.section.bottom*2.23}px;
        left: ${e.textFormat.section.left*2}px; line-height: ${e.textFormat.section.line_height*2}px;`])},j(e.details.section),5)]))}}),Jo={id:"IdCardFrontV2",class:"front-id",style:{"background-color":"white",width:"640px",height:"1014px","font-size":"22pt",position:"relative","background-image":"url('/images/REG_ID_Front_Temp.jpg')","background-position":"center","background-repeat":"no-repeat","background-size":"contain"}},Go={style:{"writing-mode":"vertical-rl","text-orientation":"upright",position:"absolute",top:"151px",left:"6px","font-size":"26.05pt",color:"white","font-weight":"500","text-shadow":"0px 2px 2px black"}},Qo={style:{width:"373px",height:"373px","border-radius":"100%",position:"absolute",top:"160px",left:"159px",overflow:"hidden"}},Yo=["hidden","src"],Xo={style:{"text-align":"left",position:"absolute",top:"145mm",left:"45mm","font-size":"22pt","font-weight":"500"}},Zo=["hidden"],Zt=Object.assign({name:"IdCardFront",data(){return{imageIsLoading:"loaded",imgSrcFromServer:null}},watch:{"details.employees_id"(e,t){e&&this.$nextTick(()=>{this.getPhoto()})},timestamp(e){e&&(this.imageIsLoading="loading",this.$nextTick(()=>{this.getPhoto()}))}},methods:{getPhoto(){this.imageIsLoading="loading",this.imgSrcFromServer="#",this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{getPhoto:!0,employees_id:this.details.employees_id}).then(({data:e})=>{this.imgSrcFromServer=e,this.imageIsLoading="loaded"}).catch(e=>{console.error(e)})}}},{__name:"IdCardFrontV2",props:{details:{type:Object,required:!0},timestamp:{type:Number,required:!0},textFormat:{type:Object,required:!0},photoFormat:{type:Object,required:!0}},setup(e){return(t,n)=>(ye(),ke("div",Jo,[M("div",Go,j(e.details.employmentStatus?`${e.details.employmentStatus} EMPLOYEE`:""),1),M("div",Qo,[t.imgSrcFromServer?(ye(),ke("img",{key:0,hidden:t.imageIsLoading=="loading",onLoad:n[0]||(n[0]=o=>t.imageIsLoading="loaded"),src:t.imgSrcFromServer,style:xe([{position:"relative"},`bottom:${e.photoFormat.top*2}mm; right: ${e.photoFormat.left*2}mm; width: ${e.photoFormat.scale*2.06}mm;`])},null,44,Yo)):pt("",!0),O(kn,{style:{width:"250px",height:"188px"},hidden:t.imageIsLoading=="loaded"},null,8,["hidden"])]),M("div",Xo,[n[1]||(n[1]=M("b",null,"EMPLOYEE NO.",-1)),De(" "+j(e.details.empno?`${e.details.empno.substr(0,1)}-${e.details.empno.substr(-4,4)}`:"_ - ____"),1)]),M("div",{style:xe([`font-size:${e.textFormat.lastName.font_size*2.05}px; bottom: ${e.textFormat.lastName.bottom*2.15}px;
        left: ${e.textFormat.lastName.left*2}px; `,{width:"100%","text-align":"left","font-weight":"500",position:"absolute"}])},j(e.details.lastName)+j(e.details.extName?", "+e.details.extName:""),5),M("div",{style:xe([{width:"100%","text-align":"left","font-weight":"700",position:"absolute"},`font-size:${e.textFormat.firstName.font_size*2.05}px; bottom: ${e.textFormat.firstName.bottom*2.15}px;
        left: ${e.textFormat.firstName.left*2}px; `])},j(e.details.firstName)+" "+j(e.details.middleName?e.details.middleName[0]+". ":""),5),M("div",{style:xe([{width:"539px","text-align":"left","font-stretch":"ultra-expanded",position:"absolute"},`font-size:${e.textFormat.position.font_size*2.05}px; bottom: ${e.textFormat.position.bottom*2.23}px;
        left: ${e.textFormat.position.left*2}px; line-height: ${e.textFormat.position.line_height*2}px;`])},j(e.details.position),5),M("div",{hidden:!e.details.lastName,style:xe([{width:"539px","text-align":"left","font-stretch":"ultra-expanded",position:"absolute"},`bottom: ${e.textFormat.horizontalLine.bottom*2.23}px; left: ${e.textFormat.horizontalLine.left*2}px;`])},n[2]||(n[2]=[M("hr",{style:{width:"90%",height:"3px","background-color":"black",border:"none",margin:"0"}},null,-1)]),12,Zo),M("div",{style:xe([{width:"539px","text-align":"left","font-stretch":"ultra-expanded",position:"absolute"},`font-size:${e.textFormat.department.font_size*2.05}px; bottom: ${e.textFormat.department.bottom*2.23}px;
        left: ${e.textFormat.department.left*2}px; line-height: ${e.textFormat.department.line_height*2}px;`])},j(e.details.department),5),M("div",{style:xe([{width:"539px","text-align":"left","font-stretch":"ultra-expanded",position:"absolute"},`font-size:${e.textFormat.section.font_size*2.05}px; bottom: ${e.textFormat.section.bottom*2.23}px;
        left: ${e.textFormat.section.left*2}px; line-height: ${e.textFormat.section.line_height*2}px;`])},j(e.details.section),5)]))}});var Xe=We({name:"QCardSection",props:{tag:{type:String,default:"div"},horizontal:Boolean},setup(e,{slots:t}){const n=Se(()=>`q-card__section q-card__section--${e.horizontal===!0?"horiz row no-wrap":"vert"}`);return()=>Fe(e.tag,{class:n.value},dt(t.default))}}),En="/assets/get_sig.0d2f964a.png";/*!
 *
 * Copyright 2009-2012 Kris Kowal under the terms of the MIT
 * license found at http://github.com/kriskowal/q/raw/master/LICENSE
 *
 * With parts by Tyler Close
 * Copyright 2007-2009 Tyler Close under the terms of the MIT X license found
 * at http://www.opensource.org/licenses/mit-license.html
 * Forked at ref_send.js version: 2009-05-11
 *
 * With parts by Mark Miller
 * Copyright (C) 2011 Google Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 * http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *
 */(function(e){if(typeof bootstrap=="function")bootstrap("promise",e);else if(typeof exports=="object"&&typeof module=="object")module.exports=e();else if(typeof define=="function"&&define.amd)define(e);else if(typeof ses!="undefined")if(ses.ok())ses.makeQ=e;else return;else if(typeof window!="undefined"||typeof self!="undefined"){var t=typeof window!="undefined"?window:self,n=t.Q;t.Q=e(),t.Q.noConflict=function(){return t.Q=n,this}}else throw new Error("This environment was not anticipated by Q. Please file a bug.")})(function(){var e=!1;try{throw new Error}catch(u){e=!!u.stack}var t=W(),n,o=function(){},r=function(){var u={task:void 0,next:null},y=u,w=!1,U=void 0,K=!1,X=[];function q(){for(var ce,be;u.next;)u=u.next,ce=u.task,u.task=void 0,be=u.domain,be&&(u.domain=void 0,be.enter()),le(ce,be);for(;X.length;)ce=X.pop(),le(ce);w=!1}function le(ce,be){try{ce()}catch(it){if(K)throw be&&be.exit(),setTimeout(q,0),be&&be.enter(),it;setTimeout(function(){throw it},0)}be&&be.exit()}if(r=function(ce){y=y.next={task:ce,domain:K&&process.domain,next:null},w||(w=!0,U())},typeof process=="object"&&process.toString()==="[object process]"&&process.nextTick)K=!0,U=function(){process.nextTick(q)};else if(typeof setImmediate=="function")typeof window!="undefined"?U=setImmediate.bind(window,q):U=function(){setImmediate(q)};else if(typeof MessageChannel!="undefined"){var ie=new MessageChannel;ie.port1.onmessage=function(){U=se,ie.port1.onmessage=q,q()};var se=function(){ie.port2.postMessage(0)};U=function(){setTimeout(q,0),se()}}else U=function(){setTimeout(q,0)};return r.runAfter=function(ce){X.push(ce),w||(w=!0,U())},r}(),a=Function.call;function f(u){return function(){return a.apply(u,arguments)}}var m=f(Array.prototype.slice),S=f(Array.prototype.reduce||function(u,y){var w=0,U=this.length;if(arguments.length===1)do{if(w in this){y=this[w++];break}if(++w>=U)throw new TypeError}while(1);for(;w<U;w++)w in this&&(y=u(y,this[w],w));return y}),_=f(Array.prototype.indexOf||function(u){for(var y=0;y<this.length;y++)if(this[y]===u)return y;return-1}),D=f(Array.prototype.map||function(u,y){var w=this,U=[];return S(w,function(K,X,q){U.push(u.call(y,X,q,w))},void 0),U}),N=Object.create||function(u){function y(){}return y.prototype=u,new y},s=f(Object.prototype.hasOwnProperty),i=Object.keys||function(u){var y=[];for(var w in u)s(u,w)&&y.push(w);return y},c=f(Object.prototype.toString);function l(u){return u===Object(u)}function p(u){return c(u)==="[object StopIteration]"||u instanceof v}var v;typeof ReturnValue!="undefined"?v=ReturnValue:v=function(u){this.value=u};var h="From previous event:";function T(u,y){if(e&&y.stack&&typeof u=="object"&&u!==null&&u.stack&&u.stack.indexOf(h)===-1){for(var w=[],U=y;U;U=U.source)U.stack&&w.unshift(U.stack);w.unshift(u.stack);var K=w.join(`
`+h+`
`);u.stack=C(K)}}function C(u){for(var y=u.split(`
`),w=[],U=0;U<y.length;++U){var K=y[U];!V(K)&&!B(K)&&K&&w.push(K)}return w.join(`
`)}function B(u){return u.indexOf("(module.js:")!==-1||u.indexOf("(node.js:")!==-1}function $(u){var y=/at .+ \((.+):(\d+):(?:\d+)\)$/.exec(u);if(y)return[y[1],Number(y[2])];var w=/at ([^ ]+):(\d+):(?:\d+)$/.exec(u);if(w)return[w[1],Number(w[2])];var U=/.*@(.+):(\d+)$/.exec(u);if(U)return[U[1],Number(U[2])]}function V(u){var y=$(u);if(!y)return!1;var w=y[0],U=y[1];return w===n&&U>=t&&U<=_e}function W(){if(!!e)try{throw new Error}catch(U){var u=U.stack.split(`
`),y=u[0].indexOf("@")>0?u[1]:u[2],w=$(y);return w?(n=w[0],w[1]):void 0}}function E(u,y,w){return function(){return typeof console!="undefined"&&typeof console.warn=="function"&&console.warn(y+" is deprecated, use "+w+" instead.",new Error("").stack),u.apply(u,arguments)}}function g(u){return u instanceof k?u:he(u)?Re(u):Be(u)}g.resolve=g,g.nextTick=r,g.longStackSupport=!1,typeof process=="object"&&process&&process.env&&{}.Q_DEBUG&&(g.longStackSupport=!0),g.defer=P;function P(){var u=[],y=[],w,U=N(P.prototype),K=N(k.prototype);if(K.promiseDispatch=function(q,le,ie){var se=m(arguments);u?(u.push(se),le==="when"&&ie[1]&&y.push(ie[1])):g.nextTick(function(){w.promiseDispatch.apply(w,se)})},K.valueOf=function(){if(u)return K;var q=Y(w);return G(q)&&(w=q),q},K.inspect=function(){return w?w.inspect():{state:"pending"}},g.longStackSupport&&e)try{throw new Error}catch(q){K.stack=q.stack.substring(q.stack.indexOf(`
`)+1)}function X(q){w=q,K.source=q,S(u,function(le,ie){g.nextTick(function(){q.promiseDispatch.apply(q,ie)})},void 0),u=void 0,y=void 0}return U.promise=K,U.resolve=function(q){w||X(g(q))},U.fulfill=function(q){w||X(Be(q))},U.reject=function(q){w||X(ue(q))},U.notify=function(q){w||S(y,function(le,ie){g.nextTick(function(){ie(q)})},void 0)},U}P.prototype.makeNodeResolver=function(){var u=this;return function(y,w){y?u.reject(y):arguments.length>2?u.resolve(m(arguments,1)):u.resolve(w)}},g.Promise=A,g.promise=A;function A(u){if(typeof u!="function")throw new TypeError("resolver must be a function.");var y=P();try{u(y.resolve,y.reject,y.notify)}catch(w){y.reject(w)}return y.promise}A.race=z,A.all=L,A.reject=ue,A.resolve=g,g.passByCopy=function(u){return u},k.prototype.passByCopy=function(){return this},g.join=function(u,y){return g(u).join(y)},k.prototype.join=function(u){return g([this,u]).spread(function(y,w){if(y===w)return y;throw new Error("Q can't join: not the same: "+y+" "+w)})},g.race=z;function z(u){return A(function(y,w){for(var U=0,K=u.length;U<K;U++)g(u[U]).then(y,w)})}k.prototype.race=function(){return this.then(g.race)},g.makePromise=k;function k(u,y,w){y===void 0&&(y=function(X){return ue(new Error("Promise does not support operation: "+X))}),w===void 0&&(w=function(){return{state:"unknown"}});var U=N(k.prototype);if(U.promiseDispatch=function(X,q,le){var ie;try{u[q]?ie=u[q].apply(U,le):ie=y.call(U,q,le)}catch(se){ie=ue(se)}X&&X(ie)},U.inspect=w,w){var K=w();K.state==="rejected"&&(U.exception=K.reason),U.valueOf=function(){var X=w();return X.state==="pending"||X.state==="rejected"?U:X.value}}return U}k.prototype.toString=function(){return"[object Promise]"},k.prototype.then=function(u,y,w){var U=this,K=P(),X=!1;function q(se){try{return typeof u=="function"?u(se):se}catch(ce){return ue(ce)}}function le(se){if(typeof y=="function"){T(se,U);try{return y(se)}catch(ce){return ue(ce)}}return ue(se)}function ie(se){return typeof w=="function"?w(se):se}return g.nextTick(function(){U.promiseDispatch(function(se){X||(X=!0,K.resolve(q(se)))},"when",[function(se){X||(X=!0,K.resolve(le(se)))}])}),U.promiseDispatch(void 0,"when",[void 0,function(se){var ce,be=!1;try{ce=ie(se)}catch(it){if(be=!0,g.onerror)g.onerror(it);else throw it}be||K.notify(ce)}]),K.promise},g.tap=function(u,y){return g(u).tap(y)},k.prototype.tap=function(u){return u=g(u),this.then(function(y){return u.fcall(y).thenResolve(y)})},g.when=J;function J(u,y,w,U){return g(u).then(y,w,U)}k.prototype.thenResolve=function(u){return this.then(function(){return u})},g.thenResolve=function(u,y){return g(u).thenResolve(y)},k.prototype.thenReject=function(u){return this.then(function(){throw u})},g.thenReject=function(u,y){return g(u).thenReject(y)},g.nearer=Y;function Y(u){if(G(u)){var y=u.inspect();if(y.state==="fulfilled")return y.value}return u}g.isPromise=G;function G(u){return u instanceof k}g.isPromiseAlike=he;function he(u){return l(u)&&typeof u.then=="function"}g.isPending=de;function de(u){return G(u)&&u.inspect().state==="pending"}k.prototype.isPending=function(){return this.inspect().state==="pending"},g.isFulfilled=ne;function ne(u){return!G(u)||u.inspect().state==="fulfilled"}k.prototype.isFulfilled=function(){return this.inspect().state==="fulfilled"},g.isRejected=oe;function oe(u){return G(u)&&u.inspect().state==="rejected"}k.prototype.isRejected=function(){return this.inspect().state==="rejected"};var F=[],ee=[],fe=[],ae=!0;function re(){F.length=0,ee.length=0,ae||(ae=!0)}function ge(u,y){!ae||(typeof process=="object"&&typeof process.emit=="function"&&g.nextTick.runAfter(function(){_(ee,u)!==-1&&(process.emit("unhandledRejection",y,u),fe.push(u))}),ee.push(u),y&&typeof y.stack!="undefined"?F.push(y.stack):F.push("(no stack) "+y))}function Le(u){if(!!ae){var y=_(ee,u);y!==-1&&(typeof process=="object"&&typeof process.emit=="function"&&g.nextTick.runAfter(function(){var w=_(fe,u);w!==-1&&(process.emit("rejectionHandled",F[y],u),fe.splice(w,1))}),ee.splice(y,1),F.splice(y,1))}}g.resetUnhandledRejections=re,g.getUnhandledReasons=function(){return F.slice()},g.stopUnhandledRejectionTracking=function(){re(),ae=!1},re(),g.reject=ue;function ue(u){var y=k({when:function(w){return w&&Le(this),w?w(u):this}},function(){return this},function(){return{state:"rejected",reason:u}});return ge(y,u),y}g.fulfill=Be;function Be(u){return k({when:function(){return u},get:function(y){return u[y]},set:function(y,w){u[y]=w},delete:function(y){delete u[y]},post:function(y,w){return y==null?u.apply(void 0,w):u[y].apply(u,w)},apply:function(y,w){return u.apply(y,w)},keys:function(){return i(u)}},void 0,function(){return{state:"fulfilled",value:u}})}function Re(u){var y=P();return g.nextTick(function(){try{u.then(y.resolve,y.reject,y.notify)}catch(w){y.reject(w)}}),y.promise}g.master=we;function we(u){return k({isDef:function(){}},function(w,U){return R(u,w,U)},function(){return g(u).inspect()})}g.spread=$e;function $e(u,y,w){return g(u).spread(y,w)}k.prototype.spread=function(u,y){return this.all().then(function(w){return u.apply(void 0,w)},y)},g.async=Ue;function Ue(u){return function(){function y(X,q){var le;if(typeof StopIteration=="undefined"){try{le=w[X](q)}catch(ie){return ue(ie)}return le.done?g(le.value):J(le.value,U,K)}else{try{le=w[X](q)}catch(ie){return p(ie)?g(ie.value):ue(ie)}return J(le,U,K)}}var w=u.apply(this,arguments),U=y.bind(y,"next"),K=y.bind(y,"throw");return U()}}g.spawn=Ne;function Ne(u){g.done(g.async(u)())}g.return=b;function b(u){throw new v(u)}g.promised=I;function I(u){return function(){return $e([this,L(arguments)],function(y,w){return u.apply(y,w)})}}g.dispatch=R;function R(u,y,w){return g(u).dispatch(y,w)}k.prototype.dispatch=function(u,y){var w=this,U=P();return g.nextTick(function(){w.promiseDispatch(U.resolve,u,y)}),U.promise},g.get=function(u,y){return g(u).dispatch("get",[y])},k.prototype.get=function(u){return this.dispatch("get",[u])},g.set=function(u,y,w){return g(u).dispatch("set",[y,w])},k.prototype.set=function(u,y){return this.dispatch("set",[u,y])},g.del=g.delete=function(u,y){return g(u).dispatch("delete",[y])},k.prototype.del=k.prototype.delete=function(u){return this.dispatch("delete",[u])},g.mapply=g.post=function(u,y,w){return g(u).dispatch("post",[y,w])},k.prototype.mapply=k.prototype.post=function(u,y){return this.dispatch("post",[u,y])},g.send=g.mcall=g.invoke=function(u,y){return g(u).dispatch("post",[y,m(arguments,2)])},k.prototype.send=k.prototype.mcall=k.prototype.invoke=function(u){return this.dispatch("post",[u,m(arguments,1)])},g.fapply=function(u,y){return g(u).dispatch("apply",[void 0,y])},k.prototype.fapply=function(u){return this.dispatch("apply",[void 0,u])},g.try=g.fcall=function(u){return g(u).dispatch("apply",[void 0,m(arguments,1)])},k.prototype.fcall=function(){return this.dispatch("apply",[void 0,m(arguments)])},g.fbind=function(u){var y=g(u),w=m(arguments,1);return function(){return y.dispatch("apply",[this,w.concat(m(arguments))])}},k.prototype.fbind=function(){var u=this,y=m(arguments);return function(){return u.dispatch("apply",[this,y.concat(m(arguments))])}},g.keys=function(u){return g(u).dispatch("keys",[])},k.prototype.keys=function(){return this.dispatch("keys",[])},g.all=L;function L(u){return J(u,function(y){var w=0,U=P();return S(y,function(K,X,q){var le;G(X)&&(le=X.inspect()).state==="fulfilled"?y[q]=le.value:(++w,J(X,function(ie){y[q]=ie,--w===0&&U.resolve(y)},U.reject,function(ie){U.notify({index:q,value:ie})}))},void 0),w===0&&U.resolve(y),U.promise})}k.prototype.all=function(){return L(this)},g.any=x;function x(u){if(u.length===0)return g.resolve();var y=g.defer(),w=0;return S(u,function(U,K,X){var q=u[X];w++,J(q,le,ie,se);function le(ce){y.resolve(ce)}function ie(){w--,w===0&&y.reject(new Error("Q can't get fulfillment value from any promise, all promises were rejected."))}function se(ce){y.notify({index:X,value:ce})}},void 0),y.promise}k.prototype.any=function(){return x(this)},g.allResolved=E(H,"allResolved","allSettled");function H(u){return J(u,function(y){return y=D(y,g),J(L(D(y,function(w){return J(w,o,o)})),function(){return y})})}k.prototype.allResolved=function(){return H(this)},g.allSettled=te;function te(u){return g(u).allSettled()}k.prototype.allSettled=function(){return this.then(function(u){return L(D(u,function(y){y=g(y);function w(){return y.inspect()}return y.then(w,w)}))})},g.fail=g.catch=function(u,y){return g(u).then(void 0,y)},k.prototype.fail=k.prototype.catch=function(u){return this.then(void 0,u)},g.progress=ve;function ve(u,y){return g(u).then(void 0,void 0,y)}k.prototype.progress=function(u){return this.then(void 0,void 0,u)},g.fin=g.finally=function(u,y){return g(u).finally(y)},k.prototype.fin=k.prototype.finally=function(u){if(!u||typeof u.apply!="function")throw new Error("Q can't apply finally callback");return u=g(u),this.then(function(y){return u.fcall().then(function(){return y})},function(y){return u.fcall().then(function(){throw y})})},g.done=function(u,y,w,U){return g(u).done(y,w,U)},k.prototype.done=function(u,y,w){var U=function(X){g.nextTick(function(){if(T(X,K),g.onerror)g.onerror(X);else throw X})},K=u||y||w?this.then(u,y,w):this;typeof process=="object"&&process&&process.domain&&(U=process.domain.bind(U)),K.then(void 0,U)},g.timeout=function(u,y,w){return g(u).timeout(y,w)},k.prototype.timeout=function(u,y){var w=P(),U=setTimeout(function(){(!y||typeof y=="string")&&(y=new Error(y||"Timed out after "+u+" ms"),y.code="ETIMEDOUT"),w.reject(y)},u);return this.then(function(K){clearTimeout(U),w.resolve(K)},function(K){clearTimeout(U),w.reject(K)},w.notify),w.promise},g.delay=function(u,y){return y===void 0&&(y=u,u=void 0),g(u).delay(y)},k.prototype.delay=function(u){return this.then(function(y){var w=P();return setTimeout(function(){w.resolve(y)},u),w.promise})},g.nfapply=function(u,y){return g(u).nfapply(y)},k.prototype.nfapply=function(u){var y=P(),w=m(u);return w.push(y.makeNodeResolver()),this.fapply(w).fail(y.reject),y.promise},g.nfcall=function(u){var y=m(arguments,1);return g(u).nfapply(y)},k.prototype.nfcall=function(){var u=m(arguments),y=P();return u.push(y.makeNodeResolver()),this.fapply(u).fail(y.reject),y.promise},g.nfbind=g.denodeify=function(u){if(u===void 0)throw new Error("Q can't wrap an undefined function");var y=m(arguments,1);return function(){var w=y.concat(m(arguments)),U=P();return w.push(U.makeNodeResolver()),g(u).fapply(w).fail(U.reject),U.promise}},k.prototype.nfbind=k.prototype.denodeify=function(){var u=m(arguments);return u.unshift(this),g.denodeify.apply(void 0,u)},g.nbind=function(u,y){var w=m(arguments,2);return function(){var U=w.concat(m(arguments)),K=P();U.push(K.makeNodeResolver());function X(){return u.apply(y,arguments)}return g(X).fapply(U).fail(K.reject),K.promise}},k.prototype.nbind=function(){var u=m(arguments,0);return u.unshift(this),g.nbind.apply(void 0,u)},g.nmapply=g.npost=function(u,y,w){return g(u).npost(y,w)},k.prototype.nmapply=k.prototype.npost=function(u,y){var w=m(y||[]),U=P();return w.push(U.makeNodeResolver()),this.dispatch("post",[u,w]).fail(U.reject),U.promise},g.nsend=g.nmcall=g.ninvoke=function(u,y){var w=m(arguments,2),U=P();return w.push(U.makeNodeResolver()),g(u).dispatch("post",[y,w]).fail(U.reject),U.promise},k.prototype.nsend=k.prototype.nmcall=k.prototype.ninvoke=function(u){var y=m(arguments,1),w=P();return y.push(w.makeNodeResolver()),this.dispatch("post",[u,y]).fail(w.reject),w.promise},g.nodeify=Ie;function Ie(u,y){return g(u).nodeify(y)}k.prototype.nodeify=function(u){if(u)this.then(function(y){g.nextTick(function(){u(null,y)})},function(y){g.nextTick(function(){u(y)})});else return this},g.noConflict=function(){throw new Error("Q.noConflict only works when Q is used as a global")};var _e=W();return g});var d=d||{};d.STUConstructor=function(){var e,t=65535,n=0,o=0,r={},a={};function f(s){return typeof s!="undefined"}function m(){return n++}function S(){return o++}function _(s){var i=9e3,c=this;f(s)||(s=i),this.onDCAtimeout=null,e=new WebSocket("wss://localhost:"+s.toString()+"/ws"),e.onopen=function(){console.log("connected")},e.onmessage=D,e.onclose=function(){console.log("disconnected"),typeof c.onDCAtimeout=="function"&&c.onDCAtimeout()}}_.prototype.Reinitialize=function(){d.STU=new d.STUConstructor},_.prototype.isServiceReady=function(){return e.readyState==1},_.prototype.isDCAReady=function(){var s=Q.defer();return d.STU.isServiceReady()?(setTimeout(function(){s.promise.isPending()&&(d.STU.isServiceReady()&&d.STU.close(),s.resolve(!1))},1e3),d.STU.getUsbDevices().then(function(i){s.promise.isPending()&&s.resolve(!0)}).fail(function(i){s.promise.isPending()&&s.resolve(!0)})):s.resolve(!1),s.promise},_.prototype.close=function(){e.close()};function D(s){if(typeof s.data!="undefined"&&s.data!=""){var i=JSON.parse(s.data);if(f(i.ticket)&&f(r[i.ticket]))f(i.success)&&i.success==!0&&f(i.data)?r[i.ticket].resolve(i.data):r[i.ticket].reject(new Error(f(i.error)?i.error:"")),delete r[i.ticket];else if(f(i.stream)&&f(a[i.stream])&&f(i.data))a[i.stream].stream(i.data);else throw new Error("websocket invalid message: "+s.data)}else console.log("Unexpected message type "+typeof s+" = "+JSON.stringify(s))}function N(s){for(var i=s.length,c=0;c<i;){var l=c+t<i?"0":"1",p=s.substr(c,t);e.send(l+p),c+=t}}return _.prototype.VendorId={VendorId_Wacom:1386},_.prototype.ProductId={ProductId_500:161,ProductId_300:162,ProductId_520A:163,ProductId_430:164,ProductId_530:165,ProductId_430V:166,ProductId_540:168,ProductId_541:169},_.prototype.ProductId_min=161,_.prototype.ProductId_max=175,_.prototype.send=function(s){var i=Q.defer();try{var c=m();s.ticket=c;var l=JSON.stringify(s);N(l),r[c]=i}catch(p){i.reject(p)}return i.promise},_.prototype.sendNoReturn=function(s){var i=JSON.stringify(s);N(i)},_.prototype.setStream=function(s){var i=S();return a[i]=s,i},_.prototype.removeStream=function(s){delete a[s]},_.prototype.getUsbDevices=function(){return d.STU.send({scope:"WacomGSS.STU.GetUsbDevices",function:"getUsbDevices"})},_.prototype.getTlsDevices=function(){return d.STU.send({scope:"WacomGSS.STU.GetTlsDevices",function:"getTlsDevices"})},_.prototype.isSupportedUsbDevice=function(s,i){return d.STU.send({scope:"WacomGSS.STU.GetUsbDevices",function:"isSupportedUsbDevice",idVendor:s,idProduct:i})},_.prototype.getStringUsbDevice=function(s){function i(c){return("0000"+c.toString(16)).substr(-4)}return i(s.idVendor)+":"+i(s.idProduct)+":"+i(s.bcdDevice)},_.prototype.SerialPort={Type:{Unknown:0,Physical:1,Virtual:2,Remote:3}},_.prototype.getSerialPorts=function(){return d.STU.send({scope:"WacomGSS.STU.GetSerialPorts",function:"getSerialPorts"})},_.prototype.UsbInterface=function(){var s="WacomGSS.STU.UsbInterface",i="";function c(){}return c.prototype.Constructor=function(){return d.STU.send({scope:s,function:"Constructor"}).then(function(l){return i=l.id,l})},c.prototype.connect=function(l,p){return d.STU.send({scope:s,id:i,function:"connect",usbDevice:l,exclusiveLock:p})},c.prototype.toJSON=function(){return{id:i,scope:s}},c.prototype.disconnect=function(){return d.STU.send({scope:s,id:i,function:"disconnect"})},c.prototype.isConnected=function(){return d.STU.send({scope:s,id:i,function:"isConnected"})},c.prototype.queueNotifyAll=function(){return d.STU.send({scope:s,id:i,function:"queueNotifyAll"})},c.prototype.queueSetPredicateAll=function(l){return d.STU.send({scope:s,id:i,function:"queueSetPredicateAll",predicate:l})},c.prototype.get=function(l){return d.STU.send({scope:s,id:i,function:"get_",length:l})},c.prototype.set=function(l){return d.STU.send({scope:s,id:i,function:"set",base64Data:l})},c.prototype.supportsWrite=function(){return d.STU.send({scope:s,id:i,function:"supportsWrite"})},c.prototype.write=function(l){return d.STU.send({scope:s,id:i,function:"write",base64Data:l})},c.prototype.getReportCountLengths=function(){return d.STU.send({scope:s,id:i,function:"getReportCountLengths"})},c.prototype.getProductId=function(){return d.STU.send({scope:s,id:i,function:"getProductId"})},c}(),_.prototype.Protocol=function(){var s="WacomGSS.STU.Protocol",i="",c={};function l(){}return l.prototype.PenDataOptionMode={PenDataOptionMode_None:0,PenDataOptionMode_TimeCount:1,PenDataOptionMode_SequenceNumber:2,PenDataOptionMode_TimeCountSequence:3},l.prototype.InkingMode={InkingMode_Off:0,InkingMode_On:1},l.prototype.ReportId={ReportId_PenData:1,ReportId_Status:3,ReportId_Reset:4,ReportId_HidInformation:6,ReportId_Information:8,ReportId_Capability:9,ReportId_Uid:10,ReportId_Uid2:11,ReportId_DefaultMode:12,ReportId_ReportRate:13,ReportId_RenderingMode:14,ReportId_Eserial:15,ReportId_PenDataEncrypted:16,ReportId_HostPublicKey:19,ReportId_DevicePublicKey:20,ReportId_StartCapture:21,ReportId_EndCapture:22,ReportId_DHprime:26,ReportId_DHbase:27,ReportId_ClearScreen:32,ReportId_InkingMode:33,ReportId_InkThreshold:34,ReportId_ClearScreenArea:35,ReportId_StartImageDataArea:36,ReportId_StartImageData:37,ReportId_ImageDataBlock:38,ReportId_EndImageData:39,ReportId_HandwritingThicknessColor:40,ReportId_BackgroundColor:41,ReportId_HandwritingDisplayArea:42,ReportId_BacklightBrightness:43,ReportId_ScreenContrast:44,ReportId_HandwritingThicknessColor24:45,ReportId_BackgroundColor24:46,ReportId_BootScreen:47,ReportId_PenDataOption:48,ReportId_PenDataEncryptedOption:49,ReportId_PenDataOptionMode:50,ReportId_PenDataTimeCountSequenceEncrypted:51,ReportId_PenDataTimeCountSequence:52,ReportId_EncryptionCommand:64,ReportId_EncryptionStatus:80,ReportId_GetReport:128,ReportId_SetResult:129,ReportId_PinPadData:144,ReportId_PinPadDataEncrypted:145,ReportId_PinOperationMode:146,ReportId_OperationMode:147,ReportId_RomStartImageData:148,ReportId_RomImageOccupancy:149,ReportId_RomImageHash:150,ReportId_RomImageDelete:151,ReportId_CurrentImageArea:152,ReportId_EventData:153,ReportId_EventDataEncrypted:154,ReportId_RomImageDisplay:155,ReportId_ReportSizeCollection:255,Decrypt:256,SigCaptX_Decrypt:256,SigCaptX_TabletDisconnected:257},l.prototype.DefaultMode={DefaultMode_HID:1,DefaultMode_Serial:2},l.prototype.StatusCode={StatusCode_Ready:0,StatusCode_Image:1,StatusCode_Capture:2,StatusCode_Calculation:3,StatusCode_Image_Boot:4,StatusCode_RomBusy:5,StatusCode_SystemReset:255},l.prototype.ErrorCode={ErrorCode_None:0,ErrorCode_WrongReportId:1,ErrorCode_WrongState:2,ErrorCode_CRC:3,ErrorCode_GraphicsWrongEncodingType:16,ErrorCode_GraphicsImageTooLong:17,ErrorCode_GraphicsZlibError:18,ErrorCode_GraphicsWrongParameters:21,ErrorCode_PadNotExist:32,ErrorCode_RomSizeOverflow:51,ErrorCode_RomInvalidParameter:52,ErrorCode_RomErrorCRC:53},l.prototype.Rectangle={upperLeftXpixel:0,upperLeftYpixel:0,lowerRightXpixel:0,lowerRightYpixel:0},l.prototype.InkThreshold={onPressureMark:0,offPressureMark:0},l.prototype.HandwritingThicknessColor={penColor:0,penThickness:0},l.prototype.HandwritingThicknessColor24={penColor:0,penThickness:0},l.prototype.EncryptionCommandNumber={EncryptionCommandNumber_SetEncryptionType:1,EncryptionCommandNumber_SetParameterBlock:2,EncryptionCommandNumber_GetStatusBlock:3,EncryptionCommandNumber_GetParameterBlock:4,EncryptionCommandNumber_GenerateSymmetricKey:5},l.prototype.EncodingMode={EncodingMode_1bit:0,EncodingMode_1bit_Zlib:1,EncodingMode_16bit:2,EncodingMode_24bit:4,EncodingMode_1bit_Bulk:16,EncodingMode_16bit_Bulk:18,EncodingMode_24bit_Bulk:20},l.prototype.EndImageDataFlag={EndImageDataFlag_Commit:0,EndImageDataFlag_Abandon:1},l.prototype.ResetFlag={ResetFlag_Software:0,ResetFlag_Hardware:1},l.prototype.EncodingFlag={EncodingFlag_Zlib:1,EncodingFlag_1bit:2,EncodingFlag_16bit:4,EncodingFlag_24bit:8},l.prototype.StatusCodeRSA={StatusCodeRSA_Ready:0,StatusCodeRSA_Calculating:250,StatusCodeRSA_Even:251,StatusCodeRSA_Long:252,StatusCodeRSA_Short:253,StatusCodeRSA_Invalid:254,StatusCodeRSA_NotReady:255},l.prototype.ErrorCodeRSA={ErrorCodeRSA_None:0,ErrorCodeRSA_BadParameter:1,ErrorCodeRSA_ParameterTooLong:2,ErrorCodeRSA_PublicKeyNotReady:3,ErrorCodeRSA_PublicExponentNotReady:4,ErrorCodeRSA_SpecifiedKeyInUse:5,ErrorCodeRSA_SpecifiedKeyNotInUse:6,ErrorCodeRSA_BadCommandCode:7,ErrorCodeRSA_CommandPending:8,ErrorCodeRSA_SpecifiedKeyExists:9,ErrorCodeRSA_SpecifiedKeyNotExist:10,ErrorCodeRSA_NotInitialized:11},l.prototype.SymmetricKeyType={SymmetricKeyType_AES128:0,SymmetricKeyType_AES192:1,SymmetricKeyType_AES256:2},l.prototype.AsymmetricKeyType={AsymmetricKeyType_RSA1024:0,AsymmetricKeyType_RSA1536:1,AsymmetricKeyType_RSA2048:2},l.prototype.AsymmetricPaddingType={AsymmetricPaddingType_None:0,AsymmetricPaddingType_PKCS1:1,AsymmetricPaddingType_OAEP:2},l.prototype.AsymmetricPaddingType={EncryptionCommandParameterBlockIndex_RSAe:0,EncryptionCommandParameterBlockIndex_RSAn:1,EncryptionCommandParameterBlockIndex_RSAc:2,EncryptionCommandParameterBlockIndex_RSAm:3},l.prototype.RomImageDeleteMode={RomImageDeleteMode_All:0,RomImageDeleteMode_PinPad_All:1,RomImageDeleteMode_SlideShow_All:2,RomImageDeleteMode_KeyPad_All:3,RomImageDeleteMode_Signature_All:4,RomImageDeleteMode_MessageBox_All:5,RomImageDeleteMode_PinPad_Number:6,RomImageDeleteMode_SlideShow_Number:7,RomImageDeleteMode_KeyPad_Number:8,RomImageDeleteMode_Signature_Number:9,RomImageDeleteMode_MessageBox_Number:10},l.prototype.OperationModeType={OperationModeType_Normal:0,OperationModeType_PinPad:1,OperationModeType_SlideShow:2,OperationModeType_KeyPad:3,OperationModeType_Signature:4,OperationModeType_MessageBox:5},l.prototype.ImageDataBlock_maxLengthHID=253,l.prototype.ImageDataBlock_maxLengthSerial=2557,l.prototype.ImageDataBlock_maxLength540=2557,l.prototype.toJSON=function(){return{id:i,scope:s}},l.prototype.Constructor=function(p){return c=p,d.STU.send({scope:s,function:"Constructor",intf:c.toJSON()}).then(function(v){return i=v.id,v})},l.prototype.getInterface=function(){return c},l.prototype.getInformation=function(){return d.STU.send({scope:s,id:i,function:"getInformation"})},l.prototype.getPenDataOptionMode=function(){return d.STU.send({scope:s,id:i,function:"getPenDataOptionMode"})},l.prototype.setPenDataOptionMode=function(p){return d.STU.send({scope:s,id:i,function:"setPenDataOptionMode",penDataOptionMode:p})},l.prototype.OperationMode_Normal=function(){function p(){this.operationMode=0,this.data=[]}return p}(),l.prototype.OperationMode_PinPad=function(){function p(v,h,T,C,B,$,V){this.operationMode=1,this.data=[],this.data[0]=v,this.data[1]=Number(h),this.data[2]=T,this.data[3]=C,this.data[4]=Number(B),this.data[5]=$,this.data[6]=V}return p}(),l.prototype.OperationMode_SlideShow=function(){function p(v,h,T,C){this.operationMode=2,this.data=[],this.data[0]=v,this.data[1]=h,this.data[2]=(T[0]&15)<<4|T[1]&15,this.data[3]=(T[2]&15)<<4|T[3]&15,this.data[4]=(T[4]&15)<<4|T[5]&15,this.data[5]=(T[6]&15)<<4|T[7]&15,this.data[6]=(T[8]&15)<<4|T[9]&15,this.data[7]=C>>24&255,this.data[8]=C>>16&255,this.data[9]=C>>8&255,this.data[10]=C&255}return p}(),l.prototype.OperationMode_KeyPad=function(){function p(v,h){this.operationMode=3,this.data=[],this.data[0]=v,this.data[1]=h}return p}(),l.prototype.OperationMode_Signature=function(){function p(v,h,T,C){this.operationMode=4,this.data=[],this.data[0]=v,this.data[1]=h[0],this.data[2]=h[1],this.data[3]=h[2],this.data[4]=T}return p}(),l.prototype.setOperationMode=function(p){return d.STU.send({scope:s,id:i,function:"setOperationMode",operationMode:p})},l.prototype.getOperationMode=function(){return d.STU.send({scope:s,id:i,function:"getOperationMode"})},l.prototype.RomStartImageData_PinPad=function(){function p(v,h,T,C,B){this.encodingMode=v,this.operationMode=1,this.imageType=h,this.imageNumber=T,this.data=[C,B,0]}return p}(),l.prototype.RomStartImageData_SlideShow=function(){function p(v,h,T){this.encodingMode=v,this.operationMode=2,this.imageType=h,this.imageNumber=T,this.data=[0,0,0]}return p}(),l.prototype.RomStartImageData_KeyPad=function(){function p(v,h,T,C,B){this.encodingMode=v,this.operationMode=3,this.imageType=h,this.imageNumber=T,this.data=[],this.data[0]=C,this.data[1]=B.length>8&&B[8]?1:0,this.data[2]=(B.length>7&&B[7]?128:0)|(B.length>6&&B[6]?64:0)|(B.length>5&&B[5]?32:0)|(B.length>4&&B[4]?16:0)|(B.length>3&&B[3]?8:0)|(B.length>2&&B[2]?4:0)|(B.length>1&&B[1]?2:0)|(B.length>0&&B[0]?1:0)}return p}(),l.prototype.RomStartImageData_Signature=function(){function p(v,h,T,C){this.encodingMode=v,this.operationMode=4,this.imageType=h,this.imageNumber=T,this.data=[],this.data[0]=(C[2]?4:0)|(C[1]?2:0)|(C[0]?1:0)}return p}(),l.prototype.RomStartImageData_MessageBox=function(){function p(v,h){this.encodingMode=v,this.operationMode=5,this.imageType=!1,this.imageNumber=h,this.data=[0,0,0]}return p}(),l.prototype.setRomStartImageData=function(p){return d.STU.send({scope:s,id:i,function:"setRomStartImageData",romStartImage:p})},l.prototype.setRomImageHash=function(p,v,h){return d.STU.send({scope:s,id:i,function:"setRomImageHash",operationModeType:p,imageType:v,imageNumber:h})},l.prototype.getRomImageHash=function(){return d.STU.send({scope:s,id:i,function:"getRomImageHash"})},l.prototype.setRomImageDelete=function(p,v,h){return d.STU.send({scope:s,id:i,function:"setRomImageDelete",romImageDeleteMode:p,imageType:v,imageNumber:h})},l.prototype.getCurrentImageArea=function(){return d.STU.send({scope:s,id:i,function:"getCurrentImageArea"})},l.prototype.setRomImageDisplay=function(p,v,h){return d.STU.send({scope:s,id:i,function:"setRomImageDisplay",operationModeType:p,imageType:v,imageNumber:h})},l.prototype.getEserial=function(){return d.STU.send({scope:s,id:i,function:"getEserial"})},l.prototype.setClearScreen=function(){return d.STU.send({scope:s,id:i,function:"setClearScreen"})},l.prototype.setInkingMode=function(p){return d.STU.send({scope:s,id:i,function:"setInkingMode",inkingMode:p})},l.prototype.rebind=function(p){var v=p;return d.STU.send({scope:s,id:i,function:"rebind",intf:p.toJSON()}).then(function(h){h===null&&(c=v)})},l.prototype.getStatus=function(){return d.STU.send({scope:s,id:i,function:"getStatus"})},l.prototype.setReset=function(p){return d.STU.send({scope:s,id:i,function:"setReset",flag:p})},l.prototype.getHidInformation=function(){return d.STU.send({scope:s,id:i,function:"getHidInformation"})},l.prototype.getCapability=function(){return d.STU.send({scope:s,id:i,function:"getCapability"})},l.prototype.getUid=function(){return d.STU.send({scope:s,id:i,function:"getUid"})},l.prototype.setUid=function(p){return d.STU.send({scope:s,id:i,function:"setUid",uid:p})},l.prototype.getUid2=function(){return d.STU.send({scope:s,id:i,function:"getUid2"})},l.prototype.setDefaultMode=function(p){return d.STU.send({scope:s,id:i,function:"setDefaultMode",defaultMode:p})},l.prototype.getDefaultMode=function(){return d.STU.send({scope:s,id:i,function:"getDefaultMode"})},l.prototype.getHostPublicKey=function(){return d.STU.send({scope:s,id:i,function:"getHostPublicKey"})},l.prototype.setHostPublicKey=function(p){return d.STU.send({scope:s,id:i,function:"setHostPublicKey",hostPublicKey:p})},l.prototype.getDevicePublicKey=function(){return d.STU.send({scope:s,id:i,function:"getDevicePublicKey"})},l.prototype.setStartCapture=function(p){return d.STU.send({scope:s,id:i,function:"setStartCapture",sessionId:p})},l.prototype.setEndCapture=function(){return d.STU.send({scope:s,id:i,function:"setEndCapture"})},l.prototype.getDHprime=function(){return d.STU.send({scope:s,id:i,function:"getDHprime"})},l.prototype.setDHprime=function(p){return d.STU.send({scope:s,id:i,function:"setDHprime",prime:p})},l.prototype.getDHbase=function(){return d.STU.send({scope:s,id:i,function:"getDHbase"})},l.prototype.setDHbase=function(p){return d.STU.send({scope:s,id:i,function:"setDHbase",base})},l.prototype.setClearScreenArea=function(p){return d.STU.send({scope:s,id:i,function:"setClearScreenArea",area:p})},l.prototype.getInkingMode=function(){return d.STU.send({scope:s,id:i,function:"getInkingMode"})},l.prototype.getInkThreshold=function(){return d.STU.send({scope:s,id:i,function:"getInkThreshold"})},l.prototype.setInkThreshold=function(p){return d.STU.send({scope:s,id:i,function:"setInkThreshold",inkThreshold:p})},l.prototype.setStartImageData=function(p){return d.STU.send({scope:s,id:i,function:"setStartImageData",encodingMode:p})},l.prototype.setStartImageDataArea=function(p,v){return d.STU.send({scope:s,id:i,function:"setStartImageDataArea",encodingMode:p,area:v})},l.prototype.setImageDataBlock=function(p){return d.STU.send({scope:s,id:i,function:"setEndImageData",imageDataBlock:p})},l.prototype.setEndImageData=function(p){return d.STU.send({scope:s,id:i,function:"setEndImageData",endImageDataFlag})},l.prototype.getHandwritingThicknessColor=function(){return d.STU.send({scope:s,id:i,function:"getHandwritingThicknessColor"})},l.prototype.setHandwritingThicknessColor=function(p){return d.STU.send({scope:s,id:i,function:"setHandwritingThicknessColor",handwritingThicknessColor:p})},l.prototype.getHandwritingThicknessColor24=function(){return d.STU.send({scope:s,id:i,function:"getHandwritingThicknessColor24"})},l.prototype.setHandwritingThicknessColor24=function(p){return d.STU.send({scope:s,id:i,function:"setHandwritingThicknessColor24",handwritingThicknessColor24:p})},l.prototype.getBackgroundColor=function(){return d.STU.send({scope:s,id:i,function:"getBackgroundColor"})},l.prototype.setBackgroundColor=function(p){return d.STU.send({scope:s,id:i,function:"setBackgroundColor",backgroundColor:p})},l.prototype.getBackgroundColor24=function(){return d.STU.send({scope:s,id:i,function:"getBackgroundColor24"})},l.prototype.setBackgroundColor24=function(p){return d.STU.send({scope:s,id:i,function:"setBackgroundColor24",backgroundColor24:p})},l.prototype.BootScreenFlag={Disable:0,Enable:1},l.prototype.setBootScreen=function(p){return d.STU.send({scope:s,id:i,function:"setBootScreen",bootScreenFlag:p})},l.prototype.getBootScreen=function(){return d.STU.send({scope:s,id:i,function:"getBootScreen"})},l.prototype.getHandwritingDisplayArea=function(){return d.STU.send({scope:s,id:i,function:"getHandwritingDisplayArea"})},l.prototype.setHandwritingDisplayArea=function(p){return d.STU.send({scope:s,id:i,function:"setHandwritingDisplayArea",handwritingDisplayArea:p})},l.prototype.getBacklightBrightness=function(){return d.STU.send({scope:s,id:i,function:"getBacklightBrightness"})},l.prototype.setBacklightBrightness=function(p){return d.STU.send({scope:s,id:i,function:"setBacklightBrightness",backlightBrightness:p})},l.prototype.getScreenContrast=function(){return d.STU.send({scope:s,id:i,function:"getScreenContrast"})},l.prototype.setScreenContrast=function(p){return d.STU.send({scope:s,id:i,function:"setScreenContrast",screenContrast:p})},l.prototype.getEncryptionStatus=function(){return d.STU.send({scope:s,id:i,function:"getEncryptionStatus"})},l.prototype.EncryptionCommand=function(){var p="WacomGSS.STU.Protocol";function v(T){this.encryptionCommandNumber=T.encryptionCommandNumber,this.parameter=T.parameter,this.lengthOrIndex=T.lengthOrIndex,this.data=T.data}function h(){this.encryptionCommandNumber=0,this.parameter=0,this.lengthOrIndex=0,this.data=[]}return h.prototype.initializeSetEncryptionType=function(T,C,B){return d.STU.send({scope:p,function:"EncryptionCommand_initializeSetEncryptionType",symmetricKeyType:T,asymmetricPaddingType:C,asymmetricKeyType:B}).then(function($){return v.call(this,$),this})},h.prototype.initializeSetParameterBlock=function(T,C){return d.STU.send({scope:p,function:"EncryptionCommand_initializeSetParameterBlock",index:T,data:C}).then(function(B){return v.call(this,B),this})},h.prototype.initializeGenerateSymmetricKey=function(){return d.STU.send({scope:p,function:"EncryptionCommand_initializeGenerateSymmetricKey"}).then(function(T){return v.call(this,T),this})},h.prototype.initializeGetParameterBlock=function(T,C){return d.STU.send({scope:p,function:"EncryptionCommand_initializeGetParameterBlock"}).then(function(B){return v.call(this,B),this})},h}(),l.prototype.getEncryptionCommand=function(p){return d.STU.send({scope:s,id:i,function:"getEncryptionCommand",encryptionCommandNumber:p})},l.prototype.getReportSizeCollection=function(){return d.STU.send({scope:s,id:i,function:"getReportSizeCollection"})},l.prototype.setReportRate=function(p){return d.STU.send({scope:s,id:i,function:"setReportRate",reportRate:p})},l.prototype.getReportRate=function(){return d.STU.send({scope:s,id:i,function:"getReportRate"})},l.prototype.RenderingMode={RenderingMode_Legacy:0,RenderingMode_WILL:1},l.prototype.setRenderingMode=function(p){return d.STU.send({scope:s,id:i,function:"setRenderingMode",renderingMode:p})},l.prototype.getRenderingMode=function(){return d.STU.send({scope:s,id:i,function:"getRenderingMode"})},l}(),_.prototype.ProtocolHelper={ReportHandler:function(){var s="WacomGSS.STU.ProtocolHelper.ReportHandler",i=null,c=null;function l(){this.onReportPenData=function(p){},this.onReportPenDataOption=function(p){},this.onReportPenDataTimeCountSequence=function(p){},this.onReportPenDataEncrypted=function(p){},this.onReportPenDataEncryptedOption=function(p){},this.onReportPenDataTimeCountSequenceEncrypted=function(p){},this.onReportDevicePublicKey=function(p){},this.onReportEncryptionStatus=function(p){},this.onReportEventDataPinPad=function(p){},this.onReportEventDataKeyPad=function(p){},this.onReportEventDataSignature=function(p){},this.onReportEventDataPinPadEncrypted=function(p){},this.onReportEventDataKeyPadEncrypted=function(p){},this.onReportEventDataSignatureEncrypted=function(p){},this.decrypt=function(p){},this.tabletDisconnected=function(p){},this.stream=function(p){var v=new d.STU.Protocol;switch(p.reportId){case v.ReportId.ReportId_PenData:this.onReportPenData(p);break;case v.ReportId.ReportId_PenDataOption:this.onReportPenDataOption(p);break;case v.ReportId.ReportId_PenDataTimeCountSequence:this.onReportPenDataTimeCountSequence(p);break;case v.ReportId.ReportId_PenDataEncrypted:this.onReportPenDataEncrypted(p);break;case v.ReportId.ReportId_PenDataEncryptedOption:this.onReportPenDataEncryptedOption(p);break;case v.ReportId.ReportId_PenDataTimeCountSequenceEncrypted:this.onReportPenDataTimeCountSequenceEncrypted(p);break;case v.ReportId.ReportId_DevicePublicKey:this.onReportDevicePublicKey(p);break;case v.ReportId.ReportId_EncryptionStatus:this.onReportEncryptionStatus(p);break;case v.ReportId.ReportId_EventData:this.onEventData(v,p);break;case v.ReportId.ReportId_EventDataEncrypted:this.onEventDataEncrypted(v,p);break;case v.ReportId.SigCaptX_Decrypt:this.decrypt(p);break;case v.ReportId.SigCaptX_TabletDisconnected:this.tabletDisconnected(p);break}}}return l.prototype.startReporting=function(p,v){return i=d.STU.setStream(this),d.STU.send({interfaceQueueHolder:p.toJSON(),scope:s,function:"startReporting",streamId:i,tabletDecrypt:v===!0}).then(function(h){return c=h.id,h})},l.prototype.stopReporting=function(){if(i===null)throw"Error: trying to stop reporting before starting";return d.STU.send({id:c,scope:s,function:"stopReporting"}).then(function(p){return d.STU.removeStream(i),p})},l.prototype.onEventData=function(p,v){switch(v.operationModeType){case p.OperationModeType.OperationModeType_PinPad:this.onReportEventDataPinPad(v);break;case p.OperationModeType.OperationModeType_KeyPad:this.onReportEventDataKeyPad(v);break;case p.OperationModeType.OperationModeType_Signature:this.onReportEventDataSignature(v);break}},l.prototype.onEventDataEncrypted=function(p,v){switch(v.operationModeType){case p.OperationModeType.OperationModeType_PinPad:this.onReportEventDataPinPadEncrypted(v);break;case p.OperationModeType.OperationModeType_KeyPad:this.onReportEventDataKeyPadEncrypted(v);break;case p.OperationModeType.OperationModeType_Signature:this.onReportEventDataSignatureEncrypted(v);break}},l}(),InkState_isOff:1,InkState_isOn:2,InkState_isInk:4,InkState_isFirst:8,InkState_isLast:16,InkState:{InkState_Up:1,InkState_Down:2,InkState_Inking:6,InkState_First:14,InkState_Last:17},OpDirection:{OpDirection_Get:256,OpDirection_Set:512},statusCanSend:function(s,i,c){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"statusCanSend",statusCode:s,reportId:i,opDirection:c})},waitForStatusToSend:function(s,i,c,l,p){var v=Q.defer();function h(){s.getStatus().then(function(T){return d.STU.ProtocolHelper.statusCanSend(T.statusCode,i,c)}).then(function(T){if(T===!0){v.resolve();return}if(l<=0){v.reject(new Error("timeout error"));return}l--,setTimeout(h,p)})}return setTimeout(h,0),v.promise},waitForStatus:function(s,i,c,l){var p=Q.defer();function v(){s.getStatus().then(function(h){if(h.statusCode===i){p.resolve();return}if(c<=0){p.reject(new Error("timeout error"));return}c--,setTimeout(v,l)})}return setTimeout(v,0),p.promise},supportsEncryption:function(s){var i=d.STU.ProtocolHelper.OpDirection.OpDirection_Get;return d.STU.ProtocolHelper.waitForStatusToSend(s,d.STU.Protocol.ReportId.ReportId_DHprime,i,25,50).then(function(c){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"supportsEncryption",protocol:s})})},supportsEncryption_DHprime:function(s){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"supportsEncryption_DHprime",dhPrime:s})},setHostPublicKeyAndPollForDevicePublicKey:function(s,i,c,l){return s.setHostPublicKey(i).then(function(p){var v=d.STU.ProtocolHelper.OpDirection.OpDirection_Get;return d.STU.ProtocolHelper.waitForStatusToSend(s,d.STU.Protocol.ReportId.ReportId_DevicePublicKey,v,c,l)}).then(function(p){return s.getDevicePublicKey()}).then(function(p){if(p.length!==i.length)throw new Error("Unexpected key size");return p})},writeImage:function(s,i,c,l,p){l=typeof l=="undefined"?25:l,p=typeof p=="undefined"?25:p;var v=d.STU.ProtocolHelper.OpDirection.OpDirection_Set;return d.STU.ProtocolHelper.waitForStatusToSend(s,d.STU.Protocol.ReportId.ReportId_StartImageData,v,l,p).then(function(h){return s.setStartImageData(i)}).then(function(h){var T=s.ImageDataBlock_maxLengthHID;return d.STU.ProtocolHelper.writeImageCommon(s,i,T,c,l,p)})},writeImageCommon:function(s,i,c,l,p,v){if(c>s.ImageDataBlock_maxLengthSerial)throw new Error("Invalid maxImageBlockSize");var h=d.STU.ProtocolHelper.OpDirection.OpDirection_Set;return d.STU.ProtocolHelper.waitForStatusToSend(s,d.STU.Protocol.ReportId.ReportId_ImageDataBlock,h,p,v).then(function(T){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"writeImageCommon",protocol:s.toJSON(),intf:s.getInterface().toJSON(),encodingMode:i,imageData:l,maxImageBlockSize:c})})},flattenMonochrome:function(s,i,c,l){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"flattenMonochrome",b64Data:s,screenWidth:i,screenHeight:c,dataStore:l===!0}).then(function(p){if(typeof p=="string")return p;var v=new d.STU.DataStore;return v.setId(p.id),v})},flatten:function(s,i,c,l,p){var v=new d.STU.Protocol;switch(s){case v.EncodingMode.EncodingMode_24bit:case v.EncodingMode.EncodingMode_24bit_Bulk:return d.STU.ProtocolHelper.flattenColor24(i,c,l,p);case v.EncodingMode.EncodingMode_16bit:case v.EncodingMode.EncodingMode_16bit_Bulk:return d.STU.ProtocolHelper.flattenColor16(i,c,l,p);case v.EncodingMode.EncodingMode_1bit:case v.EncodingMode.EncodingMode_1bit_Bulk:return d.STU.ProtocolHelper.flattenMonochrome(i,c,l,p)}},resizeAndFlatten:function(s,i,c,l,p,v,h,T,C,B,$,V){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"resizeAndFlatten",b64Data:s,offsetX:i,offsetY:c,bitmapWidth:l,bitmapHeight:p,screenWidth:v,screenHeight:h,encodingMode:T,scale:C,backgroundColor:B,clip:$,dataStore:V===!0}).then(function(W){if(typeof W=="string")return W;var E=new d.STU.DataStore;return E.setId(W.id),E})},encodingFlagSupportsColor:function(s){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"encodingFlagSupportsColor",screenWidth:s})},flattenColor16:function(s,i,c,l){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"flattenColor16",b64Data:s,screenWidth:i,screenHeight:c,dataStore:l===!0}).then(function(p){if(typeof p=="string")return p;var v=new d.STU.DataStore;return v.setId(p.id),v})},flattenColor24:function(s,i,c,l){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"flattenColor24",b64Data:s,screenWidth:i,screenHeight:c,dataStore:l===!0}).then(function(p){if(typeof p=="string")return p;var v=new d.STU.DataStore;return v.setId(p.id),v})},generateSymmetricKeyAndWaitForEncryptionStatus:function(s,i,c,l){var p=d.STU.ProtocolHelper.OpDirection.OpDirection_Set,v=Q.defer(),h=m();return r[h]=v,d.STU.ProtocolHelper.waitForStatusToSend(s,d.STU.Protocol.ReportId.ReportId_EncryptionCommand,p,i,c).then(function(T){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"generateSymmetricKeyAndWaitForEncryptionStatus",protocol:s.toJSON(),intf:s.getInterface().toJSON(),timeout:l,sleepBetweenRetries:c,ticket2:h}).then(function(C){return v.promise})})},simulateEncodingFlag:function(s,i){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"simulateEncodingFlag",idProduct:s,encodingFlag:typeof obj=="undefined"?0:i})},writeImageArea:function(s,i,c,l,p,v){p=typeof p=="undefined"?25:p,v=typeof v=="undefined"?25:v;var h=d.STU.ProtocolHelper.OpDirection.OpDirection_Set;return d.STU.ProtocolHelper.waitForStatusToSend(s,d.STU.Protocol.ReportId.ReportId_StartImageDataArea,h,p,v).then(function(T){return s.setStartImageDataArea(i,c)}).then(function(T){var C=s.ImageDataBlock_maxLengthHID;return d.STU.ProtocolHelper.writeImageCommon(s,i,C,l,p,v)})},writeRomImage:function(s,i,c,l,p,v){return d.STU.send({scope:"WacomGSS.STU.ProtocolHelper",function:"writeRomImage",protocol:s,romStartImageData:i,maxImageBlockSize:c,imageData:l,retries:p,sleepBetweenRetries:v})}},_.prototype.Tablet=function(){var s="WacomGSS.STU.Tablet",i=null;function c(){}return c.prototype.toJSON=function(){return{id:i,scope:s}},c.prototype.Constructor=function(l,p,v){return d.STU.send({scope:s,function:"Constructor",hasIntf:typeof l!="undefined",intf:typeof l=="undefined"?null:l.toJSON(),encryptionHandler:typeof p=="undefined"||p===null?null:p.toJSON(),encryptionHandler2:typeof v=="undefined"||v===null?null:v.toJSON()}).then(function(h){return i=h.id,h})},c.prototype.attach=function(l){return d.STU.send({scope:s,id:i,function:"attach",intf:typeof l=="undefined"?null:l.toJSON()})},c.prototype.detach=function(l){return d.STU.send({scope:s,id:i,function:"detach"}).then(function(p){var v;return f(p.scope)&&f(p.id)&&(p.scope==="WacomGSS.STU.UsbInterface"?(v=new _.UsbInterface,v.id=p.id):p.scope==="WacomGSS.STU.SerialInterface"&&(v=new _.SerialInterface,v.id=p.id)),v})},c.prototype.getInformation=function(){return d.STU.send({scope:s,id:i,function:"getInformation"})},c.prototype.setClearScreen=function(){return d.STU.send({scope:s,id:i,function:"setClearScreen"})},c.prototype.isSupported=function(l){return d.STU.send({scope:s,id:i,function:"isSupported",reportId:l})},c.prototype.getProductId=function(l){return d.STU.send({scope:s,id:i,function:"getProductId"})},c.prototype.setPenDataOptionMode=function(l){return d.STU.send({scope:s,id:i,function:"setPenDataOptionMode",penDataOptionMode:l})},c.prototype.getDHprime=function(){return d.STU.send({scope:s,id:i,function:"getDHprime"})},c.prototype.startCapture=function(l){return d.STU.send({scope:s,id:i,function:"startCapture",sessionId:l})},c.prototype.setInkingMode=function(l){return d.STU.send({scope:s,id:i,function:"setInkingMode",inkingMode:l})},c.prototype.queueSetPredicateAll=function(l){return d.STU.send({scope:s,id:i,function:"queueSetPredicateAll",predicate:l})},c.prototype.endCapture=function(){return d.STU.send({scope:s,id:i,function:"endCapture"})},c.prototype.disconnect=function(){return d.STU.send({scope:s,id:i,function:"disconnect"})},c.prototype.empty=function(){return d.STU.send({scope:s,id:i,function:"empty"})},c.prototype.isConnected=function(){return d.STU.send({scope:s,id:i,function:"isConnected"})},c.prototype.supportsWrite=function(){return d.STU.send({scope:s,id:i,function:"supportsWrite"})},c.prototype.getReportCountLengths=function(){return d.STU.send({scope:s,id:i,function:"getReportCountLengths"})},c.prototype.getStatus=function(){return d.STU.send({scope:s,id:i,function:"getStatus"})},c.prototype.reset=function(){return d.STU.send({scope:s,id:i,function:"reset"})},c.prototype.getHidInformation=function(){return d.STU.send({scope:s,id:i,function:"getHidInformation"})},c.prototype.getCapability=function(){return d.STU.send({scope:s,id:i,function:"getCapability"})},c.prototype.getUid=function(){return d.STU.send({scope:s,id:i,function:"getUid"})},c.prototype.setUid=function(l){return d.STU.send({scope:s,id:i,function:"setUid",uid:l})},c.prototype.getUid2=function(){return d.STU.send({scope:s,id:i,function:"getUid2"})},c.prototype.setDefaultMode=function(l){return d.STU.send({scope:s,id:i,function:"setDefaultMode",defaultMode:l})},c.prototype.getDefaultMode=function(){return d.STU.send({scope:s,id:i,function:"getDefaultMode"})},c.prototype.getHostPublicKey=function(){return d.STU.send({scope:s,id:i,function:"getHostPublicKey"})},c.prototype.getDevicePublicKey=function(){return d.STU.send({scope:s,id:i,function:"getDevicePublicKey"})},c.prototype.setDHprime=function(l){return d.STU.send({scope:s,id:i,function:"setDHprime",prime:l})},c.prototype.getDHbase=function(){return d.STU.send({scope:s,id:i,function:"getDHbase"})},c.prototype.setDHbase=function(l){return d.STU.send({scope:s,id:i,function:"setDHbase",base})},c.prototype.setClearScreenArea=function(l){return d.STU.send({scope:s,id:i,function:"setClearScreenArea",area:l})},c.prototype.getInkingMode=function(){return d.STU.send({scope:s,id:i,function:"getInkingMode"})},c.prototype.getInkThreshold=function(){return d.STU.send({scope:s,id:i,function:"getInkThreshold"})},c.prototype.setInkThreshold=function(l){return d.STU.send({scope:s,id:i,function:"setInkThreshold",inkThreshold:l})},c.prototype.writeImage=function(l,p){var v=null;return typeof p=="string"?v=p:v=p.toJSON(),d.STU.send({scope:s,id:i,function:"writeImage",encodingMode:l,b64Data:v})},c.prototype.writeImageArea=function(l,p,v){var h=null;return typeof v=="string"?h=v:h=v.toJSON(),d.STU.send({scope:s,id:i,function:"writeImageArea",encodingMode:l,area:p,b64Data:h})},c.prototype.endImageData=function(l){return d.STU.send({scope:s,id:i,function:"endImageData"})},c.prototype.getHandwritingThicknessColor=function(){return d.STU.send({scope:s,id:i,function:"getHandwritingThicknessColor"})},c.prototype.setHandwritingThicknessColor=function(l){return d.STU.send({scope:s,id:i,function:"setHandwritingThicknessColor",handwritingThicknessColor:l})},c.prototype.getHandwritingThicknessColor24=function(){return d.STU.send({scope:s,id:i,function:"getHandwritingThicknessColor24"})},c.prototype.setHandwritingThicknessColor24=function(l){return d.STU.send({scope:s,id:i,function:"setHandwritingThicknessColor24",handwritingThicknessColor24:l})},c.prototype.getBackgroundColor=function(){return d.STU.send({scope:s,id:i,function:"getBackgroundColor"})},c.prototype.setBackgroundColor=function(l){return d.STU.send({scope:s,id:i,function:"setBackgroundColor",backgroundColor:l})},c.prototype.getBackgroundColor24=function(){return d.STU.send({scope:s,id:i,function:"getBackgroundColor24"})},c.prototype.setBackgroundColor24=function(l){return d.STU.send({scope:s,id:i,function:"setBackgroundColor24",backgroundColor24:l})},c.prototype.getHandwritingDisplayArea=function(){return d.STU.send({scope:s,id:i,function:"getHandwritingDisplayArea"})},c.prototype.setHandwritingDisplayArea=function(l){return d.STU.send({scope:s,id:i,function:"setHandwritingDisplayArea",handwritingDisplayArea:l})},c.prototype.getBacklightBrightness=function(){return d.STU.send({scope:s,id:i,function:"getBacklightBrightness"})},c.prototype.setBacklightBrightness=function(l){return d.STU.send({scope:s,id:i,function:"setBacklightBrightness",backlightBrightness:l})},c.prototype.getScreenContrast=function(){return d.STU.send({scope:s,id:i,function:"getScreenContrast"})},c.prototype.setScreenContrast=function(l){return d.STU.send({scope:s,id:i,function:"setScreenContrast",screenContrast:l})},c.prototype.getPenDataOptionMode=function(){return d.STU.send({scope:s,id:i,function:"getPenDataOptionMode"})},c.prototype.getEncryptionStatus=function(){return d.STU.send({scope:s,id:i,function:"getEncryptionStatus"})},c.prototype.getEncryptionCommand=function(l){return d.STU.send({scope:s,id:i,function:"getEncryptionCommand",encryptionCommandNumber:l})},c.prototype.decrypt=function(l){return d.STU.send({scope:s,id:i,decrypt:"decrypt",data:l})},c.prototype.setReportRate=function(l){return d.STU.send({scope:s,id:i,function:"setReportRate",reportRate:l})},c.prototype.getReportRate=function(){return d.STU.send({scope:s,id:i,function:"getReportRate"})},c.prototype.setRenderingMode=function(l){return d.STU.send({scope:s,id:i,function:"setRenderingMode",renderingMode:l})},c.prototype.getRenderingMode=function(){return d.STU.send({scope:s,id:i,function:"getRenderingMode"})},c.prototype.setOperationMode=function(l){return d.STU.send({scope:s,id:i,function:"setOperationMode",operationMode:l})},c.prototype.getOperationMode=function(){return d.STU.send({scope:s,id:i,function:"getOperationMode"})},c.prototype.writeRomImage=function(l,p){return d.STU.send({scope:s,id:i,function:"writeRomImage",romStartImageData:l,imageData:p})},c.prototype.setRomImageHash=function(l,p,v){return d.STU.send({scope:s,id:i,function:"setRomImageHash",operationModeType:l,imageType:p,imageNumber:v})},c.prototype.getRomImageHash=function(){return d.STU.send({scope:s,id:i,function:"getRomImageHash"})},c.prototype.setRomImageDelete=function(l,p,v){return d.STU.send({scope:s,id:i,function:"setRomImageDelete",romImageDeleteMode:l,imageType:p,imageNumber:v})},c.prototype.getCurrentImageArea=function(){return d.STU.send({scope:s,id:i,function:"getCurrentImageArea"})},c.prototype.setRomImageDisplay=function(l,p,v){return d.STU.send({scope:s,id:i,function:"setRomImageDisplay",operationModeType:l,imageType:p,imageNumber:v})},c.prototype.getEserial=function(){return d.STU.send({scope:s,id:i,function:"getEserial"})},c}(),_.prototype.SerialInterface=function(){var s="WacomGSS.STU.SerialInterface",i="";function c(){}return c.prototype.Constructor=function(){return d.STU.send({scope:s,function:"Constructor"}).then(function(l){return i=l.id,l})},c.prototype.BaudRate_STU500=115200,c.prototype.BaudRate_STU430_530_prerelease=460800,c.prototype.BaudRate_STU430_530=3e6,c.prototype.connect=function(l,p,v){return d.STU.send({scope:s,id:i,function:"connect",fileName:l,baudRate:p,useCrc:v})},c.prototype.toJSON=function(){return{id:i,scope:s}},c.prototype.disconnect=function(){return d.STU.send({scope:s,id:i,function:"disconnect"})},c.prototype.isConnected=function(){return d.STU.send({scope:s,id:i,function:"isConnected"})},c.prototype.queueNotifyAll=function(){return d.STU.send({scope:s,id:i,function:"queueNotifyAll"})},c.prototype.queueSetPredicateAll=function(l){return d.STU.send({scope:s,id:i,function:"queueSetPredicateAll",predicate:l})},c.prototype.get=function(l){return d.STU.send({scope:s,id:i,function:"get_",length:l})},c.prototype.set=function(l){return d.STU.send({scope:s,id:i,function:"set",base64Data:l})},c.prototype.supportsWrite=function(){return d.STU.send({scope:s,id:i,function:"supportsWrite"})},c.prototype.write=function(l){return d.STU.send({scope:s,id:i,function:"write",base64Data:l})},c.prototype.getReportCountLengths=function(){return d.STU.send({scope:s,id:i,function:"getReportCountLengths"})},c.prototype.getProductId=function(){return d.STU.send({scope:s,id:i,function:"getProductId"})},c}(),_.prototype.TlsInterface=function(){var s="WacomGSS.STU.TlsInterface",i="";function c(){}return c.prototype.Constructor=function(){return d.STU.send({scope:s,function:"Constructor"}).then(function(l){return i=l.id,l})},c.prototype.ConnectOption={ConnectOption_OOB:1,ConnectOption_SSL:2},c.prototype.connect=function(l,p){return d.STU.send({scope:s,id:i,function:"connect",fileName:l,connectOption:p})},c.prototype.toJSON=function(){return{id:i,scope:s}},c.prototype.disconnect=function(){return d.STU.send({scope:s,id:i,function:"disconnect"})},c.prototype.isConnected=function(){return d.STU.send({scope:s,id:i,function:"isConnected"})},c.prototype.get=function(l){return d.STU.send({scope:s,id:i,function:"get_",length:l})},c.prototype.set=function(l){return d.STU.send({scope:s,id:i,function:"set",base64Data:l})},c.prototype.supportsWrite=function(){return d.STU.send({scope:s,id:i,function:"supportsWrite"})},c.prototype.write=function(l){return d.STU.send({scope:s,id:i,function:"write",base64Data:l})},c.prototype.getReportCountLengths=function(){return d.STU.send({scope:s,id:i,function:"getReportCountLengths"})},c.prototype.getProductId=function(){return d.STU.send({scope:s,id:i,function:"getProductId"})},c}(),_.prototype.DataStore=function(){var s="WacomGSS.STU.DataStore",i=null;function c(){}return c.prototype.setId=function(l){i=l},c.prototype.toJSON=function(){return{id:i,scope:s}},c.prototype.Constructor=function(l){return d.STU.send({scope:s,function:"Constructor",b64Data:l})},c.prototype.getData=function(){return d.STU.send({scope:s,id:i,function:"getData"})},c.prototype.getRemove=function(){return d.STU.send({scope:s,id:i,function:"getRemove"}).then(function(l){return i=null,l})},c.prototype.remove=function(){return d.STU.send({scope:s,id:i,function:"remove"}).then(function(l){return i=null,l})},c.prototype.setData=function(l){return d.STU.send({scope:s,id:i,function:"setData",b64Data:l})},c}(),_.prototype.SerialProtocol={getHeaderLength:function(){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"getHeaderLength"})},isStartReport:function(s){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"isStartReport",byte:s})},decodeHasCrc:function(s){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"decodeHasCrc",header1:s})},decodeEncodedDataLength:function(s,i){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"decodeEncodedDataLength",header1:s,header2:i})},calcEncodedDataLength:function(s,i){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"calcEncodedDataLength",useCrc:s,length:i})},encodeHeader:function(s,i,c){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"encodeHeader",encodedData:s,useCrc:i,encodedDataLength:c})},encodeReport:function(s,i){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"encodeReport",report:s,useCrc:i})},decodeData:function(s){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"decodeData",data:s})},checkCrcAndRemove:function(s){return d.STU.send({scope:"WacomGSS.STU.SerialProtocol",function:"checkCrcAndRemove",container:s})}},_.prototype.EncryptionHandler=function(){var s="WacomGSS.STU.EncryptionHandler",i=null,c=null,l=null,p=new Object;function v(h){l=h,this.stream=function(T){try{p[T.function](T)}catch(C){throw new Error("EncryptionHandler."+T.function+" : "+C+`
message was:
`+JSON.stringify(T))}}}return v.prototype.Constructor=function(){return i=d.STU.setStream(this),d.STU.send({scope:s,function:"Constructor",streamId:i}).then(function(h){return c=h.id,h})},v.prototype.toJSON=function(){return{id:c,scope:s}},p.reset=function(h){l.reset(),d.STU.sendNoReturn({scope:s,function:"set_value",promiseId:h.promiseId,data:null})},p.clearKeys=function(h){l.clearKeys(),d.STU.sendNoReturn({scope:s,function:"set_value",promiseId:h.promiseId,data:null})},p.requireDH=function(h){var T=l.requireDH();d.STU.sendNoReturn({scope:s,function:"set_value",promiseId:h.promiseId,data:T})},p.setDH=function(h){l.setDH(h.data.dhPrime,h.data.dhBase),d.STU.sendNoReturn({scope:s,function:"set_value",promiseId:h.promiseId,data:null})},p.generateHostPublicKey=function(h){var T=l.generateHostPublicKey();d.STU.sendNoReturn({scope:s,function:"set_value",promiseId:h.promiseId,data:T})},p.computeSharedKey=function(h){l.computeSharedKey(h.data),d.STU.sendNoReturn({scope:s,function:"set_value",promiseId:h.promiseId,data:null})},p.decrypt=function(h){var T=l.decrypt(h.data);d.STU.sendNoReturn({scope:s,function:"set_value",promiseId:h.promiseId,data:T})},v}(),_.prototype.EncryptionHandler2=function(){var s="WacomGSS.STU.EncryptionHandler2",i=null,c=null,l=null,p=new Object;function v(h){l=h,this.stream=function(T){try{p[T.function](T)}catch(C){throw new Error("EncryptionHandler2."+T.function+" : "+C+`
message was:
`+JSON.stringify(T))}}}return v.prototype.Constructor=function(){return i=d.STU.setStream(this),d.STU.send({scope:s,function:"Constructor",streamId:i}).then(function(h){return c=h.id,h})},v.prototype.toJSON=function(){return{id:c,scope:s}},p.reset=function(h){l.reset(),d.STU.sendNoReturn({scope:s,function:"set_value",promiseId:h.promiseId,data:null})},p.clearKeys=function(h){l.clearKeys(),d.STU.sendNoReturn({scope:s,function:"set_value",promiseId:h.promiseId,data:null})},p.getParameters=function(h){var T=l.getParameters(h.data.symmetricKeyType,h.data.asymmetricPaddingType,h.data.asymmetricKeyType),C=T[0],B=T[1],$=T[2];d.STU.sendNoReturn({scope:s,function:"set_value",promiseId:h.promiseId,data:{symmetricKeyType:C,asymmetricPaddingType:B,asymmetricKeyType:$}})},p.getPublicExponent=function(h){var T=l.getPublicExponent();d.STU.sendNoReturn({scope:s,function:"set_value",promiseId:h.promiseId,data:T})},p.generatePublicKey=function(h){var T=l.generatePublicKey();d.STU.sendNoReturn({scope:s,function:"set_value",promiseId:h.promiseId,data:T})},p.computeSessionKey=function(h){l.computeSessionKey(h.data),d.STU.sendNoReturn({scope:s,function:"set_value",promiseId:h.promiseId,data:null})},p.decrypt=function(h){var T=l.decrypt(h.data);d.STU.sendNoReturn({scope:s,function:"set_value",promiseId:h.promiseId,data:T})},v}(),_}();d.STU=new d.STUConstructor;var ot={},ei=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then},Rn={},Ee={};let Lt;const ti=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];Ee.getSymbolSize=function(t){if(!t)throw new Error('"version" cannot be null or undefined');if(t<1||t>40)throw new Error('"version" should be in range from 1 to 40');return t*4+17};Ee.getSymbolTotalCodewords=function(t){return ti[t]};Ee.getBCHDigit=function(e){let t=0;for(;e!==0;)t++,e>>>=1;return t};Ee.setToSJISFunction=function(t){if(typeof t!="function")throw new Error('"toSJISFunc" is not a valid function.');Lt=t};Ee.isKanjiModeEnabled=function(){return typeof Lt!="undefined"};Ee.toSJIS=function(t){return Lt(t)};var bt={};(function(e){e.L={bit:1},e.M={bit:0},e.Q={bit:3},e.H={bit:2};function t(n){if(typeof n!="string")throw new Error("Param is not a string");switch(n.toLowerCase()){case"l":case"low":return e.L;case"m":case"medium":return e.M;case"q":case"quartile":return e.Q;case"h":case"high":return e.H;default:throw new Error("Unknown EC Level: "+n)}}e.isValid=function(o){return o&&typeof o.bit!="undefined"&&o.bit>=0&&o.bit<4},e.from=function(o,r){if(e.isValid(o))return o;try{return t(o)}catch{return r}}})(bt);function Dn(){this.buffer=[],this.length=0}Dn.prototype={get:function(e){const t=Math.floor(e/8);return(this.buffer[t]>>>7-e%8&1)===1},put:function(e,t){for(let n=0;n<t;n++)this.putBit((e>>>t-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var ni=Dn;function ut(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}ut.prototype.set=function(e,t,n,o){const r=e*this.size+t;this.data[r]=n,o&&(this.reservedBit[r]=!0)};ut.prototype.get=function(e,t){return this.data[e*this.size+t]};ut.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n};ut.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var oi=ut,Un={};(function(e){const t=Ee.getSymbolSize;e.getRowColCoords=function(o){if(o===1)return[];const r=Math.floor(o/7)+2,a=t(o),f=a===145?26:Math.ceil((a-13)/(2*r-2))*2,m=[a-7];for(let S=1;S<r-1;S++)m[S]=m[S-1]-f;return m.push(6),m.reverse()},e.getPositions=function(o){const r=[],a=e.getRowColCoords(o),f=a.length;for(let m=0;m<f;m++)for(let S=0;S<f;S++)m===0&&S===0||m===0&&S===f-1||m===f-1&&S===0||r.push([a[m],a[S]]);return r}})(Un);var Mn={};const ii=Ee.getSymbolSize,en=7;Mn.getPositions=function(t){const n=ii(t);return[[0,0],[n-en,0],[0,n-en]]};var Bn={};(function(e){e.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const t={N1:3,N2:3,N3:40,N4:10};e.isValid=function(r){return r!=null&&r!==""&&!isNaN(r)&&r>=0&&r<=7},e.from=function(r){return e.isValid(r)?parseInt(r,10):void 0},e.getPenaltyN1=function(r){const a=r.size;let f=0,m=0,S=0,_=null,D=null;for(let N=0;N<a;N++){m=S=0,_=D=null;for(let s=0;s<a;s++){let i=r.get(N,s);i===_?m++:(m>=5&&(f+=t.N1+(m-5)),_=i,m=1),i=r.get(s,N),i===D?S++:(S>=5&&(f+=t.N1+(S-5)),D=i,S=1)}m>=5&&(f+=t.N1+(m-5)),S>=5&&(f+=t.N1+(S-5))}return f},e.getPenaltyN2=function(r){const a=r.size;let f=0;for(let m=0;m<a-1;m++)for(let S=0;S<a-1;S++){const _=r.get(m,S)+r.get(m,S+1)+r.get(m+1,S)+r.get(m+1,S+1);(_===4||_===0)&&f++}return f*t.N2},e.getPenaltyN3=function(r){const a=r.size;let f=0,m=0,S=0;for(let _=0;_<a;_++){m=S=0;for(let D=0;D<a;D++)m=m<<1&2047|r.get(_,D),D>=10&&(m===1488||m===93)&&f++,S=S<<1&2047|r.get(D,_),D>=10&&(S===1488||S===93)&&f++}return f*t.N3},e.getPenaltyN4=function(r){let a=0;const f=r.data.length;for(let S=0;S<f;S++)a+=r.data[S];return Math.abs(Math.ceil(a*100/f/5)-10)*t.N4};function n(o,r,a){switch(o){case e.Patterns.PATTERN000:return(r+a)%2===0;case e.Patterns.PATTERN001:return r%2===0;case e.Patterns.PATTERN010:return a%3===0;case e.Patterns.PATTERN011:return(r+a)%3===0;case e.Patterns.PATTERN100:return(Math.floor(r/2)+Math.floor(a/3))%2===0;case e.Patterns.PATTERN101:return r*a%2+r*a%3===0;case e.Patterns.PATTERN110:return(r*a%2+r*a%3)%2===0;case e.Patterns.PATTERN111:return(r*a%3+(r+a)%2)%2===0;default:throw new Error("bad maskPattern:"+o)}}e.applyMask=function(r,a){const f=a.size;for(let m=0;m<f;m++)for(let S=0;S<f;S++)a.isReserved(S,m)||a.xor(S,m,n(r,S,m))},e.getBestMask=function(r,a){const f=Object.keys(e.Patterns).length;let m=0,S=1/0;for(let _=0;_<f;_++){a(_),e.applyMask(_,r);const D=e.getPenaltyN1(r)+e.getPenaltyN2(r)+e.getPenaltyN3(r)+e.getPenaltyN4(r);e.applyMask(_,r),D<S&&(S=D,m=_)}return m}})(Bn);var xt={};const He=bt,ct=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],ft=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];xt.getBlocksCount=function(t,n){switch(n){case He.L:return ct[(t-1)*4+0];case He.M:return ct[(t-1)*4+1];case He.Q:return ct[(t-1)*4+2];case He.H:return ct[(t-1)*4+3];default:return}};xt.getTotalCodewordsCount=function(t,n){switch(n){case He.L:return ft[(t-1)*4+0];case He.M:return ft[(t-1)*4+1];case He.Q:return ft[(t-1)*4+2];case He.H:return ft[(t-1)*4+3];default:return}};var Fn={},Tt={};const rt=new Uint8Array(512),gt=new Uint8Array(256);(function(){let t=1;for(let n=0;n<255;n++)rt[n]=t,gt[t]=n,t<<=1,t&256&&(t^=285);for(let n=255;n<512;n++)rt[n]=rt[n-255]})();Tt.log=function(t){if(t<1)throw new Error("log("+t+")");return gt[t]};Tt.exp=function(t){return rt[t]};Tt.mul=function(t,n){return t===0||n===0?0:rt[gt[t]+gt[n]]};(function(e){const t=Tt;e.mul=function(o,r){const a=new Uint8Array(o.length+r.length-1);for(let f=0;f<o.length;f++)for(let m=0;m<r.length;m++)a[f+m]^=t.mul(o[f],r[m]);return a},e.mod=function(o,r){let a=new Uint8Array(o);for(;a.length-r.length>=0;){const f=a[0];for(let S=0;S<r.length;S++)a[S]^=t.mul(r[S],f);let m=0;for(;m<a.length&&a[m]===0;)m++;a=a.slice(m)}return a},e.generateECPolynomial=function(o){let r=new Uint8Array([1]);for(let a=0;a<o;a++)r=e.mul(r,new Uint8Array([1,t.exp(a)]));return r}})(Fn);const An=Fn;function $t(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}$t.prototype.initialize=function(t){this.degree=t,this.genPoly=An.generateECPolynomial(this.degree)};$t.prototype.encode=function(t){if(!this.genPoly)throw new Error("Encoder not initialized");const n=new Uint8Array(t.length+this.degree);n.set(t);const o=An.mod(n,this.genPoly),r=this.degree-o.length;if(r>0){const a=new Uint8Array(this.degree);return a.set(o,r),a}return o};var ri=$t,Nn={},ze={},Ht={};Ht.isValid=function(t){return!isNaN(t)&&t>=1&&t<=40};var Ae={};const On="[0-9]+",ai="[A-Z $%*+\\-./:]+";let lt="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";lt=lt.replace(/u/g,"\\u");const si="(?:(?![A-Z0-9 $%*+\\-./:]|"+lt+`)(?:.|[\r
]))+`;Ae.KANJI=new RegExp(lt,"g");Ae.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g");Ae.BYTE=new RegExp(si,"g");Ae.NUMERIC=new RegExp(On,"g");Ae.ALPHANUMERIC=new RegExp(ai,"g");const li=new RegExp("^"+lt+"$"),di=new RegExp("^"+On+"$"),ui=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");Ae.testKanji=function(t){return li.test(t)};Ae.testNumeric=function(t){return di.test(t)};Ae.testAlphanumeric=function(t){return ui.test(t)};(function(e){const t=Ht,n=Ae;e.NUMERIC={id:"Numeric",bit:1<<0,ccBits:[10,12,14]},e.ALPHANUMERIC={id:"Alphanumeric",bit:1<<1,ccBits:[9,11,13]},e.BYTE={id:"Byte",bit:1<<2,ccBits:[8,16,16]},e.KANJI={id:"Kanji",bit:1<<3,ccBits:[8,10,12]},e.MIXED={bit:-1},e.getCharCountIndicator=function(a,f){if(!a.ccBits)throw new Error("Invalid mode: "+a);if(!t.isValid(f))throw new Error("Invalid version: "+f);return f>=1&&f<10?a.ccBits[0]:f<27?a.ccBits[1]:a.ccBits[2]},e.getBestModeForData=function(a){return n.testNumeric(a)?e.NUMERIC:n.testAlphanumeric(a)?e.ALPHANUMERIC:n.testKanji(a)?e.KANJI:e.BYTE},e.toString=function(a){if(a&&a.id)return a.id;throw new Error("Invalid mode")},e.isValid=function(a){return a&&a.bit&&a.ccBits};function o(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"numeric":return e.NUMERIC;case"alphanumeric":return e.ALPHANUMERIC;case"kanji":return e.KANJI;case"byte":return e.BYTE;default:throw new Error("Unknown mode: "+r)}}e.from=function(a,f){if(e.isValid(a))return a;try{return o(a)}catch{return f}}})(ze);(function(e){const t=Ee,n=xt,o=bt,r=ze,a=Ht,f=1<<12|1<<11|1<<10|1<<9|1<<8|1<<5|1<<2|1<<0,m=t.getBCHDigit(f);function S(s,i,c){for(let l=1;l<=40;l++)if(i<=e.getCapacity(l,c,s))return l}function _(s,i){return r.getCharCountIndicator(s,i)+4}function D(s,i){let c=0;return s.forEach(function(l){c+=_(l.mode,i)+l.getBitsLength()}),c}function N(s,i){for(let c=1;c<=40;c++)if(D(s,c)<=e.getCapacity(c,i,r.MIXED))return c}e.from=function(i,c){return a.isValid(i)?parseInt(i,10):c},e.getCapacity=function(i,c,l){if(!a.isValid(i))throw new Error("Invalid QR Code version");typeof l=="undefined"&&(l=r.BYTE);const p=t.getSymbolTotalCodewords(i),v=n.getTotalCodewordsCount(i,c),h=(p-v)*8;if(l===r.MIXED)return h;const T=h-_(l,i);switch(l){case r.NUMERIC:return Math.floor(T/10*3);case r.ALPHANUMERIC:return Math.floor(T/11*2);case r.KANJI:return Math.floor(T/13);case r.BYTE:default:return Math.floor(T/8)}},e.getBestVersionForData=function(i,c){let l;const p=o.from(c,o.M);if(Array.isArray(i)){if(i.length>1)return N(i,p);if(i.length===0)return 1;l=i[0]}else l=i;return S(l.mode,l.getLength(),p)},e.getEncodedBits=function(i){if(!a.isValid(i)||i<7)throw new Error("Invalid QR Code version");let c=i<<12;for(;t.getBCHDigit(c)-m>=0;)c^=f<<t.getBCHDigit(c)-m;return i<<12|c}})(Nn);var Ln={};const Bt=Ee,$n=1<<10|1<<8|1<<5|1<<4|1<<2|1<<1|1<<0,ci=1<<14|1<<12|1<<10|1<<4|1<<1,tn=Bt.getBCHDigit($n);Ln.getEncodedBits=function(t,n){const o=t.bit<<3|n;let r=o<<10;for(;Bt.getBCHDigit(r)-tn>=0;)r^=$n<<Bt.getBCHDigit(r)-tn;return(o<<10|r)^ci};var Hn={};const fi=ze;function Ze(e){this.mode=fi.NUMERIC,this.data=e.toString()}Ze.getBitsLength=function(t){return 10*Math.floor(t/3)+(t%3?t%3*3+1:0)};Ze.prototype.getLength=function(){return this.data.length};Ze.prototype.getBitsLength=function(){return Ze.getBitsLength(this.data.length)};Ze.prototype.write=function(t){let n,o,r;for(n=0;n+3<=this.data.length;n+=3)o=this.data.substr(n,3),r=parseInt(o,10),t.put(r,10);const a=this.data.length-n;a>0&&(o=this.data.substr(n),r=parseInt(o,10),t.put(r,a*3+1))};var pi=Ze;const mi=ze,_t=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function et(e){this.mode=mi.ALPHANUMERIC,this.data=e}et.getBitsLength=function(t){return 11*Math.floor(t/2)+6*(t%2)};et.prototype.getLength=function(){return this.data.length};et.prototype.getBitsLength=function(){return et.getBitsLength(this.data.length)};et.prototype.write=function(t){let n;for(n=0;n+2<=this.data.length;n+=2){let o=_t.indexOf(this.data[n])*45;o+=_t.indexOf(this.data[n+1]),t.put(o,11)}this.data.length%2&&t.put(_t.indexOf(this.data[n]),6)};var hi=et;const gi=ze;function tt(e){this.mode=gi.BYTE,typeof e=="string"?this.data=new TextEncoder().encode(e):this.data=new Uint8Array(e)}tt.getBitsLength=function(t){return t*8};tt.prototype.getLength=function(){return this.data.length};tt.prototype.getBitsLength=function(){return tt.getBitsLength(this.data.length)};tt.prototype.write=function(e){for(let t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var yi=tt;const vi=ze,Si=Ee;function nt(e){this.mode=vi.KANJI,this.data=e}nt.getBitsLength=function(t){return t*13};nt.prototype.getLength=function(){return this.data.length};nt.prototype.getBitsLength=function(){return nt.getBitsLength(this.data.length)};nt.prototype.write=function(e){let t;for(t=0;t<this.data.length;t++){let n=Si.toSJIS(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else if(n>=57408&&n<=60351)n-=49472;else throw new Error("Invalid SJIS character: "+this.data[t]+`
Make sure your charset is UTF-8`);n=(n>>>8&255)*192+(n&255),e.put(n,13)}};var wi=nt,Vn={exports:{}};(function(e){var t={single_source_shortest_paths:function(n,o,r){var a={},f={};f[o]=0;var m=t.PriorityQueue.make();m.push(o,0);for(var S,_,D,N,s,i,c,l,p;!m.empty();){S=m.pop(),_=S.value,N=S.cost,s=n[_]||{};for(D in s)s.hasOwnProperty(D)&&(i=s[D],c=N+i,l=f[D],p=typeof f[D]=="undefined",(p||l>c)&&(f[D]=c,m.push(D,c),a[D]=_))}if(typeof r!="undefined"&&typeof f[r]=="undefined"){var v=["Could not find a path from ",o," to ",r,"."].join("");throw new Error(v)}return a},extract_shortest_path_from_predecessor_list:function(n,o){for(var r=[],a=o;a;)r.push(a),n[a],a=n[a];return r.reverse(),r},find_path:function(n,o,r){var a=t.single_source_shortest_paths(n,o,r);return t.extract_shortest_path_from_predecessor_list(a,r)},PriorityQueue:{make:function(n){var o=t.PriorityQueue,r={},a;n=n||{};for(a in o)o.hasOwnProperty(a)&&(r[a]=o[a]);return r.queue=[],r.sorter=n.sorter||o.default_sorter,r},default_sorter:function(n,o){return n.cost-o.cost},push:function(n,o){var r={value:n,cost:o};this.queue.push(r),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};e.exports=t})(Vn);(function(e){const t=ze,n=pi,o=hi,r=yi,a=wi,f=Ae,m=Ee,S=Vn.exports;function _(v){return unescape(encodeURIComponent(v)).length}function D(v,h,T){const C=[];let B;for(;(B=v.exec(T))!==null;)C.push({data:B[0],index:B.index,mode:h,length:B[0].length});return C}function N(v){const h=D(f.NUMERIC,t.NUMERIC,v),T=D(f.ALPHANUMERIC,t.ALPHANUMERIC,v);let C,B;return m.isKanjiModeEnabled()?(C=D(f.BYTE,t.BYTE,v),B=D(f.KANJI,t.KANJI,v)):(C=D(f.BYTE_KANJI,t.BYTE,v),B=[]),h.concat(T,C,B).sort(function(V,W){return V.index-W.index}).map(function(V){return{data:V.data,mode:V.mode,length:V.length}})}function s(v,h){switch(h){case t.NUMERIC:return n.getBitsLength(v);case t.ALPHANUMERIC:return o.getBitsLength(v);case t.KANJI:return a.getBitsLength(v);case t.BYTE:return r.getBitsLength(v)}}function i(v){return v.reduce(function(h,T){const C=h.length-1>=0?h[h.length-1]:null;return C&&C.mode===T.mode?(h[h.length-1].data+=T.data,h):(h.push(T),h)},[])}function c(v){const h=[];for(let T=0;T<v.length;T++){const C=v[T];switch(C.mode){case t.NUMERIC:h.push([C,{data:C.data,mode:t.ALPHANUMERIC,length:C.length},{data:C.data,mode:t.BYTE,length:C.length}]);break;case t.ALPHANUMERIC:h.push([C,{data:C.data,mode:t.BYTE,length:C.length}]);break;case t.KANJI:h.push([C,{data:C.data,mode:t.BYTE,length:_(C.data)}]);break;case t.BYTE:h.push([{data:C.data,mode:t.BYTE,length:_(C.data)}])}}return h}function l(v,h){const T={},C={start:{}};let B=["start"];for(let $=0;$<v.length;$++){const V=v[$],W=[];for(let E=0;E<V.length;E++){const g=V[E],P=""+$+E;W.push(P),T[P]={node:g,lastCount:0},C[P]={};for(let A=0;A<B.length;A++){const z=B[A];T[z]&&T[z].node.mode===g.mode?(C[z][P]=s(T[z].lastCount+g.length,g.mode)-s(T[z].lastCount,g.mode),T[z].lastCount+=g.length):(T[z]&&(T[z].lastCount=g.length),C[z][P]=s(g.length,g.mode)+4+t.getCharCountIndicator(g.mode,h))}}B=W}for(let $=0;$<B.length;$++)C[B[$]].end=0;return{map:C,table:T}}function p(v,h){let T;const C=t.getBestModeForData(v);if(T=t.from(h,C),T!==t.BYTE&&T.bit<C.bit)throw new Error('"'+v+'" cannot be encoded with mode '+t.toString(T)+`.
 Suggested mode is: `+t.toString(C));switch(T===t.KANJI&&!m.isKanjiModeEnabled()&&(T=t.BYTE),T){case t.NUMERIC:return new n(v);case t.ALPHANUMERIC:return new o(v);case t.KANJI:return new a(v);case t.BYTE:return new r(v)}}e.fromArray=function(h){return h.reduce(function(T,C){return typeof C=="string"?T.push(p(C,null)):C.data&&T.push(p(C.data,C.mode)),T},[])},e.fromString=function(h,T){const C=N(h,m.isKanjiModeEnabled()),B=c(C),$=l(B,T),V=S.find_path($.map,"start","end"),W=[];for(let E=1;E<V.length-1;E++)W.push($.table[V[E]].node);return e.fromArray(i(W))},e.rawSplit=function(h){return e.fromArray(N(h,m.isKanjiModeEnabled()))}})(Hn);const Ct=Ee,Pt=bt,bi=ni,xi=oi,Ti=Un,Ci=Mn,Ft=Bn,At=xt,Ii=ri,yt=Nn,_i=Ln,Pi=ze,kt=Hn;function ki(e,t){const n=e.size,o=Ci.getPositions(t);for(let r=0;r<o.length;r++){const a=o[r][0],f=o[r][1];for(let m=-1;m<=7;m++)if(!(a+m<=-1||n<=a+m))for(let S=-1;S<=7;S++)f+S<=-1||n<=f+S||(m>=0&&m<=6&&(S===0||S===6)||S>=0&&S<=6&&(m===0||m===6)||m>=2&&m<=4&&S>=2&&S<=4?e.set(a+m,f+S,!0,!0):e.set(a+m,f+S,!1,!0))}}function Ei(e){const t=e.size;for(let n=8;n<t-8;n++){const o=n%2===0;e.set(n,6,o,!0),e.set(6,n,o,!0)}}function Ri(e,t){const n=Ti.getPositions(t);for(let o=0;o<n.length;o++){const r=n[o][0],a=n[o][1];for(let f=-2;f<=2;f++)for(let m=-2;m<=2;m++)f===-2||f===2||m===-2||m===2||f===0&&m===0?e.set(r+f,a+m,!0,!0):e.set(r+f,a+m,!1,!0)}}function Di(e,t){const n=e.size,o=yt.getEncodedBits(t);let r,a,f;for(let m=0;m<18;m++)r=Math.floor(m/3),a=m%3+n-8-3,f=(o>>m&1)===1,e.set(r,a,f,!0),e.set(a,r,f,!0)}function Et(e,t,n){const o=e.size,r=_i.getEncodedBits(t,n);let a,f;for(a=0;a<15;a++)f=(r>>a&1)===1,a<6?e.set(a,8,f,!0):a<8?e.set(a+1,8,f,!0):e.set(o-15+a,8,f,!0),a<8?e.set(8,o-a-1,f,!0):a<9?e.set(8,15-a-1+1,f,!0):e.set(8,15-a-1,f,!0);e.set(o-8,8,1,!0)}function Ui(e,t){const n=e.size;let o=-1,r=n-1,a=7,f=0;for(let m=n-1;m>0;m-=2)for(m===6&&m--;;){for(let S=0;S<2;S++)if(!e.isReserved(r,m-S)){let _=!1;f<t.length&&(_=(t[f]>>>a&1)===1),e.set(r,m-S,_),a--,a===-1&&(f++,a=7)}if(r+=o,r<0||n<=r){r-=o,o=-o;break}}}function Mi(e,t,n){const o=new bi;n.forEach(function(S){o.put(S.mode.bit,4),o.put(S.getLength(),Pi.getCharCountIndicator(S.mode,e)),S.write(o)});const r=Ct.getSymbolTotalCodewords(e),a=At.getTotalCodewordsCount(e,t),f=(r-a)*8;for(o.getLengthInBits()+4<=f&&o.put(0,4);o.getLengthInBits()%8!==0;)o.putBit(0);const m=(f-o.getLengthInBits())/8;for(let S=0;S<m;S++)o.put(S%2?17:236,8);return Bi(o,e,t)}function Bi(e,t,n){const o=Ct.getSymbolTotalCodewords(t),r=At.getTotalCodewordsCount(t,n),a=o-r,f=At.getBlocksCount(t,n),m=o%f,S=f-m,_=Math.floor(o/f),D=Math.floor(a/f),N=D+1,s=_-D,i=new Ii(s);let c=0;const l=new Array(f),p=new Array(f);let v=0;const h=new Uint8Array(e.buffer);for(let V=0;V<f;V++){const W=V<S?D:N;l[V]=h.slice(c,c+W),p[V]=i.encode(l[V]),c+=W,v=Math.max(v,W)}const T=new Uint8Array(o);let C=0,B,$;for(B=0;B<v;B++)for($=0;$<f;$++)B<l[$].length&&(T[C++]=l[$][B]);for(B=0;B<s;B++)for($=0;$<f;$++)T[C++]=p[$][B];return T}function Fi(e,t,n,o){let r;if(Array.isArray(e))r=kt.fromArray(e);else if(typeof e=="string"){let _=t;if(!_){const D=kt.rawSplit(e);_=yt.getBestVersionForData(D,n)}r=kt.fromString(e,_||40)}else throw new Error("Invalid data");const a=yt.getBestVersionForData(r,n);if(!a)throw new Error("The amount of data is too big to be stored in a QR Code");if(!t)t=a;else if(t<a)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+a+`.
`);const f=Mi(t,n,r),m=Ct.getSymbolSize(t),S=new xi(m);return ki(S,t),Ei(S),Ri(S,t),Et(S,n,0),t>=7&&Di(S,t),Ui(S,f),isNaN(o)&&(o=Ft.getBestMask(S,Et.bind(null,S,n))),Ft.applyMask(o,S),Et(S,n,o),{modules:S,version:t,errorCorrectionLevel:n,maskPattern:o,segments:r}}Rn.create=function(t,n){if(typeof t=="undefined"||t==="")throw new Error("No input text");let o=Pt.M,r,a;return typeof n!="undefined"&&(o=Pt.from(n.errorCorrectionLevel,Pt.M),r=yt.from(n.version),a=Ft.from(n.maskPattern),n.toSJISFunc&&Ct.setToSJISFunction(n.toSJISFunc)),Fi(t,r,o,a)};var zn={},Vt={};(function(e){function t(n){if(typeof n=="number"&&(n=n.toString()),typeof n!="string")throw new Error("Color should be defined as hex string");let o=n.slice().replace("#","").split("");if(o.length<3||o.length===5||o.length>8)throw new Error("Invalid hex color: "+n);(o.length===3||o.length===4)&&(o=Array.prototype.concat.apply([],o.map(function(a){return[a,a]}))),o.length===6&&o.push("F","F");const r=parseInt(o.join(""),16);return{r:r>>24&255,g:r>>16&255,b:r>>8&255,a:r&255,hex:"#"+o.slice(0,6).join("")}}e.getOptions=function(o){o||(o={}),o.color||(o.color={});const r=typeof o.margin=="undefined"||o.margin===null||o.margin<0?4:o.margin,a=o.width&&o.width>=21?o.width:void 0,f=o.scale||4;return{width:a,scale:a?4:f,margin:r,color:{dark:t(o.color.dark||"#000000ff"),light:t(o.color.light||"#ffffffff")},type:o.type,rendererOpts:o.rendererOpts||{}}},e.getScale=function(o,r){return r.width&&r.width>=o+r.margin*2?r.width/(o+r.margin*2):r.scale},e.getImageWidth=function(o,r){const a=e.getScale(o,r);return Math.floor((o+r.margin*2)*a)},e.qrToImageData=function(o,r,a){const f=r.modules.size,m=r.modules.data,S=e.getScale(f,a),_=Math.floor((f+a.margin*2)*S),D=a.margin*S,N=[a.color.light,a.color.dark];for(let s=0;s<_;s++)for(let i=0;i<_;i++){let c=(s*_+i)*4,l=a.color.light;if(s>=D&&i>=D&&s<_-D&&i<_-D){const p=Math.floor((s-D)/S),v=Math.floor((i-D)/S);l=N[m[p*f+v]?1:0]}o[c++]=l.r,o[c++]=l.g,o[c++]=l.b,o[c]=l.a}}})(Vt);(function(e){const t=Vt;function n(r,a,f){r.clearRect(0,0,a.width,a.height),a.style||(a.style={}),a.height=f,a.width=f,a.style.height=f+"px",a.style.width=f+"px"}function o(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}e.render=function(a,f,m){let S=m,_=f;typeof S=="undefined"&&(!f||!f.getContext)&&(S=f,f=void 0),f||(_=o()),S=t.getOptions(S);const D=t.getImageWidth(a.modules.size,S),N=_.getContext("2d"),s=N.createImageData(D,D);return t.qrToImageData(s.data,a,S),n(N,_,D),N.putImageData(s,0,0),_},e.renderToDataURL=function(a,f,m){let S=m;typeof S=="undefined"&&(!f||!f.getContext)&&(S=f,f=void 0),S||(S={});const _=e.render(a,f,S),D=S.type||"image/png",N=S.rendererOpts||{};return _.toDataURL(D,N.quality)}})(zn);var jn={};const Ai=Vt;function nn(e,t){const n=e.a/255,o=t+'="'+e.hex+'"';return n<1?o+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':o}function Rt(e,t,n){let o=e+t;return typeof n!="undefined"&&(o+=" "+n),o}function Ni(e,t,n){let o="",r=0,a=!1,f=0;for(let m=0;m<e.length;m++){const S=Math.floor(m%t),_=Math.floor(m/t);!S&&!a&&(a=!0),e[m]?(f++,m>0&&S>0&&e[m-1]||(o+=a?Rt("M",S+n,.5+_+n):Rt("m",r,0),r=0,a=!1),S+1<t&&e[m+1]||(o+=Rt("h",f),f=0)):r++}return o}jn.render=function(t,n,o){const r=Ai.getOptions(n),a=t.modules.size,f=t.modules.data,m=a+r.margin*2,S=r.color.light.a?"<path "+nn(r.color.light,"fill")+' d="M0 0h'+m+"v"+m+'H0z"/>':"",_="<path "+nn(r.color.dark,"stroke")+' d="'+Ni(f,a,r.margin)+'"/>',D='viewBox="0 0 '+m+" "+m+'"',N=r.width?'width="'+r.width+'" height="'+r.width+'" ':"",s='<svg xmlns="http://www.w3.org/2000/svg" '+N+D+' shape-rendering="crispEdges">'+S+_+`</svg>
`;return typeof o=="function"&&o(null,s),s};const Oi=ei,Nt=Rn,qn=zn,Li=jn;function zt(e,t,n,o,r){const a=[].slice.call(arguments,1),f=a.length,m=typeof a[f-1]=="function";if(!m&&!Oi())throw new Error("Callback required as last argument");if(m){if(f<2)throw new Error("Too few arguments provided");f===2?(r=n,n=t,t=o=void 0):f===3&&(t.getContext&&typeof r=="undefined"?(r=o,o=void 0):(r=o,o=n,n=t,t=void 0))}else{if(f<1)throw new Error("Too few arguments provided");return f===1?(n=t,t=o=void 0):f===2&&!t.getContext&&(o=n,n=t,t=void 0),new Promise(function(S,_){try{const D=Nt.create(n,o);S(e(D,t,o))}catch(D){_(D)}})}try{const S=Nt.create(n,o);r(null,e(S,t,o))}catch(S){r(S)}}ot.create=Nt.create;ot.toCanvas=zt.bind(null,qn.render);ot.toDataURL=zt.bind(null,qn.renderToDataURL);ot.toString=zt.bind(null,function(e,t,n){return Li.render(e,n)});const $i={id:"IdCardBack",style:{width:"640px",height:"1014px","font-size":"7pt",position:"relative","background-image":"url('/images/REG_ID_Back_Temp.jpg')","background-position":"center","background-size":"contain","font-family":"sans-serif",transform:"scale(0.5)",top:"-200px",left:"185px"}},Hi=["hidden"],Vi={class:"detail",style:{position:"absolute",top:"283px",left:"42px","font-size":"22pt"}},zi={class:"detail",style:{position:"absolute",top:"363px",left:"42px","font-size":"22pt"}},ji={class:"detail",style:{position:"absolute",top:"442px",left:"42px","font-size":"22pt"}},qi={class:"detail",style:{position:"absolute",top:"521px",left:"42px","font-size":"22pt"}},Ki={style:{width:"100%","text-align":"left",position:"absolute",bottom:"376px",left:"53px","font-size":"22pt"}},Wi={style:{width:"100%","text-align":"left",position:"absolute",bottom:"344px",left:"53px","font-size":"22pt"}},Ji={class:"detail",style:{position:"absolute",top:"671px",left:"204px","font-size":"19pt"}},Gi={class:"detail",style:{position:"absolute",top:"705px",left:"204px","font-size":"19pt"}},Qi=["hidden"],Yi=["hidden"],on=Object.assign({name:"IdCardBack"},{__name:"IdCardBack",props:{details:{type:Object,required:!0}},emits:["onPenDataSave"],setup(e,{emit:t}){const n=async b=>{try{var I=document.getElementById("qr-img");I.src=await ot.toDataURL(b)}catch(R){console.error(R)}},o=e,r=t;function a(){r("onPenDataSave",W)}var f=Oe(!1),m="Cancel",S="Clear",_="OK",D=20,N=1e3,s=500,i,c,l,p,v,h,T=-1,C,B,$,V,W,E,g=0,P;Me(()=>o.details,(b,I)=>{b.sig_src&&(W=b.sig_src,C={encodingFlag:3,maxReportRate:200,resolution:64e3,screenHeight:227,screenWidth:359,tabletMaxPressure:1023,tabletMaxX:9600,tabletMaxY:6e3},V={offPressureMark:16,onPressureMark:21},$e()),n("https://ihris.hrmdo-lgubayawan.link/verify/index.php?id="+o.details.employees_id)},{deep:!0});function A(){g=g+1,d.STU.isServiceReady()?(g=0,console.log("SigCaptX Web Service: ready")):(console.log("SigCaptX Web Service: not connected"),g<D?setTimeout(A,N):console.log("Unable to establish connection to SigCaptX"))}setTimeout(A,s);function z(){console.log("DCA disconnected"),setTimeout(Ue,0)}function k(b,I,R,L){this.x=b,this.y=I,this.width=R,this.height=L,this.Contains=function(x){return x.x>=this.x&&x.x<=this.x+this.width&&x.y>=this.y&&x.y<=this.y+this.height}}function J(){this.Bounds,this.Text,this.Click}function Y(b,I){this.x=b,this.y=I}function G(b,I){l=document.createElement("div"),l.id="signatureWindow",l.className="active",l.style.position="relative",l.style.top=0+"px",l.style.left=0+"px",l.style.width=b+"px",l.style.height=I+"px",document.getElementById("sigPreviewContainer").appendChild(l),i=document.createElement("canvas"),i.id="myCanvas",i.height=l.offsetHeight,i.width=l.offsetWidth,i.style.zIndex=999,l.appendChild(i),c=i.getContext("2d"),console.log("canvas.addEventListener:",i.addEventListener),i.addEventListener?(i.addEventListener("click",Ne,!1),console.log("onCanvasClick 0")):i.attachEvent?(i.attachEvent("onClick",Ne),console.log("onCanvasClick 1")):(i.onClick=Ne,console.log("onCanvasClick 2"))}function he(){var b=Q.defer();if(P!=null){var I=new d.STU.Protocol;P.setInkingMode(I.InkingMode.InkingMode_Off).then(function(R){return console.log("received: "+JSON.stringify(R)),P.endCapture()}).then(function(R){return console.log("received: "+JSON.stringify(R)),$!==null?$.remove():R}).then(function(R){return console.log("received: "+JSON.stringify(R)),$=null,P.setClearScreen()}).then(function(R){return console.log("received: "+JSON.stringify(R)),P.disconnect()}).then(function(R){console.log("received: "+JSON.stringify(R)),P=null,ue(i,c)}).then(function(R){b.resolve()}).fail(function(R){console.log("disconnect error: "+R),b.resolve()})}else b.resolve();return b.promise}window.addEventListener("beforeunload",function(b){var I="";return d.STU.close(),(b||window.event).returnValue=I,I});function de(){}de.prototype=new Error;function ne(){f.value=!0,oe()}function oe(){var b=new d.STU.Protocol,I,R,L;d.STU.isDCAReady().then(function(x){if(!x)throw new de;return d.STU.onDCAtimeout=z,d.STU.getUsbDevices()}).then(function(x){if(x==null||x.length==0)throw new Error("No STU devices found");return console.log("received: "+JSON.stringify(x)),E=x,d.STU.isSupportedUsbDevice(E[0].idVendor,E[0].idProduct)}).then(function(x){return console.log("received: "+JSON.stringify(x)),I=new d.STU.UsbInterface,I.Constructor()}).then(function(x){return console.log("received: "+JSON.stringify(x)),I.connect(E[0],!0)}).then(function(x){return console.log("received: "+JSON.stringify(x)),P=new d.STU.Tablet,P.Constructor(I,R,L)}).then(function(x){return console.log("received: "+JSON.stringify(x)),I=null,P.getInkThreshold()}).then(function(x){return console.log("m_inkThreshold received: "+JSON.stringify(x)),V=x,P.getCapability()}).then(function(x){return console.log("m_capability received: "+JSON.stringify(x)),C=x,G(C.screenWidth,C.screenHeight),P.getInformation()}).then(function(x){return console.log("received: "+JSON.stringify(x)),P.getInkThreshold()}).then(function(x){return console.log("received: "+JSON.stringify(x)),P.getProductId()}).then(function(x){return console.log("received: "+JSON.stringify(x)),d.STU.ProtocolHelper.simulateEncodingFlag(x,C.encodingFlag)}).then(function(x){console.log("received: "+JSON.stringify(x));var H=x;if((H&b.EncodingFlag.EncodingFlag_24bit)!=0)return P.supportsWrite().then(function(te){B=te?b.EncodingMode.EncodingMode_24bit_Bulk:b.EncodingMode.EncodingMode_24bit});if((H&b.EncodingFlag.EncodingFlag_16bit)!=0)return P.supportsWrite().then(function(te){B=te?b.EncodingMode.EncodingMode_16bit_Bulk:b.EncodingMode.EncodingMode_16bit});B=b.EncodingMode.EncodingMode_1bit}).then(function(x){return P.setClearScreen()}).then(function(x){return console.log("received from setClearScreen: "+JSON.stringify(x)),x}).then(function(x){return console.log("received: "+JSON.stringify(x)),P.isSupported(b.ReportId.ReportId_PenDataOptionMode)}).then(function(x){return console.log("received: "+JSON.stringify(x)),x?P.getProductId().then(function(H){var te=b.PenDataOptionMode.PenDataOptionMode_None;switch(H){case d.STU.ProductId.ProductId_520A:te=b.PenDataOptionMode.PenDataOptionMode_TimeCount;break;case d.STU.ProductId.ProductId_430:case d.STU.ProductId.ProductId_530:case d.STU.ProductId.ProductId_540:te=b.PenDataOptionMode.PenDataOptionMode_TimeCountSequence;break;default:console.log("Unknown tablet supporting PenDataOptionMode, setting to None.")}return P.setPenDataOptionMode(te)}):(B=b.EncodingMode.EncodingMode_1bit,B)}).then(function(x){console.log("received: "+JSON.stringify(x)),F();var H=i.toDataURL("image/png");return d.STU.ProtocolHelper.resizeAndFlatten(H,0,0,0,0,C.screenWidth,C.screenHeight,B,1,!1,0,!0)}).then(function(x){return $=x,console.log("received: "+JSON.stringify(x)),P.writeImage(B,x)}).then(function(x){return console.log("received: "+JSON.stringify(x)),P.setInkingMode(b.InkingMode.InkingMode_On)}).then(function(x){console.log("received: "+JSON.stringify(x));var H=new d.STU.ProtocolHelper.ReportHandler;v={x:0,y:0},p=!1,c.lineWidth=1;var te=function(u){Re(u,i),we(u,i,c),W.push(u)},ve=function(u){Re(u.penData[0],i),we(u.penData[0],i,c),Re(u.penData[1],i),we(u.penData[1],i,c),W.push(u.penData[0],u.penData[1])},Ie=function(u){},_e=function(u){};return W=new Array,H.onReportPenData=te,H.onReportPenDataOption=te,H.onReportPenDataTimeCountSequence=te,H.onReportPenDataEncrypted=ve,H.onReportPenDataEncryptedOption=ve,H.onReportPenDataTimeCountSequenceEncrypted=te,H.onReportDevicePublicKey=Ie,H.onReportEncryptionStatus=Ie,H.decrypt=_e,H.startReporting(P,!0)}).fail(function(x){console.log(x),x instanceof de?(d.STU.Reinitialize(),setTimeout(oe,N)):(alert(`promptSigDialog failed:
`+x),setTimeout(Ue(),0))})}function F(){if(h=new Array(3),h[0]=new J,h[1]=new J,h[2]=new J,E[0].idProduct!=d.STU.ProductId.ProductId_300){var b=C.screenWidth/3,I=C.screenWidth/3,R=C.screenWidth-b-I,L=C.screenHeight*6/7,x=C.screenHeight-L;h[0].Bounds=new k(0,L,R,x),h[1].Bounds=new k(R,L,b,x),h[2].Bounds=new k(R+b,L,I,x)}else{var H=C.screenWidth*3/4,te=C.screenWidth-H,ve=C.screenHeight/3,Ie=C.screenHeight/3,_e=C.screenHeight-ve-Ie;h[0].Bounds=new k(H,0,te,_e),h[1].Bounds=new k(H,_e,te,ve),h[2].Bounds=new k(H,_e+ve,te,Ie)}h[0].Text=_,h[1].Text=S,h[2].Text=m,h[0].Click=ae,h[1].Click=ge,h[2].Click=re,ue(i,c),ee()}function ee(){c.save(),c.setTransform(1,0,0,1,0,0),c.beginPath(),c.lineWidth=1,c.strokeStyle="black",c.font="30px Arial";for(var b=0;b<h.length;++b){c.fillStyle="lightgrey",c.fillRect(h[b].Bounds.x,h[b].Bounds.y,h[b].Bounds.width,h[b].Bounds.height),c.fillStyle="black",c.rect(h[b].Bounds.x,h[b].Bounds.y,h[b].Bounds.width,h[b].Bounds.height);var I=h[b].Bounds.x+(h[b].Bounds.width/2-c.measureText(h[b].Text).width/2),R;E[0].idProduct==d.STU.ProductId.ProductId_300?R=28:E[0].idProduct==d.STU.ProductId.ProductId_430?R=26:R=40,c.fillText(h[b].Text,I,h[b].Bounds.y+R)}c.stroke(),c.closePath(),c.restore()}function fe(){ue(i,c),ee(),W=new Array,P.writeImage(B,$)}function ae(){console.log("btnOk_Click: ",this),$e(),setTimeout(Ue,0)}function re(){setTimeout(Ue,0)}function ge(){console.log("clear!"),fe()}function Le(b,I){return Math.pow(b.x-I.x,2)+Math.pow(b.y-I.y,2)}function ue(b,I){I.save(),I.setTransform(1,0,0,1,0,0),I.fillStyle="white",I.fillRect(0,0,b.width,b.height),I.restore()}function Be(b,I){I.save(),I.setTransform(1,0,0,1,0,0),I.fillStyle="#ffffff00",I.fillRect(0,0,b.width,b.height),I.restore()}function Re(b,I){var R={};R.x=Math.round(I.width*b.x/C.tabletMaxX),R.y=Math.round(I.height*b.y/C.tabletMaxY);for(var L=p?!(b.pressure<=V.offPressureMark):b.pressure>V.onPressureMark,x=-1,H=0;H<h.length;++H)if(h[H].Bounds.Contains(R)){x=H;break}return p&&!L?(x!=-1&&T===x&&h[x].Click(),T=-1):x!=-1&&!p&&L&&(T=x),x==-1}function we(b,I,R){var L={};L.x=Math.round(I.width*b.x/C.tabletMaxX),L.y=Math.round(I.height*b.y/C.tabletMaxY);var x=p?!(b.pressure<=V.offPressureMark):b.pressure>V.onPressureMark;!p&&x&&(v=L),(x&&10<Le(v,L)||p&&!x)&&(R.beginPath(),R.moveTo(v.x,v.y),R.lineTo(L.x,L.y),R.stroke(),R.closePath(),v=L),p=x}function $e(){console.log("generateImage");var b=document.getElementById("signatureImage"),I=document.createElement("canvas");I.id="signatureCanvas",I.height=227,I.width=359;var R=I.getContext("2d");R.lineWidth=2.5,R.strokeStyle="black",Be(I,R),v={x:0,y:0},p=!1;for(var L=0;L<W.length;L++)we(W[L],I,R);a(),b.src=I.toDataURL("image/png")}function Ue(){f.value=!1,d.STU.onDCAtimeout=null,he(),document.getElementById("sigPreviewContainer").removeChild(l)}function Ne(b){for(var I=b.pageX-l.offsetLeft,R=b.pageY-l.offsetTop,L=0;L<h.length;L++)if(h[L].Bounds.Contains(new Y(I,R))){h[L].Click();break}}return(b,I)=>(ye(),ke(Ye,null,[M("div",$i,[M("div",{hidden:!e.details.address_res_barangay,class:"detail",style:{position:"absolute",top:"170px",left:"35px",overflow:"hidden",width:"559px",height:"59px","font-size":"22pt","line-height":"23pt"}}," BRGY. "+j(e.details.address_res_barangay?e.details.address_res_barangay+", ":"")+" "+j(e.details.address_res_city)+", "+j(e.details.address_res_zip_code)+", "+j(e.details.address_res_province)+", "+j(e.details.address_res_country),9,Hi),I[3]||(I[3]=M("div",{style:{position:"absolute",top:"242px",left:"347px"}},[M("img",{id:"qr-img",style:{height:"300px",width:"300px"},alt:""})],-1)),M("div",Vi,j(e.details.gender),1),M("div",zi,j(e.details.date_of_birth),1),M("div",ji,j(e.details.blood_type),1),M("div",qi,j(e.details.contact_number),1),M("div",Ki,j(e.details.emergency_name),1),M("div",Wi,j(e.details.emergency_number),1),M("div",Ji,j(e.details.date_issued_formatted),1),M("div",Gi,j(e.details.date_expire_formatted),1),M("div",{style:{width:"100%",position:"absolute",top:"354px","text-align":"center"},id:"signatureDiv",onClick:I[0]||(I[0]=R=>ne())},[M("img",{hidden:!e.details.sig_src,id:"signatureImage",class:"signatureImage",style:{height:"227px",width:"359px",position:"absolute",bottom:"-584px",left:"151px"}},null,8,Qi),M("img",{hidden:e.details.sig_src,src:En,style:{height:"227px",width:"359px",position:"absolute",bottom:"-584px",left:"151px"}},null,8,Yi)])]),O(at,{modelValue:Cn(f),"onUpdate:modelValue":I[2]||(I[2]=R=>In(f)?f.value=R:f=R),"backdrop-filter":"sepia(90%)",persistent:""},{default:Z(()=>[O(st,null,{default:Z(()=>[O(Xe,{class:"row items-center q-pb-none text-h6"},{default:Z(()=>I[4]||(I[4]=[De(" Signature ")])),_:1,__:[4]}),O(Xe,null,{default:Z(()=>[I[5]||(I[5]=M("div",{id:"sigPreviewContainer",style:{position:"relative"}},null,-1)),M("div",{style:{width:"107px",height:"29px",position:"absolute",bottom:"16px",left:"16px"},onClick:I[1]||(I[1]=R=>ae())}),M("div",{style:{width:"107px",height:"29px",position:"absolute",bottom:"16px",left:"125px"},onClick:ge}),M("div",{style:{width:"107px",height:"29px",position:"absolute",bottom:"16px",right:"12px"},onClick:re})]),_:1,__:[5]})]),_:1})]),_:1},8,["modelValue"])],64))}});const Xi={id:"IdCardBackV2",style:{width:"640px",height:"1014px","font-size":"7pt",position:"relative","background-image":"url('/images/REG_ID_Back_Temp.jpg')","background-position":"center","background-size":"contain","font-family":"sans-serif"}},Zi=["hidden"],er={class:"detail",style:{position:"absolute",top:"283px",left:"42px","font-size":"22pt"}},tr={class:"detail",style:{position:"absolute",top:"363px",left:"42px","font-size":"22pt"}},nr={class:"detail",style:{position:"absolute",top:"442px",left:"42px","font-size":"22pt"}},or={class:"detail",style:{position:"absolute",top:"521px",left:"42px","font-size":"22pt"}},ir={style:{width:"100%","text-align":"left",position:"absolute",bottom:"376px",left:"53px","font-size":"22pt"}},rr={style:{width:"100%","text-align":"left",position:"absolute",bottom:"344px",left:"53px","font-size":"22pt"}},ar={class:"detail",style:{position:"absolute",top:"671px",left:"204px","font-size":"19pt"}},sr={class:"detail",style:{position:"absolute",top:"705px",left:"204px","font-size":"19pt"}},rn=Object.assign({name:"IdCardBack"},{__name:"IdCardBackV2",props:{details:{type:Object,required:!0}},emits:["onPenDataSave"],setup(e,{emit:t}){const n=async b=>{try{var I=document.getElementById("qr-img-v2");I.src=await ot.toDataURL(b)}catch(R){console.error(R)}},o=e,r=t;function a(){r("onPenDataSave",W)}var f=Oe(!1),m="Cancel",S="Clear",_="OK",D=20,N=1e3,s=500,i,c,l,p,v,h,T=-1,C,B,$,V,W,E,g=0,P;Me(()=>o.details,(b,I)=>{b.sig_src&&(W=b.sig_src,C={encodingFlag:3,maxReportRate:200,resolution:64e3,screenHeight:227,screenWidth:359,tabletMaxPressure:1023,tabletMaxX:9600,tabletMaxY:6e3},V={offPressureMark:16,onPressureMark:21},$e()),n("https://ihris.hrmdo-lgubayawan.link/verify/index.php?id="+o.details.employees_id)},{deep:!0});function A(){g=g+1,d.STU.isServiceReady()?(g=0,console.log("SigCaptX Web Service: ready")):(console.log("SigCaptX Web Service: not connected"),g<D?setTimeout(A,N):console.log("Unable to establish connection to SigCaptX"))}setTimeout(A,s);function z(){console.log("DCA disconnected"),setTimeout(Ue,0)}function k(b,I,R,L){this.x=b,this.y=I,this.width=R,this.height=L,this.Contains=function(x){return x.x>=this.x&&x.x<=this.x+this.width&&x.y>=this.y&&x.y<=this.y+this.height}}function J(){this.Bounds,this.Text,this.Click}function Y(b,I){this.x=b,this.y=I}function G(b,I){l=document.createElement("div"),l.id="signatureWindow",l.className="active",l.style.position="relative",l.style.top=0+"px",l.style.left=0+"px",l.style.width=b+"px",l.style.height=I+"px",document.getElementById("sigPreviewContainer").appendChild(l),i=document.createElement("canvas"),i.id="myCanvas",i.height=l.offsetHeight,i.width=l.offsetWidth,i.style.zIndex=999,l.appendChild(i),c=i.getContext("2d"),console.log("canvas.addEventListener:",i.addEventListener),i.addEventListener?(i.addEventListener("click",Ne,!1),console.log("onCanvasClick 0")):i.attachEvent?(i.attachEvent("onClick",Ne),console.log("onCanvasClick 1")):(i.onClick=Ne,console.log("onCanvasClick 2"))}function he(){var b=Q.defer();if(P!=null){var I=new d.STU.Protocol;P.setInkingMode(I.InkingMode.InkingMode_Off).then(function(R){return console.log("received: "+JSON.stringify(R)),P.endCapture()}).then(function(R){return console.log("received: "+JSON.stringify(R)),$!==null?$.remove():R}).then(function(R){return console.log("received: "+JSON.stringify(R)),$=null,P.setClearScreen()}).then(function(R){return console.log("received: "+JSON.stringify(R)),P.disconnect()}).then(function(R){console.log("received: "+JSON.stringify(R)),P=null,ue(i,c)}).then(function(R){b.resolve()}).fail(function(R){console.log("disconnect error: "+R),b.resolve()})}else b.resolve();return b.promise}window.addEventListener("beforeunload",function(b){var I="";return d.STU.close(),(b||window.event).returnValue=I,I});function de(){}de.prototype=new Error;function ne(){f.value=!0,oe()}function oe(){var b=new d.STU.Protocol,I,R,L;d.STU.isDCAReady().then(function(x){if(!x)throw new de;return d.STU.onDCAtimeout=z,d.STU.getUsbDevices()}).then(function(x){if(x==null||x.length==0)throw new Error("No STU devices found");return console.log("received: "+JSON.stringify(x)),E=x,d.STU.isSupportedUsbDevice(E[0].idVendor,E[0].idProduct)}).then(function(x){return console.log("received: "+JSON.stringify(x)),I=new d.STU.UsbInterface,I.Constructor()}).then(function(x){return console.log("received: "+JSON.stringify(x)),I.connect(E[0],!0)}).then(function(x){return console.log("received: "+JSON.stringify(x)),P=new d.STU.Tablet,P.Constructor(I,R,L)}).then(function(x){return console.log("received: "+JSON.stringify(x)),I=null,P.getInkThreshold()}).then(function(x){return console.log("m_inkThreshold received: "+JSON.stringify(x)),V=x,P.getCapability()}).then(function(x){return console.log("m_capability received: "+JSON.stringify(x)),C=x,G(C.screenWidth,C.screenHeight),P.getInformation()}).then(function(x){return console.log("received: "+JSON.stringify(x)),P.getInkThreshold()}).then(function(x){return console.log("received: "+JSON.stringify(x)),P.getProductId()}).then(function(x){return console.log("received: "+JSON.stringify(x)),d.STU.ProtocolHelper.simulateEncodingFlag(x,C.encodingFlag)}).then(function(x){console.log("received: "+JSON.stringify(x));var H=x;if((H&b.EncodingFlag.EncodingFlag_24bit)!=0)return P.supportsWrite().then(function(te){B=te?b.EncodingMode.EncodingMode_24bit_Bulk:b.EncodingMode.EncodingMode_24bit});if((H&b.EncodingFlag.EncodingFlag_16bit)!=0)return P.supportsWrite().then(function(te){B=te?b.EncodingMode.EncodingMode_16bit_Bulk:b.EncodingMode.EncodingMode_16bit});B=b.EncodingMode.EncodingMode_1bit}).then(function(x){return P.setClearScreen()}).then(function(x){return console.log("received from setClearScreen: "+JSON.stringify(x)),x}).then(function(x){return console.log("received: "+JSON.stringify(x)),P.isSupported(b.ReportId.ReportId_PenDataOptionMode)}).then(function(x){return console.log("received: "+JSON.stringify(x)),x?P.getProductId().then(function(H){var te=b.PenDataOptionMode.PenDataOptionMode_None;switch(H){case d.STU.ProductId.ProductId_520A:te=b.PenDataOptionMode.PenDataOptionMode_TimeCount;break;case d.STU.ProductId.ProductId_430:case d.STU.ProductId.ProductId_530:case d.STU.ProductId.ProductId_540:te=b.PenDataOptionMode.PenDataOptionMode_TimeCountSequence;break;default:console.log("Unknown tablet supporting PenDataOptionMode, setting to None.")}return P.setPenDataOptionMode(te)}):(B=b.EncodingMode.EncodingMode_1bit,B)}).then(function(x){console.log("received: "+JSON.stringify(x)),F();var H=i.toDataURL("image/png");return d.STU.ProtocolHelper.resizeAndFlatten(H,0,0,0,0,C.screenWidth,C.screenHeight,B,1,!1,0,!0)}).then(function(x){return $=x,console.log("received: "+JSON.stringify(x)),P.writeImage(B,x)}).then(function(x){return console.log("received: "+JSON.stringify(x)),P.setInkingMode(b.InkingMode.InkingMode_On)}).then(function(x){console.log("received: "+JSON.stringify(x));var H=new d.STU.ProtocolHelper.ReportHandler;v={x:0,y:0},p=!1,c.lineWidth=1;var te=function(u){Re(u,i),we(u,i,c),W.push(u)},ve=function(u){Re(u.penData[0],i),we(u.penData[0],i,c),Re(u.penData[1],i),we(u.penData[1],i,c),W.push(u.penData[0],u.penData[1])},Ie=function(u){},_e=function(u){};return W=new Array,H.onReportPenData=te,H.onReportPenDataOption=te,H.onReportPenDataTimeCountSequence=te,H.onReportPenDataEncrypted=ve,H.onReportPenDataEncryptedOption=ve,H.onReportPenDataTimeCountSequenceEncrypted=te,H.onReportDevicePublicKey=Ie,H.onReportEncryptionStatus=Ie,H.decrypt=_e,H.startReporting(P,!0)}).fail(function(x){console.log(x),x instanceof de?(d.STU.Reinitialize(),setTimeout(oe,N)):(alert(`promptSigDialog failed:
`+x),setTimeout(Ue(),0))})}function F(){if(h=new Array(3),h[0]=new J,h[1]=new J,h[2]=new J,E[0].idProduct!=d.STU.ProductId.ProductId_300){var b=C.screenWidth/3,I=C.screenWidth/3,R=C.screenWidth-b-I,L=C.screenHeight*6/7,x=C.screenHeight-L;h[0].Bounds=new k(0,L,R,x),h[1].Bounds=new k(R,L,b,x),h[2].Bounds=new k(R+b,L,I,x)}else{var H=C.screenWidth*3/4,te=C.screenWidth-H,ve=C.screenHeight/3,Ie=C.screenHeight/3,_e=C.screenHeight-ve-Ie;h[0].Bounds=new k(H,0,te,_e),h[1].Bounds=new k(H,_e,te,ve),h[2].Bounds=new k(H,_e+ve,te,Ie)}h[0].Text=_,h[1].Text=S,h[2].Text=m,h[0].Click=ae,h[1].Click=ge,h[2].Click=re,ue(i,c),ee()}function ee(){c.save(),c.setTransform(1,0,0,1,0,0),c.beginPath(),c.lineWidth=1,c.strokeStyle="black",c.font="30px Arial";for(var b=0;b<h.length;++b){c.fillStyle="lightgrey",c.fillRect(h[b].Bounds.x,h[b].Bounds.y,h[b].Bounds.width,h[b].Bounds.height),c.fillStyle="black",c.rect(h[b].Bounds.x,h[b].Bounds.y,h[b].Bounds.width,h[b].Bounds.height);var I=h[b].Bounds.x+(h[b].Bounds.width/2-c.measureText(h[b].Text).width/2),R;E[0].idProduct==d.STU.ProductId.ProductId_300?R=28:E[0].idProduct==d.STU.ProductId.ProductId_430?R=26:R=40,c.fillText(h[b].Text,I,h[b].Bounds.y+R)}c.stroke(),c.closePath(),c.restore()}function fe(){ue(i,c),ee(),W=new Array,P.writeImage(B,$)}function ae(){console.log("btnOk_Click: ",this),$e(),setTimeout(Ue,0)}function re(){setTimeout(Ue,0)}function ge(){console.log("clear!"),fe()}function Le(b,I){return Math.pow(b.x-I.x,2)+Math.pow(b.y-I.y,2)}function ue(b,I){I.save(),I.setTransform(1,0,0,1,0,0),I.fillStyle="white",I.fillRect(0,0,b.width,b.height),I.restore()}function Be(b,I){I.save(),I.setTransform(1,0,0,1,0,0),I.fillStyle="#ffffff00",I.fillRect(0,0,b.width,b.height),I.restore()}function Re(b,I){var R={};R.x=Math.round(I.width*b.x/C.tabletMaxX),R.y=Math.round(I.height*b.y/C.tabletMaxY);for(var L=p?!(b.pressure<=V.offPressureMark):b.pressure>V.onPressureMark,x=-1,H=0;H<h.length;++H)if(h[H].Bounds.Contains(R)){x=H;break}return p&&!L?(x!=-1&&T===x&&h[x].Click(),T=-1):x!=-1&&!p&&L&&(T=x),x==-1}function we(b,I,R){var L={};L.x=Math.round(I.width*b.x/C.tabletMaxX),L.y=Math.round(I.height*b.y/C.tabletMaxY);var x=p?!(b.pressure<=V.offPressureMark):b.pressure>V.onPressureMark;!p&&x&&(v=L),(x&&10<Le(v,L)||p&&!x)&&(R.beginPath(),R.moveTo(v.x,v.y),R.lineTo(L.x,L.y),R.stroke(),R.closePath(),v=L),p=x}function $e(){var b=document.getElementById("signatureImageV2"),I=document.createElement("canvas");I.id="signatureCanvas",I.height=227,I.width=359;var R=I.getContext("2d");R.lineWidth="2.5",R.strokeStyle="black",Be(I,R),v={x:0,y:0},p=!1;for(var L=0;L<W.length;L++)we(W[L],I,R);a(),b.src=I.toDataURL("image/png")}function Ue(){f.value=!1,d.STU.onDCAtimeout=null,he(),document.getElementById("sigPreviewContainer").removeChild(l)}function Ne(b){for(var I=b.pageX-l.offsetLeft,R=b.pageY-l.offsetTop,L=0;L<h.length;L++)if(h[L].Bounds.Contains(new Y(I,R))){h[L].Click();break}}return(b,I)=>(ye(),ke(Ye,null,[M("div",Xi,[M("div",{hidden:!e.details.address_res_barangay,class:"detail",style:{position:"absolute",top:"170px",left:"35px",overflow:"hidden",width:"559px",height:"59px","font-size":"22pt","line-height":"23pt","z-index":"9999"}}," BRGY. "+j(e.details.address_res_barangay?e.details.address_res_barangay+", ":"")+" "+j(e.details.address_res_city)+", "+j(e.details.address_res_zip_code)+", "+j(e.details.address_res_province)+", "+j(e.details.address_res_country),9,Zi),I[4]||(I[4]=M("div",{style:{position:"absolute",top:"242px",left:"347px"}},[M("img",{id:"qr-img-v2",style:{height:"300px",width:"300px"},alt:""})],-1)),M("div",er,j(e.details.gender),1),M("div",tr,j(e.details.date_of_birth),1),M("div",nr,j(e.details.blood_type),1),M("div",or,j(e.details.contact_number),1),M("div",ir,j(e.details.emergency_name),1),M("div",rr,j(e.details.emergency_number),1),M("div",ar,j(e.details.date_issued_formatted),1),M("div",sr,j(e.details.date_expire_formatted),1),M("div",{style:{width:"100%",position:"absolute",top:"354px","text-align":"center"},id:"signatureDiv",onClick:I[0]||(I[0]=R=>ne())},I[3]||(I[3]=[M("img",{id:"signatureImageV2",class:"signatureImage",src:En,style:{height:"227px",width:"359px",position:"absolute",bottom:"-584px",left:"151px"}},null,-1)]))]),O(at,{modelValue:Cn(f),"onUpdate:modelValue":I[2]||(I[2]=R=>In(f)?f.value=R:f=R),"backdrop-filter":"sepia(90%)",persistent:""},{default:Z(()=>[O(st,null,{default:Z(()=>[O(Xe,{class:"row items-center q-pb-none text-h6"},{default:Z(()=>I[5]||(I[5]=[De(" Signature ")])),_:1,__:[5]}),O(Xe,null,{default:Z(()=>[I[6]||(I[6]=M("div",{id:"sigPreviewContainer",style:{position:"relative"}},null,-1)),M("div",{style:{width:"107px",height:"29px",position:"absolute",bottom:"16px",left:"16px"},onClick:I[1]||(I[1]=R=>ae())}),M("div",{style:{width:"107px",height:"29px",position:"absolute",bottom:"16px",left:"125px"},onClick:ge}),M("div",{style:{width:"107px",height:"29px",position:"absolute",bottom:"16px",right:"12px"},onClick:re})]),_:1,__:[6]})]),_:1})]),_:1},8,["modelValue"])],64))}});var an=We({name:"QCardActions",props:{...Io,vertical:Boolean},setup(e,{slots:t}){const n=_o(e),o=Se(()=>`q-card__actions ${n.value} q-card__actions--${e.vertical===!0?"vert column":"horiz row"}`);return()=>Fe("div",{class:o.value},dt(t.default))}});function sn(e){if(e===!1)return 0;if(e===!0||e===void 0)return 1;const t=parseInt(e,10);return isNaN(t)?0:t}var ln=Po({name:"close-popup",beforeMount(e,{value:t}){const n={depth:sn(t),handler(o){n.depth!==0&&setTimeout(()=>{const r=uo(e);r!==void 0&&co(r,o,n.depth)})},handlerKey(o){ko(o,13)===!0&&n.handler(o)}};e.__qclosepopup=n,e.addEventListener("click",n.handler),e.addEventListener("keyup",n.handlerKey)},updated(e,{value:t,oldValue:n}){t!==n&&(e.__qclosepopup.depth=sn(t))},beforeUnmount(e){const t=e.__qclosepopup;e.removeEventListener("click",t.handler),e.removeEventListener("keyup",t.handlerKey),delete e.__qclosepopup}});var lr=(e,t)=>{const n=e.__vccOpts||e;for(const[o,r]of t)n[o]=r;return n};const dr={props:{image:{type:String,default:""},accept:{type:String,default:"image/*"},placeholderSvg:{type:String,default:'<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 65 65"><defs><style>.cls-1{fill:#000;}</style></defs><title>Upload_Upload</title><path class="cls-1" d="M32.5,1A31.5,31.5,0,1,1,1,32.5,31.54,31.54,0,0,1,32.5,1m0-1A32.5,32.5,0,1,0,65,32.5,32.5,32.5,0,0,0,32.5,0h0Z"/><polygon class="cls-1" points="41.91 28.2 32.59 18.65 23.09 28.39 24.17 29.44 31.87 21.54 31.87 40.05 33.37 40.05 33.37 21.59 40.83 29.25 41.91 28.2"/><polygon class="cls-1" points="40.66 40.35 40.66 44.35 24.34 44.35 24.34 40.35 22.34 40.35 22.34 44.35 22.34 46.35 24.34 46.35 40.66 46.35 42.66 46.35 42.66 44.35 42.66 40.35 40.66 40.35"/></svg>'},border:{type:Number,default:25},borderRadius:{type:Number,default:0},width:{type:Number,default:200},height:{type:Number,default:200},color:{type:Array,default:()=>[0,0,0,.5]},scale:{type:Number,default:1},rotation:{type:Number,default:0}},data(){return{cursor:"cursorPointer",canvas:null,context:null,dragged:!1,imageLoaded:!1,changed:!1,state:{drag:!1,my:null,mx:null,xxx:"ab",image:{x:0,y:0,resource:null}}}},computed:{canvasWidth(){return this.getDimensions().canvas.width},canvasHeight(){return this.getDimensions().canvas.height},rotationRadian(){return this.rotation*Math.PI/180}},mounted(){let e=this;if(this.canvas=this.$refs.avatarEditorCanvas,this.context=this.canvas.getContext("2d"),this.paint(),this.image)this.loadImage(this.image);else{var t=this.svgToImage(this.placeholderSvg);t.onload=function(){var n=e.canvasWidth/2-this.width/2,o=e.canvasHeight/2-this.height/2;e.context.drawImage(t,n,o,this.width,this.height)}}},methods:{drawRoundedRect(e,t,n,o,r,a){if(a===0)e.rect(t,n,o,r);else{const f=o-a,m=r-a;e.translate(t,n),e.arc(a,a,a,Math.PI,Math.PI*1.5),e.lineTo(f,0),e.arc(f,a,a,Math.PI*1.5,Math.PI*2),e.lineTo(o,m),e.arc(f,m,a,Math.PI*2,Math.PI*.5),e.lineTo(a,r),e.arc(a,m,a,Math.PI*.5,Math.PI),e.translate(-t,-n)}},svgToImage(e){let t=new Blob([e],{type:"image/svg+xml;charset=utf-8"}),o=(self.URL||self.webkitURL||self).createObjectURL(t),r=new Image;return r.src=o,r},setState(e){var t=Math.ceil(1),n=Math.floor(1e4);this.state=e,this.state.cnt="HELLO"+Math.floor(Math.random()*(n-t))+t},paint(){this.context.save(),this.context.translate(0,0),this.context.fillStyle="rgba("+this.color.slice(0,4).join(",")+")";let e=this.borderRadius;const t=this.getDimensions(),n=t.border,o=t.canvas.height,r=t.canvas.width;e=Math.max(e,0),e=Math.min(e,r/2-n,o/2-n),this.context.beginPath(),this.drawRoundedRect(this.context,n,n,r-n*2,o-n*2,e),this.context.rect(r,0,-r,o),this.context.fill("evenodd"),this.context.restore()},getDimensions(){return{width:this.width,height:this.height,border:this.border,canvas:{width:this.width+this.border*2,height:this.height+this.border*2}}},onDrop(e){if(e=e||window.event,e.stopPropagation(),e.preventDefault(),e.dataTransfer&&e.dataTransfer.files.length){const t=new FileReader,n=e.dataTransfer.files[0];this.changed=!0,t.onload=o=>this.loadImage(o.target.result),t.readAsDataURL(n)}},onDragStart(e){e=e||window.event,e.preventDefault(),this.state.drag=!0,this.state.mx=null,this.state.my=null,this.cursor="cursorGrabbing";let t=document,n=!1,o=a=>{this.onDragEnd(a),!n&&a.targetTouches&&e.target.click(),t.removeEventListener("mouseup",o),t.removeEventListener("mousemove",r),t.removeEventListener("touchend",o),t.removeEventListener("touchmove",r)},r=a=>{n=!0,this.onMouseMove(a)};t.addEventListener("mouseup",o),t.addEventListener("mousemove",r),t.addEventListener("touchend",o),t.addEventListener("touchmove",r)},onDragEnd(e){this.state.drag&&(this.state.drag=!1,this.cursor="cursorPointer")},onMouseMove(e){if(e=e||window.event,this.state.drag===!1)return;this.dragged=!0,this.changed=!0;let t=this.state.image;const n=t.x,o=t.y,r=e.targetTouches?e.targetTouches[0].pageX:e.clientX,a=e.targetTouches?e.targetTouches[0].pageY:e.clientY,f={mx:r,my:a,image:t};if(this.state.mx&&this.state.my){const m=(this.state.mx-r)/this.scale,S=(this.state.my-a)/this.scale;t.y=this.getBoundedY(o-S,this.scale),t.x=this.getBoundedX(n-m,this.scale)}this.state.mx=f.mx,this.state.my=f.my,this.state.image=t},replaceImageInBounds(){let e=this.state.image;e.y=this.getBoundedY(e.y,this.scale),e.x=this.getBoundedX(e.x,this.scale)},loadImage(e){let t=new Image,n=this;t.onload=()=>{let o=n.getInitialSize(t.width,t.height);n.state.image.x=0,n.state.image.y=0,n.state.image.resource=t,n.state.image.width=o.width,n.state.image.height=o.height,n.state.drag=!1,n.$emit("vue-avatar-editor:image-ready",n.scale),n.imageLoaded=!0,this.$emit("imageLoaded",n.imageLoaded),n.cursor="cursorGrab"},t.onerror=o=>console.log("error loading image: ",o),this.isDataURL(e)||(t.crossOrigin="anonymous"),t.src=e},getInitialSize(e,t){let n,o;const r=this.getDimensions(),a=r.height/r.width,f=t/e;return a>f?(n=this.getDimensions().height,o=e*(n/t)):(o=this.getDimensions().width,n=t*(o/e)),{height:n,width:o}},isDataURL(e){return e===null?!1:!!e.match(/^\s*data:([a-z]+\/[a-z]+(;[a-z\-]+=[a-z\-]+)?)?(;base64)?,[a-z0-9!$&',()*+;=\-._~:@\/?%\s]*\s*$/i)},getBoundedX(e,t){var n=this.state.image,o=this.getDimensions();let r=Math.abs(n.width*Math.cos(this.rotationRadian))+Math.abs(n.height*Math.sin(this.rotationRadian)),a=Math.floor((r-o.width/t)/2);return a=Math.max(0,a),Math.max(-a,Math.min(e,a))},getBoundedY(e,t){var n=this.state.image,o=this.getDimensions();let r=Math.abs(n.width*Math.sin(this.rotationRadian))+Math.abs(n.height*Math.cos(this.rotationRadian)),a=Math.floor((r-o.height/t)/2);return a=Math.max(0,a),Math.max(-a,Math.min(e,a))},paintImage(e,t,n){if(t.resource){var o=this.calculatePosition(t,n);e.save(),e.globalCompositeOperation="destination-over";let r=this.getDimensions();e.translate(r.canvas.width/2,r.canvas.height/2),e.rotate(this.rotationRadian),e.translate(-r.canvas.width/2,-r.canvas.height/2),e.drawImage(t.resource,o.x,o.y,o.width,o.height),e.restore()}},transformDataWithRotation(e,t){let n=-this.rotationRadian,o=e*Math.cos(n)-t*Math.sin(n),r=e*Math.sin(n)+t*Math.cos(n);return[o,r]},calculatePosition(e,t){e=e||this.state.image;var n=this.getDimensions();let o=e.width*this.scale,r=e.height*this.scale;var a=(o-n.width)/2,f=(r-n.height)/2,m=e.x*this.scale,S=e.y*this.scale;return[m,S]=this.transformDataWithRotation(m,S),m+=t-a,S+=t-f,{x:m,y:S,height:r,width:o}},redraw(){this.context.clearRect(0,0,this.getDimensions().canvas.width,this.getDimensions().canvas.height),this.paint(),this.paintImage(this.context,this.state.image,this.border)},getImage(){const e=this.getCroppingRect(),t=this.state.image;e.x*=t.resource.width,e.y*=t.resource.height,e.width*=t.resource.width,e.height*=t.resource.height;const n=document.createElement("canvas");return n.width=e.width,n.height=e.height,n.getContext("2d").drawImage(t.resource,-e.x,-e.y),n},getImageScaled(){const{width:e,height:t}=this.getDimensions(),n=document.createElement("canvas");return n.width=e,n.height=t,this.paintImage(n.getContext("2d"),this.state.image,0),n},imageChanged(){return this.changed},getCroppingRect(){const e=this.getDimensions(),t={x:e.border,y:e.border,width:e.width,height:e.height},n=this.calculatePosition(this.state.image,e.border);return{x:(t.x-n.x)/n.width,y:(t.y-n.y)/n.height,width:t.width/n.width,height:t.height/n.height}},clicked(e){this.dragged===!0?this.dragged=!1:this.$refs.input.click()},fileSelected(e){var t=e.target.files||e.dataTransfer.files;if(this.$emit("select-file",t),!!t.length){var n=new FileReader;this.changed=!0,n.onload=o=>this.loadImage(o.target.result),n.readAsDataURL(t[0])}},resetImage(){let e=this;this.canvas=this.$refs.avatarEditorCanvas,this.context=this.canvas.getContext("2d"),e.imageLoaded=!1,this.$emit("imageLoaded",e.imageLoaded),e.state={drag:!1,my:null,mx:null,xxx:"ab",image:{x:0,y:0,resource:null}},this.context.clearRect(0,0,this.getDimensions().canvas.width,this.getDimensions().canvas.height),this.paint();var t=this.svgToImage(this.placeholderSvg);t.onload=function(){var n=e.canvasWidth/2-this.width/2,o=e.canvasHeight/2-this.height/2;e.context.drawImage(t,n,o,this.width,this.height)}}},watch:{state:{handler(e,t){this.imageLoaded&&this.redraw()},deep:!0},scale(){this.imageLoaded&&(this.replaceImageInBounds(),this.redraw())},rotation(){this.imageLoaded&&(this.replaceImageInBounds(),this.redraw())},borderRadius(){this.redraw()}}},ur=["width","height"],cr=["accept"];function fr(e,t,n,o,r,a){return ye(),ke("div",null,[M("canvas",{width:a.canvasWidth,height:a.canvasHeight,class:"cursorPointer",id:"avatarEditorCanvas",ref:"avatarEditorCanvas",onDragover:t[0]||(t[0]=mt(()=>{},["prevent"])),onDrop:t[1]||(t[1]=(...f)=>a.onDrop&&a.onDrop(...f)),onMousedown:t[2]||(t[2]=(...f)=>a.onDragStart&&a.onDragStart(...f)),onTouchstart:t[3]||(t[3]=(...f)=>a.onDragStart&&a.onDragStart(...f)),onClick:t[4]||(t[4]=(...f)=>a.clicked&&a.clicked(...f))},null,40,ur),M("input",{type:"file",ref:"input",accept:n.accept,onChange:t[5]||(t[5]=(...f)=>a.fileSelected&&a.fileSelected(...f)),style:{display:"none"}},null,40,cr)])}var pr=lr(dr,[["render",fr]]);const mr={class:"q-mt-sm"},hr={id:"uploadForm",enctype:"multipart/form-data"},dn=Object.assign({name:"PhotoGetter",components:{VueAvatar:pr},data(){return{imageIsLoading:"loaded",uploadDialog:!1,prompt:!1,selectedCamDevice:null,camDevices:[],player:null,rotation:0,scale:1,borderRadius:0,imgSrc:null}},watch:{"selected_employee_data.employees_id"(e){e&&(this.imageIsLoading="loading",this.$nextTick(()=>{this.getPhoto().then(()=>{})}))},prompt(e,t){e||window.stream&&window.stream.getTracks().forEach(n=>{n.stop()})},selectedCamDevice(e){this.getStream()}},methods:{imageLoaded(){this.imageIsLoading="loaded"},async getPhoto(){await this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{getPhoto:!0,employees_id:this.selected_employee_data.employees_id}).then(({data:e})=>{this.$refs.uploadedPhotoRef.src=e,e||(this.imageIsLoading="loaded")}).catch(e=>{console.error(e)})},uploadImage(){this.imageIsLoading="loading";var e=document.getElementById("uploadForm"),t=new FormData(e);t.append("employees_id",this.selected_employee_data.employees_id),this.$api.post("http://192.168.50.50:8081/id_photo_upload.php",t,{headers:{"Content-Type":"multipart/form-data"}}).then(({data:n})=>{this.getPhoto(),this.$emit("imageCaptured",t),this.uploadDialog=!this.uploadDialog,this.imageIsLoading="loaded"}).catch(n=>{console.error(n)})},saveClicked:function(){var t=this.$refs.vueavatar.getImageScaled();const n=t.toDataURL("image/jpeg",1),o=document.getElementById("uploadedPhoto");o.src=n;const r=document.getElementById("canvasCapture");r.getContext("2d").drawImage(o,0,0,r.width,r.height),this.$emit("imageCaptured",n),this.uploadDialog=!this.uploadDialog},onImageReady:function(){this.scale=1,this.rotation=0},uploadPhoto(e){const t=document.getElementById("uploadPhotoInput");var n=document.getElementById("uploadedPhoto");t.files&&t.files[0]&&(n.onload=()=>{URL.revokeObjectURL(n.src),document.getElementById("uploadedPhotoEditor");const o=document.getElementById("canvasCapture");o.getContext("2d").drawImage(n,0,0,n.width,n.height,0,0,o.width,o.height);const a=o.toDataURL("image/jpeg",1);this.$emit("imageCaptured",a)},n.src=URL.createObjectURL(t.files[0]))},promptDialog(){this.camDevices=[],this.getDevices().then(this.gotDevices),this.prompt=!this.prompt,this.$nextTick(()=>{this.player=document.getElementById("player");const e=document.getElementById("canvasCapture"),t=e.getContext("2d");document.getElementById("capture").addEventListener("click",()=>{t.drawImage(this.player,0,0,e.width,e.height);const o=e.toDataURL("image/jpeg",1),r=document.getElementById("uploadedPhoto");r.src=o,this.prompt=!this.prompt,this.$emit("imageCaptured",o),window.stream&&window.stream.getTracks().forEach(a=>{a.stop()})}),this.getStream()})},getStream(){window.stream&&window.stream.getTracks().forEach(n=>{n.stop()});const e=this.selectedCamDevice.value,t={video:{deviceId:e?{exact:e}:void 0}};return navigator.mediaDevices.getUserMedia(t).then(this.gotStream)},gotStream(e){window.stream=e,this.player.srcObject=e},async getDevices(){return await navigator.mediaDevices.enumerateDevices()},async gotDevices(e){window.deviceInfos=e;for(const t of e){const n={label:"",value:""};n.value=t.deviceId,t.kind==="videoinput"&&(n.label=t.label||`Camera ${videoSelect.length+1}`,this.camDevices.push(n))}this.selectedCamDevice==null&&(this.selectedCamDevice=this.camDevices[0])}},created(){}},{__name:"PhotoGetter",props:{selected_employee_data:{type:Object}},emits:["imageCaptured"],setup(e){return(t,n)=>(ye(),ke(Ye,null,[M("div",mr,[O(Te,{unelevated:"",icon:"file_upload",onClick:n[0]||(n[0]=o=>t.uploadDialog=!t.uploadDialog),disable:!e.selected_employee_data.employees_id},{default:Z(()=>n[5]||(n[5]=[De("Upload Photo")])),_:1,__:[5]},8,["disable"]),_n(t.$slots,"buttons")]),O(at,{modelValue:t.prompt,"onUpdate:modelValue":n[2]||(n[2]=o=>t.prompt=o),persistent:""},{default:Z(()=>[O(st,{style:{"min-width":"1500px","text-align":"center"}},{default:Z(()=>[O(Xe,{class:"q-pt-none q-ma-lg"},{default:Z(()=>[O(Ut,{modelValue:t.selectedCamDevice,"onUpdate:modelValue":n[1]||(n[1]=o=>t.selectedCamDevice=o),options:t.camDevices,label:"Device"},null,8,["modelValue","options"]),n[7]||(n[7]=M("video",{id:"player",autoplay:"",style:{width:"1000px"}},null,-1)),n[8]||(n[8]=M("br",null,null,-1)),O(Te,{id:"capture"},{default:Z(()=>n[6]||(n[6]=[De("Capture")])),_:1,__:[6]})]),_:1,__:[7,8]}),O(an,{align:"right",class:"text-primary"},{default:Z(()=>[Gt(O(Te,{flat:"",label:"Cancel"},null,512),[[ln]])]),_:1})]),_:1})]),_:1},8,["modelValue"]),O(at,{modelValue:t.uploadDialog,"onUpdate:modelValue":n[4]||(n[4]=o=>t.uploadDialog=o),persistent:""},{default:Z(()=>[O(st,{style:{"_min-width":"1500px","text-align":"center"}},{default:Z(()=>[O(Xe,{class:"q-pt-none q-ma-lg"},{default:Z(()=>[M("form",hr,[n[9]||(n[9]=M("input",{type:"file",id:"fileInput",name:"image",accept:"image/jpeg"},null,-1)),M("button",{type:"button",onClick:n[3]||(n[3]=o=>t.uploadImage())},"Upload")])]),_:1}),O(an,{align:"right",class:"text-primary"},{default:Z(()=>[Gt(O(Te,{flat:"",label:"Cancel"},null,512),[[ln]])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64))}}),gr={style:{position:"relative",display:"inline"},ref:"clickBox"},yr=["hidden"],vr={style:{"font-size":"12pt"}},Sr={style:{"font-size":"12pt"}},wr={style:{"font-size":"12pt"}},un=Object.assign({name:"PhotoAdjuster",data:function(){return{displayModal:!1,photoFormat:this.photoProps,photoFormatDefault:Object.assign({},this.photoProps),interval:null,count:0,horizontalDir:null}},methods:{mousedown(e){this.horizontalDir=e,this.increment(),this.interval=setInterval(this.increment,100)},mouseup(){clearInterval(this.interval)},increment(){this.horizontalDir=="left"?this.photoFormat.left+=1:this.photoFormat.left-=1},promptDialog(){this.displayModal=!this.displayModal},reset(){this.photoFormat.top=this.photoFormatDefault.top,this.photoFormat.left=this.photoFormatDefault.left,this.photoFormat.scale=this.photoFormatDefault.scale},handleClickOutside(e){this.$refs.clickBox&&!this.$refs.clickBox.contains(e.target)&&(this.displayModal=!1)}},mounted(){window.addEventListener("click",this.handleClickOutside)},beforeUnmount(){window.removeEventListener("click",this.handleClickOutside)}},{__name:"PhotoAdjuster",props:{photoProps:{type:Object,required:!0},selected_employee_data:{type:Object}},setup(e){return(t,n)=>(ye(),ke("div",gr,[O(Te,{unelevated:"",icon:"format_shapes",onClick:n[0]||(n[0]=o=>t.promptDialog()),disable:!e.selected_employee_data.employees_id},null,8,["disable"]),M("div",{class:"q-pa-md",hidden:t.displayModal==!1,style:{position:"absolute","z-index":"999","background-color":"white",width:"250px","box-shadow":"10px 19px 60px -27px","border-radius":"5px",right:"-210px","padding-right":"20px"}},[O(Te,{size:"xs",style:{position:"absolute",top:"10px",right:"10px"},onClick:n[1]||(n[1]=o=>t.reset())},{default:Z(()=>n[6]||(n[6]=[De("Reset")])),_:1,__:[6]}),M("label",vr,"Horizontal: "+j(t.photoFormat.left)+"px",1),O(me,{type:"number",dense:"",modelValue:t.photoFormat.left,"onUpdate:modelValue":n[2]||(n[2]=o=>t.photoFormat.left=o),min:-6e3,max:440,step:1},null,8,["modelValue"]),M("label",Sr,"Vertical: "+j(t.photoFormat.top)+"px",1),O(me,{type:"number",dense:"",modelValue:t.photoFormat.top,"onUpdate:modelValue":n[3]||(n[3]=o=>t.photoFormat.top=o)},null,8,["modelValue"]),M("label",wr,"Scale: "+j(t.photoFormat.scale)+"px",1),O(me,{type:"number",dense:"",modelValue:t.photoFormat.scale,"onUpdate:modelValue":n[4]||(n[4]=o=>t.photoFormat.scale=o),min:0,max:1e3,step:1},null,8,["modelValue"]),O(Te,{size:"xs",onClick:n[5]||(n[5]=o=>t.displayModal=!t.displayModal)},{default:Z(()=>n[7]||(n[7]=[De("Close")])),_:1,__:[7]})],8,yr)],512))}}),br={style:{position:"relative"},ref:"clickBox"},xr=["hidden"],Tr={for:"",style:{"font-size":"12pt"}},Cr={for:"",style:{"font-size":"12pt"}},Ir={for:"",style:{"font-size":"12pt"}},je=Object.assign({name:"TextFormatter",data:function(){return{displayModal:!1,text:this.textProps,textDefault:Object.assign({},this.textProps)}},methods:{adjustLastName(){this.displayModal=!this.displayModal},reset(){this.text.font_size=this.textDefault.font_size,this.text.bottom=this.textDefault.bottom,this.text.left=this.textDefault.left,this.text.line_height!==void 0&&(this.text.line_height=this.textDefault.line_height)},handleClickOutside(e){this.$refs.clickBox&&!this.$refs.clickBox.contains(e.target)&&(this.displayModal=!1)}},mounted(){window.addEventListener("click",this.handleClickOutside)},beforeUnmount(){window.removeEventListener("click",this.handleClickOutside)}},{__name:"TextFormatter",props:{textProps:{type:Object},textFor:{type:String},customIcon:{type:String,default:"format_shapes"}},setup(e){return(t,n)=>(ye(),ke("div",br,[O(Te,{round:"",dense:"",flat:"",icon:e.customIcon,onClick:n[0]||(n[0]=o=>t.adjustLastName())},null,8,["icon"]),M("div",{class:"q-pa-md",hidden:t.displayModal==!1,style:{position:"absolute","z-index":"999","background-color":"white",width:"250px","box-shadow":"10px 10px 20px 10px","border-radius":"5px",right:"0px"}},[O(Te,{flat:"",round:"",size:"sm",style:{position:"absolute",top:"10px",right:"60px"},onClick:n[1]||(n[1]=o=>t.reset()),icon:"restart_alt"}),O(Te,{round:"",size:"sm",style:{position:"absolute",top:"10px",right:"10px"},onClick:n[2]||(n[2]=o=>t.displayModal=!t.displayModal),icon:"close"}),n[8]||(n[8]=M("div",{class:"q-mb-md"},null,-1)),e.textFor!="horizontalLine"?(ye(),ke(Ye,{key:0},[M("label",Tr,"Font-size: "+j(t.text.font_size)+"px",1),O(me,{type:"number",modelValue:t.text.font_size,"onUpdate:modelValue":n[3]||(n[3]=o=>t.text.font_size=o),min:8,max:60,step:1},null,8,["modelValue"])],64)):pt("",!0),M("label",Cr,"Vertical Position: "+j(t.text.bottom)+"px",1),O(me,{type:"number",modelValue:t.text.bottom,"onUpdate:modelValue":n[4]||(n[4]=o=>t.text.bottom=o),min:0,max:300,step:1},null,8,["modelValue"]),e.textFor=="position"||e.textFor=="department"||e.textFor=="section"?(ye(),ke(Ye,{key:1},[M("label",Ir,"Line Height: "+j(t.text.line_height)+"px",1),O(me,{type:"number",modelValue:t.text.line_height,"onUpdate:modelValue":n[5]||(n[5]=o=>t.text.line_height=o),min:0,max:238,step:1},null,8,["modelValue"])],64)):pt("",!0),O(Te,{size:"xs",onClick:n[6]||(n[6]=o=>t.displayModal=!t.displayModal)},{default:Z(()=>n[7]||(n[7]=[De("Close")])),_:1,__:[7]})],8,xr)],512))}}),qe={__name:"AutocompleteInput",props:{isDisabled:Boolean,modelValue:String,inputLabel:String,suggestions:{type:Array,default:()=>[]}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=t,r=Oe(n.modelValue||""),a=Oe(!1),f=Oe([]);Me(()=>n.modelValue,N=>{N!==r.value&&(r.value=N,S(N))});function m(N){r.value=N,o("update:modelValue",N),S(N)}function S(N){if(!N){f.value=[];return}const s=N.toLowerCase();f.value=n.suggestions.filter(i=>i.toLowerCase().includes(s))}function _(N){r.value=N,o("update:modelValue",N),a.value=!1}function D(){setTimeout(()=>{a.value=!1},200)}return(N,s)=>(ye(),ke("div",null,[O(me,{disable:e.isDisabled,modelValue:r.value,"onUpdate:modelValue":[s[0]||(s[0]=i=>r.value=i),m],label:e.inputLabel,debounce:"300",onFocus:s[1]||(s[1]=i=>a.value=!0),onBlur:D,filled:""},{append:Z(()=>[_n(N.$slots,"append")]),_:3},8,["disable","modelValue","label"]),a.value&&f.value.length?(ye(),Mt(fo,{key:0,class:"bg-white shadow-2 rounded-b",style:{"max-height":"200px",overflow:"auto"}},{default:Z(()=>[(ye(!0),ke(Ye,null,Eo(f.value,(i,c)=>(ye(),Mt(wn,{key:c,clickable:"",onMousedown:mt(l=>_(i),["prevent"])},{default:Z(()=>[O(bn,null,{default:Z(()=>[De(j(i),1)]),_:2},1024)]),_:2},1032,["onMousedown"]))),128))]),_:1})):pt("",!0)]))}};function _r(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),o=n.createElement("base"),r=n.createElement("a");return n.head.appendChild(o),n.body.appendChild(r),t&&(o.href=t),r.href=e,r.href}const Pr=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function Ve(e){const t=[];for(let n=0,o=e.length;n<o;n++)t.push(e[n]);return t}let Je=null;function Kn(e={}){return Je||(e.includeStyleProperties?(Je=e.includeStyleProperties,Je):(Je=Ve(window.getComputedStyle(document.documentElement)),Je))}function vt(e,t){const o=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return o?parseFloat(o.replace("px","")):0}function kr(e){const t=vt(e,"border-left-width"),n=vt(e,"border-right-width");return e.clientWidth+t+n}function Er(e){const t=vt(e,"border-top-width"),n=vt(e,"border-bottom-width");return e.clientHeight+t+n}function Wn(e,t={}){const n=t.width||kr(e),o=t.height||Er(e);return{width:n,height:o}}function Rr(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const Pe=16384;function Dr(e){(e.width>Pe||e.height>Pe)&&(e.width>Pe&&e.height>Pe?e.width>e.height?(e.height*=Pe/e.width,e.width=Pe):(e.width*=Pe/e.height,e.height=Pe):e.width>Pe?(e.height*=Pe/e.width,e.width=Pe):(e.width*=Pe/e.height,e.height=Pe))}function St(e){return new Promise((t,n)=>{const o=new Image;o.onload=()=>{o.decode().then(()=>{requestAnimationFrame(()=>t(o))})},o.onerror=n,o.crossOrigin="anonymous",o.decoding="async",o.src=e})}async function Ur(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function Mr(e,t,n){const o="http://www.w3.org/2000/svg",r=document.createElementNS(o,"svg"),a=document.createElementNS(o,"foreignObject");return r.setAttribute("width",`${t}`),r.setAttribute("height",`${n}`),r.setAttribute("viewBox",`0 0 ${t} ${n}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),r.appendChild(a),a.appendChild(e),Ur(r)}const Ce=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||Ce(n,t)};function Br(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function Fr(e,t){return Kn(t).map(n=>{const o=e.getPropertyValue(n),r=e.getPropertyPriority(n);return`${n}: ${o}${r?" !important":""};`}).join(" ")}function Ar(e,t,n,o){const r=`.${e}:${t}`,a=n.cssText?Br(n):Fr(n,o);return document.createTextNode(`${r}{${a}}`)}function cn(e,t,n,o){const r=window.getComputedStyle(e,n),a=r.getPropertyValue("content");if(a===""||a==="none")return;const f=Pr();try{t.className=`${t.className} ${f}`}catch{return}const m=document.createElement("style");m.appendChild(Ar(f,n,r,o)),t.appendChild(m)}function Nr(e,t,n){cn(e,t,":before",n),cn(e,t,":after",n)}const fn="application/font-woff",pn="image/jpeg",Or={woff:fn,woff2:fn,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:pn,jpeg:pn,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function Lr(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function jt(e){const t=Lr(e).toLowerCase();return Or[t]||""}function $r(e){return e.split(/,/)[1]}function Ot(e){return e.search(/^(data:)/)!==-1}function Jn(e,t){return`data:${t};base64,${e}`}async function Gn(e,t,n){const o=await fetch(e,t);if(o.status===404)throw new Error(`Resource "${o.url}" not found`);const r=await o.blob();return new Promise((a,f)=>{const m=new FileReader;m.onerror=f,m.onloadend=()=>{try{a(n({res:o,result:m.result}))}catch(S){f(S)}},m.readAsDataURL(r)})}const Dt={};function Hr(e,t,n){let o=e.replace(/\?.*/,"");return n&&(o=e),/ttf|otf|eot|woff2?/i.test(o)&&(o=o.replace(/.*\//,"")),t?`[${t}]${o}`:o}async function qt(e,t,n){const o=Hr(e,t,n.includeQueryParams);if(Dt[o]!=null)return Dt[o];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let r;try{const a=await Gn(e,n.fetchRequestInit,({res:f,result:m})=>(t||(t=f.headers.get("Content-Type")||""),$r(m)));r=Jn(a,t)}catch(a){r=n.imagePlaceholder||"";let f=`Failed to fetch resource: ${e}`;a&&(f=typeof a=="string"?a:a.message),f&&console.warn(f)}return Dt[o]=r,r}async function Vr(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):St(t)}async function zr(e,t){if(e.currentSrc){const a=document.createElement("canvas"),f=a.getContext("2d");a.width=e.clientWidth,a.height=e.clientHeight,f==null||f.drawImage(e,0,0,a.width,a.height);const m=a.toDataURL();return St(m)}const n=e.poster,o=jt(n),r=await qt(n,o,t);return St(r)}async function jr(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await It(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function qr(e,t){return Ce(e,HTMLCanvasElement)?Vr(e):Ce(e,HTMLVideoElement)?zr(e,t):Ce(e,HTMLIFrameElement)?jr(e,t):e.cloneNode(Qn(e))}const Kr=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",Qn=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function Wr(e,t,n){var o,r;if(Qn(t))return t;let a=[];return Kr(e)&&e.assignedNodes?a=Ve(e.assignedNodes()):Ce(e,HTMLIFrameElement)&&((o=e.contentDocument)===null||o===void 0?void 0:o.body)?a=Ve(e.contentDocument.body.childNodes):a=Ve(((r=e.shadowRoot)!==null&&r!==void 0?r:e).childNodes),a.length===0||Ce(e,HTMLVideoElement)||await a.reduce((f,m)=>f.then(()=>It(m,n)).then(S=>{S&&t.appendChild(S)}),Promise.resolve()),t}function Jr(e,t,n){const o=t.style;if(!o)return;const r=window.getComputedStyle(e);r.cssText?(o.cssText=r.cssText,o.transformOrigin=r.transformOrigin):Kn(n).forEach(a=>{let f=r.getPropertyValue(a);a==="font-size"&&f.endsWith("px")&&(f=`${Math.floor(parseFloat(f.substring(0,f.length-2)))-.1}px`),Ce(e,HTMLIFrameElement)&&a==="display"&&f==="inline"&&(f="block"),a==="d"&&t.getAttribute("d")&&(f=`path(${t.getAttribute("d")})`),o.setProperty(a,f,r.getPropertyPriority(a))})}function Gr(e,t){Ce(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),Ce(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function Qr(e,t){if(Ce(e,HTMLSelectElement)){const n=t,o=Array.from(n.children).find(r=>e.value===r.getAttribute("value"));o&&o.setAttribute("selected","")}}function Yr(e,t,n){return Ce(t,Element)&&(Jr(e,t,n),Nr(e,t,n),Gr(e,t),Qr(e,t)),t}async function Xr(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const o={};for(let a=0;a<n.length;a++){const m=n[a].getAttribute("xlink:href");if(m){const S=e.querySelector(m),_=document.querySelector(m);!S&&_&&!o[m]&&(o[m]=await It(_,t,!0))}}const r=Object.values(o);if(r.length){const a="http://www.w3.org/1999/xhtml",f=document.createElementNS(a,"svg");f.setAttribute("xmlns",a),f.style.position="absolute",f.style.width="0",f.style.height="0",f.style.overflow="hidden",f.style.display="none";const m=document.createElementNS(a,"defs");f.appendChild(m);for(let S=0;S<r.length;S++)m.appendChild(r[S]);e.appendChild(f)}return e}async function It(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(o=>qr(o,t)).then(o=>Wr(e,o,t)).then(o=>Yr(e,o,t)).then(o=>Xr(o,t))}const Yn=/url\((['"]?)([^'"]+?)\1\)/g,Zr=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,ea=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function ta(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function na(e){const t=[];return e.replace(Yn,(n,o,r)=>(t.push(r),n)),t.filter(n=>!Ot(n))}async function oa(e,t,n,o,r){try{const a=n?_r(t,n):t,f=jt(t);let m;if(r){const S=await r(a);m=Jn(S,f)}else m=await qt(a,f,o);return e.replace(ta(t),`$1${m}$3`)}catch{}return e}function ia(e,{preferredFontFormat:t}){return t?e.replace(ea,n=>{for(;;){const[o,,r]=Zr.exec(n)||[];if(!r)return"";if(r===t)return`src: ${o};`}}):e}function Xn(e){return e.search(Yn)!==-1}async function Zn(e,t,n){if(!Xn(e))return e;const o=ia(e,n);return na(o).reduce((a,f)=>a.then(m=>oa(m,f,t,n)),Promise.resolve(o))}async function Ge(e,t,n){var o;const r=(o=t.style)===null||o===void 0?void 0:o.getPropertyValue(e);if(r){const a=await Zn(r,null,n);return t.style.setProperty(e,a,t.style.getPropertyPriority(e)),!0}return!1}async function ra(e,t){await Ge("background",e,t)||await Ge("background-image",e,t),await Ge("mask",e,t)||await Ge("-webkit-mask",e,t)||await Ge("mask-image",e,t)||await Ge("-webkit-mask-image",e,t)}async function aa(e,t){const n=Ce(e,HTMLImageElement);if(!(n&&!Ot(e.src))&&!(Ce(e,SVGImageElement)&&!Ot(e.href.baseVal)))return;const o=n?e.src:e.href.baseVal,r=await qt(o,jt(o),t);await new Promise((a,f)=>{e.onload=a,e.onerror=t.onImageErrorHandler?(...S)=>{try{a(t.onImageErrorHandler(...S))}catch(_){f(_)}}:f;const m=e;m.decode&&(m.decode=a),m.loading==="lazy"&&(m.loading="eager"),n?(e.srcset="",e.src=r):e.href.baseVal=r})}async function sa(e,t){const o=Ve(e.childNodes).map(r=>eo(r,t));await Promise.all(o).then(()=>e)}async function eo(e,t){Ce(e,Element)&&(await ra(e,t),await aa(e,t),await sa(e,t))}function la(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const o=t.style;return o!=null&&Object.keys(o).forEach(r=>{n[r]=o[r]}),e}const mn={};async function hn(e){let t=mn[e];if(t!=null)return t;const o=await(await fetch(e)).text();return t={url:e,cssText:o},mn[e]=t,t}async function gn(e,t){let n=e.cssText;const o=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map(async f=>{let m=f.replace(o,"$1");return m.startsWith("https://")||(m=new URL(m,e.url).href),Gn(m,t.fetchRequestInit,({result:S})=>(n=n.replace(f,`url(${S})`),[f,S]))});return Promise.all(a).then(()=>n)}function yn(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let o=e.replace(n,"");const r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const S=r.exec(o);if(S===null)break;t.push(S[0])}o=o.replace(r,"");const a=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,f="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",m=new RegExp(f,"gi");for(;;){let S=a.exec(o);if(S===null){if(S=m.exec(o),S===null)break;a.lastIndex=m.lastIndex}else m.lastIndex=a.lastIndex;t.push(S[0])}return t}async function da(e,t){const n=[],o=[];return e.forEach(r=>{if("cssRules"in r)try{Ve(r.cssRules||[]).forEach((a,f)=>{if(a.type===CSSRule.IMPORT_RULE){let m=f+1;const S=a.href,_=hn(S).then(D=>gn(D,t)).then(D=>yn(D).forEach(N=>{try{r.insertRule(N,N.startsWith("@import")?m+=1:r.cssRules.length)}catch(s){console.error("Error inserting rule from remote css",{rule:N,error:s})}})).catch(D=>{console.error("Error loading remote css",D.toString())});o.push(_)}})}catch(a){const f=e.find(m=>m.href==null)||document.styleSheets[0];r.href!=null&&o.push(hn(r.href).then(m=>gn(m,t)).then(m=>yn(m).forEach(S=>{f.insertRule(S,f.cssRules.length)})).catch(m=>{console.error("Error loading remote stylesheet",m)})),console.error("Error inlining remote css file",a)}}),Promise.all(o).then(()=>(e.forEach(r=>{if("cssRules"in r)try{Ve(r.cssRules||[]).forEach(a=>{n.push(a)})}catch(a){console.error(`Error while reading CSS rules from ${r.href}`,a)}}),n))}function ua(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>Xn(t.style.getPropertyValue("src")))}async function ca(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=Ve(e.ownerDocument.styleSheets),o=await da(n,t);return ua(o)}function to(e){return e.trim().replace(/["']/g,"")}function fa(e){const t=new Set;function n(o){(o.style.fontFamily||getComputedStyle(o).fontFamily).split(",").forEach(a=>{t.add(to(a))}),Array.from(o.children).forEach(a=>{a instanceof HTMLElement&&n(a)})}return n(e),t}async function pa(e,t){const n=await ca(e,t),o=fa(e);return(await Promise.all(n.filter(a=>o.has(to(a.style.fontFamily))).map(a=>{const f=a.parentStyleSheet?a.parentStyleSheet.href:null;return Zn(a.cssText,f,t)}))).join(`
`)}async function ma(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await pa(e,t);if(n){const o=document.createElement("style"),r=document.createTextNode(n);o.appendChild(r),e.firstChild?e.insertBefore(o,e.firstChild):e.appendChild(o)}}async function ha(e,t={}){const{width:n,height:o}=Wn(e,t),r=await It(e,t,!0);return await ma(r,t),await eo(r,t),la(r,t),await Mr(r,n,o)}async function ga(e,t={}){const{width:n,height:o}=Wn(e,t),r=await ha(e,t),a=await St(r),f=document.createElement("canvas"),m=f.getContext("2d"),S=t.pixelRatio||Rr(),_=t.canvasWidth||n,D=t.canvasHeight||o;return f.width=_*S,f.height=D*S,t.skipAutoScale||Dr(f),f.style.width=`${_}`,f.style.height=`${D}`,t.backgroundColor&&(m.fillStyle=t.backgroundColor,m.fillRect(0,0,f.width,f.height)),m.drawImage(a,0,0,f.width,f.height),f}async function Qe(e,t={}){return(await ga(e,t)).toDataURL("image/jpeg",t.quality||1)}const ya={class:"row",style:{position:"inherit"}},va={class:"col-6",style:{}},Sa={class:"flex justify-left; q-mb-md"},wa={class:"q-px-md"},ba={class:"row justify-end"},xa={class:"col-10"},Ta={class:"row"},Ca={class:"row"},Ia={class:"col"},_a={class:"col q-ml-sm"},Pa={class:"row"},ka={class:"row"},Ea={class:"row"},Ra={class:"row"},Da={class:"col"},Ua={class:"col q-ml-sm"},Ma={id:"cardFrontAndBack",class:"flex",style:{position:"relative"}},Ba={class:"flex flex-center"},La=Object.assign({name:"IndexPage",components:{IdCardFront:Xt,IdCardFrontV2:Zt,IdCardBack:on,IdCardBackV2:rn,PhotoGetter:dn,PhotoAdjuster:un,TextFormatter:je,AutocompleteInput:qe},data:function(){return{showLoading:!1,departmentOptions:[],sectionOptions:[],addressOptions:[],$q:Lo(),photoFormat:{top:5,left:0,scale:50},textFormat:{position:{font_size:17,bottom:102,left:40,line_height:20},horizontalLine:{bottom:100,left:40},section:{font_size:18,bottom:80,left:40,line_height:20},department:{font_size:18,bottom:58,left:40,line_height:15},lastName:{font_size:40,bottom:140,left:40},firstName:{font_size:24,bottom:124,left:40}},selected_employee_input:null,selected_employee_data:{empno:null,lastName:null,firstName:null,middleName:null,extName:null,position:null,position_function:null,address:null},selected_employee_image_data:null,employees:[],selections:this.employees,timestamp:0}},methods:{saveImageCaptured(e){this.timestamp=new Date().valueOf()},savePendata(e){this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{savePendata:!0,m_penData:e,employees_id:this.selected_employee_data.employees_id}).then(({data:t})=>{}).catch(t=>{console.error(t)})},adjustLastName(){},downloadAsPdf(){var e=document.getElementById("IdCardFront"),t=document.getElementById("IdCardBack");Qe(e,{quality:1}).then(n=>{this.$api.post("http://192.168.50.50:8081/id_card_upload.php",{employees_id:this.selected_employee_data.employees_id,side:"front",image:n},{headers:{"Content-Type":"multipart/form-data"}}).then(()=>{Qe(t,{quality:1}).then(o=>{this.$api.post("http://192.168.50.50:8081/id_card_upload.php",{employees_id:this.selected_employee_data.employees_id,side:"back",image:o},{headers:{"Content-Type":"multipart/form-data"}}).then(()=>{var r=document.createElement("a");r.href="http://192.168.50.50:8081/id_card_print_pdf.php?employee_id="+this.selected_employee_data.employees_id,r.click()})})})})},async setImageData(){var e=document.getElementById("IdCardFrontV2"),t=document.getElementById("IdCardBackV2"),n="",o="";await Qe(e,{quality:1}).then(r=>{n=r}),await Qe(t,{quality:1}).then(r=>{o=r}),this.selected_employee_image_data={frontDataUrl:n,backDataUrl:o}},downloadImage(){var e=document.getElementById("IdCardFrontV2"),t=document.getElementById("IdCardBackV2");Qe(e,{quality:1}).then(n=>{var o=document.createElement("a");o.download=this.selected_employee_data.lastName+"_"+this.selected_employee_data.empno+"_FRONT.jpeg",o.href=n,o.click()}),Qe(t,{quality:1}).then(n=>{var o=document.createElement("a");o.download=this.selected_employee_data.lastName+"_"+this.selected_employee_data.empno+"_BACK.jpeg",o.href=n,o.click()}),this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{tagAsPrinted:!0,selected_employee_data:this.selected_employee_data}).catch(n=>{console.error(n)})},onClearForm(){window.location.reload()},async onSubmit(){await this.setImageData(),this.showLoading=!0,this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{saveEmployeeData:!0,selected_employee_data:this.selected_employee_data,selected_employee_image_data:this.selected_employee_image_data,textFormat:this.textFormat,photoFormat:this.photoFormat}).then(({data:e})=>{this.saveNotify(),this.getEmployeeData(),setTimeout(()=>{this.showLoading=!1},1e3)})},onReset(){},async getEmployeeData(){!this.selected_employee_input||await this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{getEmployeeData:!0,employeeId:this.selected_employee_input.value}).then(({data:e})=>{var t,n,o,r,a,f,m,S,_,D,N,s,i,c,l,p,v,h,T,C,B,$,V,W,E,g,P,A,z,k,J,Y,G,he,de,ne,oe,F,ee,fe,ae,re,ge,Le,ue,Be,Re,we;this.selected_employee_data=e,e.text_formatting&&(this.textFormat.position.font_size=(o=(n=(t=e==null?void 0:e.text_formatting)==null?void 0:t.position)==null?void 0:n.font_size)!=null?o:this.textFormat.position.font_size,this.textFormat.position.bottom=(f=(a=(r=e==null?void 0:e.text_formatting)==null?void 0:r.position)==null?void 0:a.bottom)!=null?f:this.textFormat.position.bottom,this.textFormat.position.line_height=(_=(S=(m=e==null?void 0:e.text_formatting)==null?void 0:m.position)==null?void 0:S.line_height)!=null?_:this.textFormat.position.line_height,this.textFormat.horizontalLine.bottom=(s=(N=(D=e==null?void 0:e.text_formatting)==null?void 0:D.horizontalLine)==null?void 0:N.bottom)!=null?s:this.textFormat.horizontalLine.bottom,this.textFormat.department.font_size=(l=(c=(i=e==null?void 0:e.text_formatting)==null?void 0:i.department)==null?void 0:c.font_size)!=null?l:this.textFormat.department.font_size,this.textFormat.department.bottom=(h=(v=(p=e==null?void 0:e.text_formatting)==null?void 0:p.department)==null?void 0:v.bottom)!=null?h:this.textFormat.department.bottom,this.textFormat.department.line_height=(B=(C=(T=e==null?void 0:e.text_formatting)==null?void 0:T.department)==null?void 0:C.line_height)!=null?B:this.textFormat.department.line_height,this.textFormat.section.font_size=(W=(V=($=e==null?void 0:e.text_formatting)==null?void 0:$.section)==null?void 0:V.font_size)!=null?W:this.textFormat.section.font_size,this.textFormat.section.bottom=(P=(g=(E=e==null?void 0:e.text_formatting)==null?void 0:E.section)==null?void 0:g.bottom)!=null?P:this.textFormat.section.bottom,this.textFormat.section.line_height=(k=(z=(A=e==null?void 0:e.text_formatting)==null?void 0:A.section)==null?void 0:z.line_height)!=null?k:this.textFormat.section.line_height,this.textFormat.lastName.font_size=(G=(Y=(J=e==null?void 0:e.text_formatting)==null?void 0:J.lastName)==null?void 0:Y.font_size)!=null?G:this.textFormat.lastName.font_size,this.textFormat.lastName.bottom=(ne=(de=(he=e==null?void 0:e.text_formatting)==null?void 0:he.lastName)==null?void 0:de.bottom)!=null?ne:this.textFormat.lastName.bottom,this.textFormat.firstName.font_size=(ee=(F=(oe=e==null?void 0:e.text_formatting)==null?void 0:oe.firstName)==null?void 0:F.font_size)!=null?ee:this.textFormat.firstName.font_size,this.textFormat.firstName.bottom=(re=(ae=(fe=e==null?void 0:e.text_formatting)==null?void 0:fe.firstName)==null?void 0:ae.bottom)!=null?re:this.textFormat.firstName.bottom),e.photo_formatting&&(this.photoFormat.top=(Le=(ge=e==null?void 0:e.photo_formatting)==null?void 0:ge.top)!=null?Le:this.photoFormat.top,this.photoFormat.left=(Be=(ue=e==null?void 0:e.photo_formatting)==null?void 0:ue.left)!=null?Be:this.photoFormat.left,this.photoFormat.scale=(we=(Re=e==null?void 0:e.photo_formatting)==null?void 0:Re.scale)!=null?we:this.photoFormat.scale)}).catch(e=>{console.error(e)})},saveNotify(){this.$q.notify({message:"Saved changes!",color:"green",icon:"save"})},filterFn(e,t){if(e===""){t(()=>{this.selections=this.employees});return}t(()=>{const n=e.toLowerCase();this.selections=this.employees.filter(o=>o.label.toLowerCase().indexOf(n)>-1)})},async getOfficeNamesForAutocomplete(){await this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{getOfficeNamesForAutocomplete:"true"}).then(({data:e})=>{this.departmentOptions=e.departments,this.sectionOptions=e.sections})},async getAddressesForAutocomplete(){await this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{getAddressesForAutocomplete:"true"}).then(({data:e})=>{console.log("getAddressesForAutocomplete:",e),this.addressOptions=e})}},async created(){await this.$api.post("http://192.168.50.50:8081/id_card_backend.php",{getEmployeeList:"true"}).then(({data:e})=>{this.employees=e}).catch(e=>{console.error(e)}),await this.getOfficeNamesForAutocomplete(),await this.getAddressesForAutocomplete()},mounted(){this.getEmployeeData()}},{__name:"IndexPage",setup(e){return(t,n)=>(ye(),Mt(Do,{class:"q-pa-md",style:{position:"relative"}},{default:Z(()=>[M("div",null,[M("div",ya,[M("div",va,[O(Ut,{clearable:"",class:"q-mb-md",filled:"",modelValue:t.selected_employee_input,"onUpdate:modelValue":[n[0]||(n[0]=o=>t.selected_employee_input=o),n[2]||(n[2]=o=>t.getEmployeeData())],"use-input":"","input-debounce":"0",label:"Select Employee",options:t.selections,onFilter:t.filterFn,onClear:n[1]||(n[1]=o=>t.onClearForm()),behavior:"menu"},{"no-option":Z(()=>[O(wn,null,{default:Z(()=>[O(bn,{class:"text-grey"},{default:Z(()=>n[26]||(n[26]=[De(" No results ")])),_:1,__:[26]})]),_:1})]),_:1},8,["modelValue","options","onFilter"]),M("div",Sa,[O(Te,{label:"Dashboard",to:"dashboard"}),M("div",wa,[O(dn,{onImageCaptured:t.saveImageCaptured,selected_employee_data:t.selected_employee_data},{buttons:Z(()=>[O(un,{photoProps:t.photoFormat,selected_employee_data:t.selected_employee_data},null,8,["photoProps","selected_employee_data"])]),_:1},8,["onImageCaptured","selected_employee_data"])])]),M("div",ba,[M("div",xa,[O(Ao,{onSubmit:mt(t.onSubmit,["prevent"]),onReset:t.onReset,class:"q-gutter-sm_"},{default:Z(()=>[O(me,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.empno,"onUpdate:modelValue":n[3]||(n[3]=o=>t.selected_employee_data.empno=o),label:"ID Number *",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"Please enter the ID number"]},null,8,["disable","modelValue","rules"]),M("div",Ta,[O(me,{disable:!t.selected_employee_input,class:"col",dense:"",filled:"",modelValue:t.selected_employee_data.lastName,"onUpdate:modelValue":n[4]||(n[4]=o=>t.selected_employee_data.lastName=o),label:"Last Name",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Last Name should not be empty!"]},{append:Z(()=>[O(je,{textProps:t.textFormat.lastName,textFor:"lastName"},null,8,["textProps"])]),_:1},8,["disable","modelValue","rules"]),O(me,{disable:!t.selected_employee_input,class:"col q-ml-sm",dense:"",filled:"",modelValue:t.selected_employee_data.firstName,"onUpdate:modelValue":n[5]||(n[5]=o=>t.selected_employee_data.firstName=o),label:"First Name",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* First Name should not be empty!"]},{append:Z(()=>[O(je,{textProps:t.textFormat.firstName,textFor:"firstName"},null,8,["textProps"])]),_:1},8,["disable","modelValue","rules"])]),M("div",Ca,[M("div",Ia,[O(me,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.middleName,"onUpdate:modelValue":n[6]||(n[6]=o=>t.selected_employee_data.middleName=o),label:"Middle Name",hint:""},null,8,["disable","modelValue"])]),M("div",_a,[O(me,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.extName,"onUpdate:modelValue":n[7]||(n[7]=o=>t.selected_employee_data.extName=o),label:"Name Extension"},null,8,["disable","modelValue"])])]),O(me,{disable:!t.selected_employee_input,class:"col",dense:"",filled:"",modelValue:t.selected_employee_data.position,"onUpdate:modelValue":n[8]||(n[8]=o=>t.selected_employee_data.position=o),label:"Position",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Position should not be empty!"],type:"textarea",autogrow:"",onKeyup:n[9]||(n[9]=Ro(mt(()=>{},["prevent"]),["enter"]))},{append:Z(()=>[O(je,{textProps:t.textFormat.position,textFor:"position"},null,8,["textProps"]),O(je,{textProps:t.textFormat.horizontalLine,textFor:"horizontalLine",customIcon:"vertical_align_center"},null,8,["textProps"])]),_:1},8,["disable","modelValue","rules"]),O(qe,{isDisabled:!t.selected_employee_input,"input-label":"Section",modelValue:t.selected_employee_data.section,"onUpdate:modelValue":n[10]||(n[10]=o=>t.selected_employee_data.section=o),suggestions:t.sectionOptions},{append:Z(()=>[O(je,{textProps:t.textFormat.section,textFor:"section"},null,8,["textProps"])]),_:1},8,["isDisabled","modelValue","suggestions"]),O(qe,{isDisabled:!t.selected_employee_input,"input-label":"Department",modelValue:t.selected_employee_data.department,"onUpdate:modelValue":n[11]||(n[11]=o=>t.selected_employee_data.department=o),suggestions:t.departmentOptions},{append:Z(()=>[O(je,{textProps:t.textFormat.department,textFor:"department"},null,8,["textProps"])]),_:1},8,["isDisabled","modelValue","suggestions"]),O(qe,{isDisabled:!t.selected_employee_input,"input-label":"Barangay",modelValue:t.selected_employee_data.address_res_barangay,"onUpdate:modelValue":n[12]||(n[12]=o=>t.selected_employee_data.address_res_barangay=o),suggestions:t.addressOptions.res_barangays},null,8,["isDisabled","modelValue","suggestions"]),M("div",Pa,[O(qe,{class:"col q-mr-sm",isDisabled:!t.selected_employee_input,"input-label":"City/Municipality",modelValue:t.selected_employee_data.address_res_city,"onUpdate:modelValue":n[13]||(n[13]=o=>t.selected_employee_data.address_res_city=o),suggestions:t.addressOptions.res_citys},null,8,["isDisabled","modelValue","suggestions"]),O(qe,{class:"col q-mr-sm",isDisabled:!t.selected_employee_input,"input-label":"Zipcode",modelValue:t.selected_employee_data.address_res_zip_code,"onUpdate:modelValue":n[14]||(n[14]=o=>t.selected_employee_data.address_res_zip_code=o),suggestions:t.addressOptions.res_zip_codes},null,8,["isDisabled","modelValue","suggestions"])]),O(qe,{class:"col q-mr-sm",isDisabled:!t.selected_employee_input,"input-label":"Province",modelValue:t.selected_employee_data.address_res_province,"onUpdate:modelValue":n[15]||(n[15]=o=>t.selected_employee_data.address_res_province=o),suggestions:t.addressOptions.res_provinces},null,8,["isDisabled","modelValue","suggestions"]),M("div",ka,[O(Ut,{disable:!t.selected_employee_input,class:"col",dense:"",outlined:"",modelValue:t.selected_employee_data.gender,"onUpdate:modelValue":n[16]||(n[16]=o=>t.selected_employee_data.gender=o),options:["MALE","FEMALE"],label:"Gender"},null,8,["disable","modelValue"]),O(me,{disable:!t.selected_employee_input,class:"col q-ml-sm",dense:"",filled:"",modelValue:t.selected_employee_data.birthdate,"onUpdate:modelValue":n[17]||(n[17]=o=>t.selected_employee_data.birthdate=o),label:"Birthdate",type:"date"},null,8,["disable","modelValue"])]),M("div",Ea,[O(me,{disable:!t.selected_employee_input,class:"col",dense:"",filled:"",modelValue:t.selected_employee_data.blood_type,"onUpdate:modelValue":n[18]||(n[18]=o=>t.selected_employee_data.blood_type=o),label:"Blood Type",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"]),O(me,{disable:!t.selected_employee_input,class:"col q-ml-sm",dense:"",filled:"",modelValue:t.selected_employee_data.contact_number,"onUpdate:modelValue":n[19]||(n[19]=o=>t.selected_employee_data.contact_number=o),label:"Contact Number",hint:""},null,8,["disable","modelValue"])]),O(me,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.emergency_name,"onUpdate:modelValue":n[20]||(n[20]=o=>t.selected_employee_data.emergency_name=o),label:"Emergency Contact Person",hint:"","lazy-rules":"",rules:[o=>o&&o.length>0||"* Field should not be empty!"]},null,8,["disable","modelValue","rules"]),O(me,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.emergency_number,"onUpdate:modelValue":n[21]||(n[21]=o=>t.selected_employee_data.emergency_number=o),label:"Emergency Contact Number",hint:""},null,8,["disable","modelValue"]),M("div",Ra,[M("div",Da,[O(me,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.date_issued,"onUpdate:modelValue":n[22]||(n[22]=o=>t.selected_employee_data.date_issued=o),label:"Date Issued",type:"date"},null,8,["disable","modelValue"])]),M("div",Ua,[O(me,{disable:!t.selected_employee_input,dense:"",filled:"",modelValue:t.selected_employee_data.date_expire,"onUpdate:modelValue":n[23]||(n[23]=o=>t.selected_employee_data.date_expire=o),label:"Valid Until",type:"date"},null,8,["disable","modelValue"])])]),n[28]||(n[28]=M("div",{class:"q-mt-sm"},null,-1)),O(Te,{disable:!t.selected_employee_input,class:"q-mr-sm",type:"submit"},{default:Z(()=>n[27]||(n[27]=[De("Save")])),_:1,__:[27]},8,["disable"]),O(Te,{disable:!t.selected_employee_input,label:"Download",onClick:n[24]||(n[24]=o=>t.downloadImage())},null,8,["disable"])]),_:1,__:[28]},8,["onSubmit","onReset"])])])]),M("div",Ma,[O(Xt,{style:{transform:"scale(0.5)",position:"absolute"},details:t.selected_employee_data,timestamp:t.timestamp,textFormat:t.textFormat,photoFormat:t.photoFormat},null,8,["details","timestamp","textFormat","photoFormat"]),O(on,{details:t.selected_employee_data,onOnPenDataSave:t.savePendata},null,8,["details","onOnPenDataSave"])])]),n[29]||(n[29]=M("div",{style:{"margin-bottom":"10px",width:"100%",height:"100px","background-color":"green",color:"wheat","text-align":"center"}},[M("h1",null,"PRE-RENDERED")],-1)),M("div",Ba,[O(Zt,{details:t.selected_employee_data,timestamp:t.timestamp,textFormat:t.textFormat,photoFormat:t.photoFormat},null,8,["details","timestamp","textFormat","photoFormat"]),O(rn,{details:t.selected_employee_data,onOnPenDataSave:t.savePendata},null,8,["details","onOnPenDataSave"])])]),O(at,{modelValue:t.showLoading,"onUpdate:modelValue":n[25]||(n[25]=o=>t.showLoading=o),persistent:""},{default:Z(()=>[O(st,{class:"q-pa-md flex flex-center",style:{}},{default:Z(()=>[O(Oo,{size:"50",color:"green"}),n[30]||(n[30]=M("div",{class:"q-ml-lg"}," Saving please wait...",-1))]),_:1,__:[30]})]),_:1},8,["modelValue"])]),_:1}))}});export{La as default};
